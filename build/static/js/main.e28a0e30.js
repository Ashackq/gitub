/*! For license information please see main.e28a0e30.js.LICENSE.txt */
!function(){var e={463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){$(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ie=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Se(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ie)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,It,Et,St=!1,Tt=[],Ct=null,At=null,Nt=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Nt&&Ut(Nt)&&(Nt=null),Rt.forEach(jt),Pt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return In}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Ur(e,0)}function Yn(e){if(W(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Gn(t,Wn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ir={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return xr[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Sr:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Kn(u))if($n)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ii(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Si(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ai=Ii(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ai),Ei(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Si(Ci,e),Si(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Si(Ci,e)):Ei(Ai),Si(Ai,n)}var Ui=null,ji=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Gi=null,Hi=0,Wi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Ki++]=Hi,qi[Ki++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Xi,Wi[Qi++]=$i,Wi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Xi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Ni:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=Ya(!0),$a=Ya(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Si(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ko(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:$o,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:$o,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?$a(t,null,n,r):Xa(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Os,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Os,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Os,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Os,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Ri(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)Ku(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ri(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ri(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ou,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=Xi,Wi[Qi++]=$i,Wi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=ju(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Oc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Oc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Wu(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Du(e,t),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ou(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),Du(e,t),null===e&&Br(t.stateNode.containerInfo),Wu(t),null;case 10:return _a(t.type._context),Wu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*$e()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(){},Ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu=!1,$u=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!$u&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,ds(e,t,n),$u=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&$(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=$e())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,ms(t,e),$u=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){_s(h);continue}}null!==p?(p.return=d,Zu=p):_s(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Xu;var c=$u;if(Xu=o,($u=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,bs(a,t,n),a=a.sibling;Zu=i,Xu=u,$u=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Is,Es=Math.ceil,Ss=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Rs=null,Ps=0,Ds=0,Os=Ii(0),Ls=0,Ms=null,Fs=0,Us=0,js=0,Vs=null,zs=null,Bs=0,qs=1/0,Ks=null,Gs=!1,Hs=null,Ws=null,Qs=!1,Ys=null,Xs=0,$s=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&As)?$e():-1!==Zs?Zs:Zs=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<$s)throw $s=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(Us|=n),4===Ls&&sc(e,Ps)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=$e()+500,ji&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ps:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Ps===t||(Ks=null,qs=$e()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Ss.current=o,As=i,null!==Rs?t=0:(Ns=null,Ps=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,zs,Ks);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zs,Ks),t);break}_c(e,zs,Ks);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zs,Ks),r);break}_c(e,zs,Ks);break;default:throw Error(a(329))}}}return ic(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~js,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zs,Ks),ic(e,$e()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=$e()+500,ji&&Bi())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&As)&&xc();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function hc(){Ds=Os.current,Ei(Os)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Rs=e=Oc(e.current,null),Ps=Ds=t,Ls=0,Ms=null,js=Us=Fs=0,zs=Vs=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function pc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function vc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&Us)||sc(Ns,Ps)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Ps===t||(Ks=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Ss.current=r,null!==Rs)throw Error(a(261));return Ns=null,Ps=0,Ls}function gc(){for(;null!==Rs;)bc(Rs)}function kc(){for(;null!==Rs&&!Ye();)bc(Rs)}function bc(e){var t=Is(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?wc(e):Rs=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Ds)))return void(Rs=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ls=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function _c(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Ys);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Rs=Ns=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Xe(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,Ys=e,Xs=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Hs,Hs=null,e;0!==(1&Xs)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Js?$s++:($s=0,Js=e):$s=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function xc(){if(null!==Ys){var e=bt(Xs),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Xs=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var b=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Zu=b;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Ec(s,s.return,_)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Ic(e,t,n){e=Oa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Oa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ps&n)===n&&(4===Ls||3===Ls&&(130023424&Ps)===Ps&&500>$e()-Bs?dc(e,0):js|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return We(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Mc(n.children,i,o,t);case I:u=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Is=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Si(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ku(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,$e()),0===(6&As)&&(qs=$e()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},It=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(_);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,I=!1,E=null,S=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(I=!1,E=null)}}else I=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,x=function(){P.postMessage(null)}}else x=function(){y(N,0)};function D(e){E=e,I||(I=!0,x())}function O(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},311:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},225:function(e,t,n){"use strict";e.exports=n(311)},356:function(e,t,n){var r={"./akashpatel.jpg":686,"./amansingh.jpg":921,"./gauriket.jpg":50,"./rishabjain.jpg":739,"./sanketyendhe.jpg":545};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=356},686:function(e,t,n){"use strict";e.exports=n.p+"static/media/akashpatel.b8d2170e55a66b3ca665.jpg"},921:function(e,t,n){"use strict";e.exports=n.p+"static/media/amansingh.8268b46f3aced6949958.jpg"},50:function(e,t,n){"use strict";e.exports=n.p+"static/media/gauriket.00aca7cd585ef4e1d955.jpg"},739:function(e,t,n){"use strict";e.exports=n.p+"static/media/rishabjain.f68d0e0dc6069180319d.jpg"},545:function(e,t,n){"use strict";e.exports=n.p+"static/media/sanketyendhe.bca9221e3e560b62bed9.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ot},SDK_VERSION:function(){return Gn},_DEFAULT_ENTRY_NAME:function(){return Pn},_addComponent:function(){return Mn},_addOrOverwriteComponent:function(){return Fn},_apps:function(){return On},_clearComponents:function(){return zn},_components:function(){return Ln},_getProvider:function(){return jn},_registerComponent:function(){return Un},_removeServiceInstance:function(){return Vn},deleteApp:function(){return Yn},getApp:function(){return Wn},getApps:function(){return Qn},initializeApp:function(){return Hn},onLog:function(){return Jn},registerVersion:function(){return $n},setLogLevel:function(){return Zn}});var t=n(791),r=n.t(t,2),i=n(164),a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAllBMVEUMZMX///8AYcQAWcFDf8nL3PIAWrzQ3vMAYcI0eclZjtAucslAgsz6/v3x9/sgbclOhM8AX8QAYsAAX70AV70AWMLm7vgAXb4sdsw5fsoRbsVmltK6z+iUt+AMZcGDrN3c6fNvnddiltWqwuPA0+r0+vyOrt+lweR9pduuyueUst9Lh81pldd1mtYdbcunxOXO4u7Z4fGRyVlRAAAEKUlEQVR4nO3ce1faMBzG8SblEpSCiUUuQrkMhsCc+v7f3Ko4KjW/yLY0WXOez9mf4Ml3vSW1NYoAAAAAAAAAAAAAAAAAAAAAAAAAAADgYiriIsqU72FURcapGnXHk5aMue+xVCCT6n56x960Z2OpMt8jsozz+Xve0Xqc+h6SXbKzYOeSfex7UBap+J591lThHI3awPxw5KGcVFUj0RayaRrI6UaUj8GTpfA9NivknApkvTC2YdwjC9lc+h6dBWpFB7JFCIXx1FDIRr6HZ0Fq2EkZewjgXNMnLhVH34a+x/fPeMdYOK3/gchvTIFsXf/ZKR+bC+u/DcW1cS/d1f84jFobU+H3ANYXadNU2PU9PAvkd0Ngz/forMgMhU/1P5Xm4h0ZmHQCOAzz68WEPNdsg9iE+ZH4QATeBTApPYqf9PvoKIh99E2qOxQ3jVvf47JHDT5fMl5GAQW+3tNvnF/4N3shwrhJc8Ljw/Q0Q13MJ4GcRc8IORjP99vZfpWlQe2gH3EZx7Gs/4IJAADqQ3DJX/+FM38vqHyKlA5Hhx+Pj49X43468P34CheEiz9Z+pTMlrvFaQ6YbNrblRpKf6vNbHRNKX2yT/kwSVd5XluzGGs//Ew9NfIGS/RYs3X2yUGzp7dpnMYu+zPql1mbp46f+XxeSCkVxrpt8+bmWJgJOTPeYP7m5QkWi4Wye0d94t3m3sNmtFao5OyLvle7zPnRaKlQCb6+IDBfXvddJ1oq5BH5WE7JXd/xwWilUKnJpYGM9a7dPk5mpfCWP18cmO+okdOtaKVwYHxm5ZP1wOWNPBuFneUfBTK2dHkzyEbhwfirco3NxOF+aqPw8rPMbzuHV34bhX+h4e6q6KnQ4ZM6ngrZyNlG9FXo7hfMvgp7zt7o8FXIDq52U2+FznbTKgovmgAsalq4mB0mQqjJYfvler98o6sWhevuYPh2C5jz4WD1ReMPR4soi4W91dmtXy7MK469o7mpvcLn8nRaSWPi9PzH/++FCXvW3LuXpoXxi6MllK1tqHtGLBMd0zccLYNtFR60W8T0wkqv7yTQVuGTfpfLuvRXkms3sxo7hQlx/yy7NayOO3Uq3MXExY148PFY6OZyYafwihqsXNJfGteoMCGXQoYfzxo1KmxSO2kkJvTLcXUq3BreraFnp3UqNLwT3aJPpnUqPNBjTV+CKDScFVv0t+pUaLiytegXq1BoCQoLKNRDYfVQWEChHgqrh8ICCvVQWD0UFlCoh8LqobCAQj0UVg+FBRTqobB6KCygUA+F1UNhAYV6KKweCgso1ENh9VBYQKEeCquHwkKAhe1SIf2UoaFwSP+/dB29FtTvUsbnH+Q3VxTDmxOq+zffskqJiOtFpZda+OV/M6uQKepLof0NWAAAAAAAAAAAAAAAAAAAAAAAAAAAgAr8Aj5RWY0PDbn2AAAAAElFTkSuQmCC",o=n(184),u=function(){var e=[{name:"Gauri Ket",role:"President",photo:"gauriket.jpg",linkedin:"https://www.linkedin.com/in/gauri-ket-877296220/"},{name:"Aman Singh",role:"Vice President",photo:"amansingh.jpg",linkedin:"https://www.linkedin.com/in/aman-singh-b13b3b219/"},{name:"Sanket Yendhe",role:"Design Head",photo:"sanketyendhe.jpg",linkedin:"https://www.linkedin.com/in/sanket-yendhe-3640b7234/"},{name:"Rishab Jain",role:"Treasurer",photo:"rishabjain.jpg",linkedin:"https://www.linkedin.com/in/rishabh-jain-b57b20200/"},{name:"Akash Patel",role:"Management Head",photo:"akashpatel.jpg",linkedin:"https://www.linkedin.com/in/akash-patel-8a6107237/"}];return(0,o.jsxs)("div",{className:"team-page",children:[(0,o.jsx)("h1",{children:"Meet our Team"}),(0,o.jsxs)("div",{className:"team-member president",children:[(0,o.jsxs)("div",{className:"img-container",children:[(0,o.jsx)("img",{src:n(356)("./".concat(e[0].photo)),alt:e[0].name}),(0,o.jsxs)("div",{className:"linkedin-cover",children:[(0,o.jsx)("img",{id:"linke",src:a,alt:"loo"}),(0,o.jsx)("a",{href:e[0].linkedin,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]})]}),(0,o.jsx)("h2",{children:e[0].name}),(0,o.jsx)("p",{children:e[0].role})]}),(0,o.jsx)("div",{className:"team-members",children:e.slice(1).map((function(e){return(0,o.jsxs)("div",{className:"team-member",children:[(0,o.jsxs)("div",{className:"img-container",children:[(0,o.jsx)("img",{src:n(356)("./".concat(e.photo)),alt:e.name}),(0,o.jsxs)("div",{className:"linkedin-cover",children:[(0,o.jsx)("img",{id:"linke",src:a,alt:"loo"}),(0,o.jsx)("a",{href:e.linkedin,target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})]})]}),(0,o.jsx)("h2",{children:e.name}),(0,o.jsx)("p",{children:e.role})]},e.name)}))})]})};function s(e){if(Array.isArray(e))return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return s(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||l(e,t)||f()}var d=n(225),p={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v=d.createContext&&d.createContext(p),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m.apply(this,arguments)},y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function g(e){return e&&e.map((function(e,t){return d.createElement(e.tag,m({key:t},e.attr),g(e.child))}))}function k(e){return function(t){return d.createElement(b,m({attr:m({},e.attr)},t),g(e.child))}}function b(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=y(e,["attr","size","title"]),u=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),d.createElement("svg",m({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:m(m({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&d.createElement("title",null,a),e.children)};return void 0!==v?d.createElement(v.Consumer,null,(function(e){return t(e)})):t(p)}function w(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z"}}]})(e)}function _(e){return k({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM9 11H21V13H9V11ZM3 18H21V20H3V18Z"}}]})(e)}var x,I=n.p+"static/media/logo.7af9c2e6ebed34dc771f.jpg",E=n.p+"static/media/logo1.fbfa99632708af3e3e10.jpg";function S(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function T(e){return function(e){if(Array.isArray(e))return c(e)}(e)||S(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function N(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function P(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){var t=M();return function(){var n,r=L(e);if(t){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}(this,n)}}function j(e,t,n){return j=M()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&D(i,n.prototype),i},j.apply(null,arguments)}function V(e){var t="function"===typeof Map?new Map:void 0;return V=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return j(e,arguments,L(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),D(r,e)},V(e)}function z(e){return s(e)||S(e)||l(e)||f()}function B(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(x||(x={}));var K,G="popstate";function H(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function W(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Q(e,t){return{usr:e.state,key:e.key,idx:t}}function Y(e,t,n,r){return void 0===n&&(n=null),q({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?$(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function X(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function $(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function J(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=x.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=x.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:X(e);return H(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(q({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(G,p),f=e,function(){o.removeEventListener(G,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=x.Push;var r=Y(m.location,e,t);n&&n(r,e);var i=Q(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=x.Replace;var r=Y(m.location,e,t);n&&n(r,e);var i=Q(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(K||(K={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function Z(e,t,n){void 0===n&&(n="/");var r=de(("string"===typeof t?$(t):t).pathname||"/",n);if(null==r)return null;var i=ee(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=le(i[o],he(r));return a}function ee(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(H(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ye([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(H(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),ee(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:ce(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=B(te(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function te(e){var t=e.split("/");if(0===t.length)return[];var n=z(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=te(i.join("/")),s=[];return s.push.apply(s,T(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,T(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var ne=/^:\w+$/,re=3,ie=2,ae=1,oe=10,ue=-2,se=function(e){return"*"===e};function ce(e,t){var n=e.split("/"),r=n.length;return n.some(se)&&(r+=ue),t&&(r+=ie),n.filter((function(e){return!se(e)})).reduce((function(e,t){return e+(ne.test(t)?re:""===t?ae:oe)}),r)}function le(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=fe({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ye([i,l.pathname]),pathnameBase:ge(ye([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ye([i,l.pathnameBase]))}return a}function fe(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);W("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=h(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return W(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function he(e){try{return decodeURI(e)}catch(t){return W(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function de(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function pe(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ve(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function me(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=$(e):(H(!(i=q({},e)).pathname||!i.pathname.includes("?"),pe("?","pathname","search",i)),H(!i.pathname||!i.pathname.includes("#"),pe("#","pathname","hash",i)),H(!i.search||!i.search.includes("#"),pe("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?$(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ke(a),hash:be(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ye=function(e){return e.join("/").replace(/\/\/+/g,"/")},ge=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ke=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},be=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},we=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n)}(V(Error));function _e(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var xe=["post","put","patch","delete"],Ie=(new Set(xe),["get"].concat(xe));new Set(Ie),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}var Se=t.createContext(null);var Te=t.createContext(null);var Ce=t.createContext(null);var Ae=t.createContext(null);var Ne=t.createContext(null);var Re=t.createContext({outlet:null,matches:[],isDataRoute:!1});var Pe=t.createContext(null);function De(){return null!=t.useContext(Ne)}function Oe(){return De()||H(!1),t.useContext(Ne).location}function Le(e){t.useContext(Ae).static||t.useLayoutEffect(e)}function Me(){return t.useContext(Re).isDataRoute?function(){var e=He(Ke.UseNavigateStable).router,n=Qe(Ge.UseNavigateStable),r=t.useRef(!1);Le((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,Ee({fromRouteId:n},i)))}),[e,n]);return i}():function(){De()||H(!1);var e=t.useContext(Se),n=t.useContext(Ae),r=n.basename,i=n.navigator,a=t.useContext(Re).matches,o=Oe().pathname,u=JSON.stringify(ve(a).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);return Le((function(){s.current=!0})),t.useCallback((function(t,n){if(void 0===n&&(n={}),s.current)if("number"!==typeof t){var a=me(t,JSON.parse(u),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:ye([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,u,o,e])}()}function Fe(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(Re).matches,a=Oe().pathname,o=JSON.stringify(ve(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return me(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ue(e,n,r){De()||H(!1);var i,a=t.useContext(Ae).navigator,o=t.useContext(Re).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,Oe());if(n){var f,h="string"===typeof n?$(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||H(!1),i=h}else i=l;var d=i.pathname||"/",p=Z(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=qe(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:ye([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ye([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(Ne.Provider,{value:{location:Ee({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:x.Pop}},v):v}function je(){var e=function(){var e,n=t.useContext(Pe),r=We(Ge.UseRouteError),i=Qe(Ge.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=_e(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Ve=t.createElement(je,null),ze=function(e){O(r,e);var n=U(r);function r(e){var t;return C(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return P(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Re.Provider,{value:this.props.routeContext},t.createElement(Pe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Be(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(Se);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Re.Provider,{value:n},i)}function qe(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,u=null==(i=r)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||H(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Ve);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=s?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Be,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(ze,{location:r.location,revalidation:r.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Ke=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ke||{}),Ge=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ge||{});function He(e){var n=t.useContext(Se);return n||H(!1),n}function We(e){var n=t.useContext(Te);return n||H(!1),n}function Qe(e){var n=function(e){var n=t.useContext(Re);return n||H(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||H(!1),r.route.id}r.startTransition;function Ye(e){H(!1)}function Xe(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?x.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;De()&&H(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=$(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,_=void 0===w?null:w,I=p.key,E=void 0===I?"default":I,S=t.useMemo((function(){var e=de(m,h);return null==e?null:{location:{pathname:e,search:g,hash:b,state:_,key:E},navigationType:s}}),[h,m,g,b,_,E,s]);return null==S?null:t.createElement(Ae.Provider,{value:d},t.createElement(Ne.Provider,{children:a,value:S}))}function $e(e){var t=e.children,n=e.location;return Ue(et(t),n)}var Je=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Je||{}),Ze=new Promise((function(){}));t.Component;function et(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(T(n),[i]);if(e.type!==t.Fragment){e.type!==Ye&&H(!1),e.props.index&&e.props.children&&H(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=et(e.props.children,a)),r.push(o)}else r.push.apply(r,et(e.props.children,a))}})),r}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}function nt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var rt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var it=r.startTransition;function at(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,u=t.useRef();null==u.current&&(u.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),J((function(e,t){var n=e.location;return Y("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:X(t)}),null,n)));var s=u.current,c=h(t.useState({action:s.action,location:s.location}),2),l=c[0],f=c[1],d=(a||{}).v7_startTransition,p=t.useCallback((function(e){d&&it?it((function(){return f(e)})):f(e)}),[f,d]);return t.useLayoutEffect((function(){return s.listen(p)}),[s,p]),t.createElement(Xe,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}var ot="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ut=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,st=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=nt(e,rt),d=t.useContext(Ae).basename,p=!1;if("string"===typeof l&&ut.test(l)&&(r=l,ot))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=de(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(b){}var g=function(e,n){var r=(void 0===n?{}:n).relative;De()||H(!1);var i=t.useContext(Ae),a=i.basename,o=i.navigator,u=Fe(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ye([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=Me(),l=Oe(),f=Fe(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:X(l)===X(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return t.createElement("a",tt({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var ct,lt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(ct||(ct={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(lt||(lt={}));var ft=function(){var e=h((0,t.useState)(!1),2),n=e[0],r=e[1];return(0,o.jsxs)("div",{className:"navbar",children:[(0,o.jsx)("div",{className:"navbar-links_logo",children:(0,o.jsx)(st,{to:"/",children:(0,o.jsx)("img",{src:I,alt:"loo"})})}),(0,o.jsx)("div",{className:"navbar-links",children:(0,o.jsxs)("div",{className:"navbar-links_container",children:[(0,o.jsx)("p",{children:(0,o.jsx)(st,{to:"/About",children:"About"})}),(0,o.jsx)("p",{children:(0,o.jsx)(st,{to:"/Event",children:"Events"})}),(0,o.jsx)("p",{children:(0,o.jsx)(st,{to:"/Teams",children:"Teams"})}),(0,o.jsx)("p",{children:(0,o.jsx)(st,{to:"/Con",children:"Let's Connect"})}),(0,o.jsx)("p",{children:(0,o.jsx)(st,{to:"/Fut",children:"Future Plans"})})]})}),(0,o.jsx)("div",{className:"navbar-links_logo1",children:(0,o.jsx)("img",{src:E,alt:"mitloo"})}),(0,o.jsxs)("div",{className:"navbar-menu",children:[n?(0,o.jsx)(w,{color:"#fff",size:27,onClick:function(){return r(!1)}}):(0,o.jsx)(_,{color:"#fff",size:27,onClick:function(){return r(!0)}}),n&&(0,o.jsx)("div",{className:"navbar-menu_container scale-up-center",children:(0,o.jsxs)("div",{className:"navbar-menu_container-links",children:[(0,o.jsx)("p",{children:(0,o.jsx)(st,{to:"/About",children:"About"})}),(0,o.jsx)("p",{children:(0,o.jsx)(st,{to:"/Event",children:"Event"})}),(0,o.jsx)("p",{children:(0,o.jsx)(st,{to:"/Teams",children:"Teams"})}),(0,o.jsx)("p",{children:(0,o.jsx)(st,{to:"/Con",children:"Let's Connect"})}),(0,o.jsx)("p",{children:(0,o.jsx)(st,{to:"/Fut",children:"Future Plans"})})]})})]})]})},ht=function(e){var t=e.count,n=e.hfsize,r=e.heading,i=e.fds,a=e.description,u=e.hrmarl,s=e.hrmarr,c=e.pos,l=e.hrenable,f=e.spcolor,h=e.color,d=e.wordColors,p=e.marginLeft,v=e.marginRight;return(0,o.jsxs)("div",{className:"details-container",style:{marginLeft:p,marginRight:v,textAlign:c},children:[(0,o.jsx)("h2",{className:"center",style:{color:f,fontSize:n,display:l},children:r}),(0,o.jsx)("hr",{style:{display:l,marginLeft:u,marginRight:s,borderColor:f}}),function(){for(var e=[],n=0;n<t;n++)e.push((0,o.jsx)("br",{},n));return e}(),(0,o.jsx)("p",{className:"center",style:{color:h,fontSize:i},dangerouslySetInnerHTML:function(){var e=a||"";return d.forEach((function(t){var n=t.word,r=t.scolor,i=e.indexOf(n);if(-1!==i){var a=i+n.length,o='<span style="color: '.concat(r,'">').concat(n,"</span>");e=e.substring(0,i)+o+e.substring(a)}})),{__html:e=e.replace(/\n/g,"<br />")}}()})]})};function dt(){dt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new E(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(S([])));y&&y!==t&&n.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==A(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e||""===e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}throw new TypeError(A(e)+" is not iterable")}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),s(g,u,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function pt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function vt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){pt(a,r,i,o,u,"next",e)}function u(e){pt(a,r,i,o,u,"throw",e)}o(void 0)}))}}function mt(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},gt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(yt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new kt;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},kt=function(e){O(n,e);var t=U(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return P(n)}(V(Error)),bt=function(e){return function(e){var t=yt(e);return gt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},wt=function(e){try{return gt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _t(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=_t(e[n],t[n]));return e}var xt=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},It=function(){try{return xt()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&wt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Et=function(){var e;return null===(e=It())||void 0===e?void 0:e.config},St=function(){function e(){var t=this;C(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return P(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Tt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[bt(JSON.stringify({alg:"none",type:"JWT"})),bt(JSON.stringify(a)),""].join(".")}function Ct(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function At(){var e,t=null===(e=It())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Nt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Rt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Pt(){var e=Ct();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Dt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Ot=function(e){O(n,e);var t=U(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(F(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(F(a),Lt.prototype.create),a}return P(n)}(V(Error)),Lt=function(){function e(t,n,r){C(this,e),this.service=t,this.serviceName=n,this.errors=r}return P(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Mt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ot(n,a,t)}}]),e}();var Mt=/\{\$([^}]+)}/g;function Ft(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ut(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function jt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Vt(u)&&Vt(s)){if(!jt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Vt(e){return null!==e&&"object"===typeof e}function zt(e){for(var t=[],n=function(){var e=h(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Bt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=h(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function qt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Kt(e,t){var n=new Gt(e,t);return n.subscribe.bind(n)}var Gt=function(){function e(t,n){var r=this;C(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return P(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=B(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ht),void 0===r.error&&(r.error=Ht),void 0===r.complete&&(r.complete=Ht);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ht(){}function Wt(e){return e&&e._delegate?e._delegate:e}var Qt=function(){function e(t,n,r){C(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return P(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Yt="[DEFAULT]",Xt=function(){function e(t,n){C(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return P(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new St;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Yt})}catch(s){}var t,n=B(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=h(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(T(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),T(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=B(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=h(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=B(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Yt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt;return this.component?this.component.multipleInstances?e:Yt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var $t,Jt,Zt=function(){function e(t){C(this,e),this.name=t,this.providers=new Map}return P(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Xt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),en=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Jt||(Jt={}));var tn={debug:Jt.DEBUG,verbose:Jt.VERBOSE,info:Jt.INFO,warn:Jt.WARN,error:Jt.ERROR,silent:Jt.SILENT},nn=Jt.INFO,rn=(mt($t={},Jt.DEBUG,"log"),mt($t,Jt.VERBOSE,"log"),mt($t,Jt.INFO,"info"),mt($t,Jt.WARN,"warn"),mt($t,Jt.ERROR,"error"),$t),an=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=rn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},on=function(){function e(t){C(this,e),this.name=t,this._logLevel=nn,this._logHandler=an,this._userLogHandler=null,en.push(this)}return P(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Jt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?tn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Jt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Jt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Jt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Jt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Jt.INFO].concat(t)),this._logHandler.apply(this,[this,Jt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Jt.WARN].concat(t)),this._logHandler.apply(this,[this,Jt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Jt.ERROR].concat(t)),this._logHandler.apply(this,[this,Jt.ERROR].concat(t))}}]),e}();function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cn,ln,fn=function(e,t){return t.some((function(t){return e instanceof t}))};var hn=new WeakMap,dn=new WeakMap,pn=new WeakMap,vn=new WeakMap,mn=new WeakMap;var yn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return dn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||pn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function gn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ln||(ln=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(wn(this),n),bn(hn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bn(e.apply(wn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[wn(this),t].concat(r));return pn.set(a,t.sort?t.sort():[t]),bn(a)}}function kn(e){return"function"===typeof e?gn(e):(e instanceof IDBTransaction&&function(e){if(!dn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));dn.set(e,t)}}(e),fn(e,cn||(cn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,yn):e)}function bn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(bn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&hn.set(t,e)})).catch((function(){})),mn.set(t,e),t}(e);if(vn.has(e))return vn.get(e);var t=kn(e);return t!==e&&(vn.set(e,t),mn.set(t,e)),t}var wn=function(e){return mn.get(e)};var _n,xn,In=["get","getKey","getAll","getAllKeys","count"],En=["put","add","delete","clear"],Sn=new Map;function Tn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Sn.get(t))return Sn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=En.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||In.includes(n))){var a=function(){var e=vt(dt().mark((function e(t){var a,o,u,s,c,l,f=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Sn.set(t,a),a}}}yn=function(e){return sn(sn({},e),{},{get:function(t,n,r){return Tn(t,n)||e.get(t,n,r)},has:function(t,n){return!!Tn(t,n)||e.has(t,n)}})}(yn);var Cn=function(){function e(t){C(this,e),this.container=t}return P(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var An="@firebase/app",Nn="0.9.17",Rn=new on("@firebase/app"),Pn="[DEFAULT]",Dn=(mt(_n={},An,"fire-core"),mt(_n,"@firebase/app-compat","fire-core-compat"),mt(_n,"@firebase/analytics","fire-analytics"),mt(_n,"@firebase/analytics-compat","fire-analytics-compat"),mt(_n,"@firebase/app-check","fire-app-check"),mt(_n,"@firebase/app-check-compat","fire-app-check-compat"),mt(_n,"@firebase/auth","fire-auth"),mt(_n,"@firebase/auth-compat","fire-auth-compat"),mt(_n,"@firebase/database","fire-rtdb"),mt(_n,"@firebase/database-compat","fire-rtdb-compat"),mt(_n,"@firebase/functions","fire-fn"),mt(_n,"@firebase/functions-compat","fire-fn-compat"),mt(_n,"@firebase/installations","fire-iid"),mt(_n,"@firebase/installations-compat","fire-iid-compat"),mt(_n,"@firebase/messaging","fire-fcm"),mt(_n,"@firebase/messaging-compat","fire-fcm-compat"),mt(_n,"@firebase/performance","fire-perf"),mt(_n,"@firebase/performance-compat","fire-perf-compat"),mt(_n,"@firebase/remote-config","fire-rc"),mt(_n,"@firebase/remote-config-compat","fire-rc-compat"),mt(_n,"@firebase/storage","fire-gcs"),mt(_n,"@firebase/storage-compat","fire-gcs-compat"),mt(_n,"@firebase/firestore","fire-fst"),mt(_n,"@firebase/firestore-compat","fire-fst-compat"),mt(_n,"fire-js","fire-js"),mt(_n,"firebase","fire-js-all"),_n),On=new Map,Ln=new Map;function Mn(e,t){try{e.container.addComponent(t)}catch(n){Rn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Fn(e,t){e.container.addOrOverwriteComponent(t)}function Un(e){var t=e.name;if(Ln.has(t))return Rn.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ln.set(t,e);var n,r=B(On.values());try{for(r.s();!(n=r.n()).done;){Mn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function jn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pn;jn(e,t).clearInstance(n)}function zn(){Ln.clear()}var Bn=(mt(xn={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),mt(xn,"bad-app-name","Illegal App name: '{$appName}"),mt(xn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),mt(xn,"app-deleted","Firebase App named '{$appName}' already deleted"),mt(xn,"no-options","Need to provide options, when not being deployed to hosting via source."),mt(xn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),mt(xn,"invalid-log-argument","First argument to `onLog` must be null or a function."),mt(xn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),mt(xn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),mt(xn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),mt(xn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),xn),qn=new Lt("app","Firebase",Bn),Kn=function(){function e(t,n,r){var i=this;C(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",(function(){return i}),"PUBLIC"))}return P(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}]),e}(),Gn="10.3.0";function Hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw qn.create("bad-app-name",{appName:String(i)});if(n||(n=Et()),!n)throw qn.create("no-options");var a=On.get(i);if(a){if(jt(n,a.options)&&jt(r,a.config))return a;throw qn.create("duplicate-app",{appName:i})}var o,u=new Zt(i),s=B(Ln.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Kn(n,r,u);return On.set(i,l),l}function Wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=On.get(e);if(!t&&e===Pn&&Et())return Hn();if(!t)throw qn.create("no-app",{appName:e});return t}function Qn(){return Array.from(On.values())}function Yn(e){return Xn.apply(this,arguments)}function Xn(){return(Xn=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!On.has(n)){e.next=6;break}return On.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $n(e,t,n){var r,i=null!==(r=Dn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Rn.warn(u.join(" "))}Un(new Qt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Jn(e,t){if(null!==e&&"function"!==typeof e)throw qn.create("invalid-log-argument");!function(e,t){var n,r=B(en);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=tn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Jt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Zn(e){var t;t=e,en.forEach((function(e){e.setLogLevel(t)}))}var er="firebase-heartbeat-database",tr=1,nr="firebase-heartbeat-store",rr=null;function ir(){return rr||(rr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=bn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(bn(u.result),e.oldVersion,e.newVersion,bn(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(er,tr,{upgrade:function(e,t){if(0===t)e.createObjectStore(nr)}}).catch((function(e){throw qn.create("idb-open",{originalErrorMessage:e.message})}))),rr}function ar(e){return or.apply(this,arguments)}function or(){return or=vt(dt().mark((function e(t){var n,r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ir();case 3:return n=e.sent,e.next=6,n.transaction(nr).objectStore(nr).get(cr(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Ot?Rn.warn(e.t0.message):(i=qn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Rn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),or.apply(this,arguments)}function ur(e,t){return sr.apply(this,arguments)}function sr(){return sr=vt(dt().mark((function e(t,n){var r,i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ir();case 3:return r=e.sent,i=r.transaction(nr,"readwrite"),a=i.objectStore(nr),e.next=8,a.put(n,cr(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Ot?Rn.warn(e.t0.message):(o=qn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Rn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),sr.apply(this,arguments)}function cr(e){return"".concat(e.name,"!").concat(e.options.appId)}var lr=function(){function e(t){var n=this;C(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new vr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return P(e,[{key:"triggerHeartbeat",value:function(){var e=vt(dt().mark((function e(){var t,n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=fr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=vt(dt().mark((function e(){var t,n,r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=fr(),n=hr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=bt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fr(){return(new Date).toISOString().substring(0,10)}function hr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=B(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),mr(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),mr(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var dr,pr,vr=function(){function e(t){C(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return P(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ar(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ur(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ur(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(T(r.heartbeats),T(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mr(e){return bt(JSON.stringify({version:2,heartbeats:e})).length}dr="",Un(new Qt("platform-logger",(function(e){return new Cn(e)}),"PRIVATE")),Un(new Qt("heartbeat",(function(e){return new lr(e)}),"PRIVATE")),$n(An,Nn,dr),$n(An,Nn,"esm2017"),$n("fire-js","");var yr=function(){function e(t,n){var r=this;C(this,e),this._delegate=t,this.firebase=n,Mn(t,new Qt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return P(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Yn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Mn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Fn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),gr=(mt(pr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),mt(pr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),pr),kr=new Lt("app-compat","Firebase",gr);var br=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Hn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ft(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:$n,setLogLevel:Zn,onLog:Jn,apps:null,SDK_VERSION:Gn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Un(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw kr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&_t(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ft(n,e=e||Pn))throw kr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(yr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){_t(n,e)},createSubscribe:Kt,ErrorFactory:Lt,deepExtend:_t}),n}(),wr=new on("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){wr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _r=self.firebase.SDK_VERSION;_r&&_r.indexOf("LITE")>=0&&wr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xr=br;!function(e){$n("@firebase/app-compat","0.2.17",e)}();function Ir(){return Ir="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ir.apply(this,arguments)}xr.registerVersion("firebase","10.3.0","app-compat");var Er,Sr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Tr={},Cr=Cr||{},Ar=Sr||self;function Nr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Rr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Pr="closure_uid_"+(1e9*Math.random()>>>0),Dr=0;function Or(e,t,n){return e.call.apply(e.bind,arguments)}function Lr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Mr(e,t,n){return(Mr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Or:Lr).apply(null,arguments)}function Fr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ur(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function jr(){this.s=this.s,this.o=this.o}jr.prototype.s=!1,jr.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Pr)&&e[Pr]||(e[Pr]=++Dr))},jr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Vr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function zr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Br(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Nr(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function qr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}qr.prototype.h=function(){this.defaultPrevented=!0};var Kr=function(){if(!Ar.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ar.addEventListener("test",(function(){}),t),Ar.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Gr(e){return/^[\s\xa0]*$/.test(e)}function Hr(){var e=Ar.navigator;return e&&(e=e.userAgent)?e:""}function Wr(e){return-1!=Hr().indexOf(e)}function Qr(e){return Qr[" "](e),e}Qr[" "]=function(){};var Yr,Xr,$r=Wr("Opera"),Jr=Wr("Trident")||Wr("MSIE"),Zr=Wr("Edge"),ei=Zr||Jr,ti=Wr("Gecko")&&!(-1!=Hr().toLowerCase().indexOf("webkit")&&!Wr("Edge"))&&!(Wr("Trident")||Wr("MSIE"))&&!Wr("Edge"),ni=-1!=Hr().toLowerCase().indexOf("webkit")&&!Wr("Edge");function ri(){var e=Ar.document;return e?e.documentMode:void 0}e:{var ii="",ai=function(){var e=Hr();return ti?/rv:([^\);]+)(\)|;)/.exec(e):Zr?/Edge\/([\d\.]+)/.exec(e):Jr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ni?/WebKit\/(\S+)/.exec(e):$r?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ai&&(ii=ai?ai[1]:""),Jr){var oi=ri();if(null!=oi&&oi>parseFloat(ii)){Yr=String(oi);break e}}Yr=ii}if(Ar.document&&Jr){var ui=ri();Xr=ui||(parseInt(Yr,10)||void 0)}else Xr=void 0;var si=Xr;function ci(e,t){if(qr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ti){e:{try{Qr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:li[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ci.$.h.call(this)}}Ur(ci,qr);var li={2:"touch",3:"pen",4:"mouse"};ci.prototype.h=function(){ci.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fi="closure_listenable_"+(1e6*Math.random()|0),hi=0;function di(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++hi,this.fa=this.ia=!1}function pi(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function vi(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function mi(e){var t={};for(var n in e)t[n]=e[n];return t}var yi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gi(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<yi.length;a++)n=yi[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ki(e){this.src=e,this.g={},this.h=0}function bi(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Vr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(pi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function wi(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}ki.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=wi(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new di(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var _i="closure_lm_"+(1e6*Math.random()|0),xi={};function Ii(e,t,n,r,i){if(r&&r.once)return Si(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ii(e,t[a],n,r,i);return null}return n=Di(n),e&&e[fi]?e.O(t,n,Rr(r)?!!r.capture:!!r,i):Ei(e,t,n,!1,r,i)}function Ei(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Rr(i)?!!i.capture:!!i,u=Ri(e);if(u||(e[_i]=u=new ki(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ni;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Kr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ai(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Si(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Si(e,t[a],n,r,i);return null}return n=Di(n),e&&e[fi]?e.P(t,n,Rr(r)?!!r.capture:!!r,i):Ei(e,t,n,!0,r,i)}function Ti(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ti(e,t[a],n,r,i);else r=Rr(r)?!!r.capture:!!r,n=Di(n),e&&e[fi]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=wi(a=e.g[t],n,r,i))&&(pi(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ri(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wi(t,n,r,i)),(n=-1<e?t[e]:null)&&Ci(n))}function Ci(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[fi])bi(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ai(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ri(t))?(bi(n,e),0==n.h&&(n.src=null,t[_i]=null)):pi(e)}}}function Ai(e){return e in xi?xi[e]:xi[e]="on"+e}function Ni(e,t){if(e.fa)e=!0;else{t=new ci(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ci(e),e=n.call(r,t)}return e}function Ri(e){return(e=e[_i])instanceof ki?e:null}var Pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Di(e){return"function"===typeof e?e:(e[Pi]||(e[Pi]=function(t){return e.handleEvent(t)}),e[Pi])}function Oi(){jr.call(this),this.i=new ki(this),this.S=this,this.J=null}function Li(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new qr(t,e);else if(t instanceof qr)t.target=t.target||e;else{var i=t;gi(t=new qr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Mi(o,r,!0,t)&&i}if(i=Mi(o=t.g=e,r,!0,t)&&i,i=Mi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Mi(o=t.g=n[a],r,!1,t)&&i}function Mi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&bi(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ur(Oi,jr),Oi.prototype[fi]=!0,Oi.prototype.removeEventListener=function(e,t,n,r){Ti(this,e,t,n,r)},Oi.prototype.N=function(){if(Oi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pi(n[r]);delete t.g[e],t.h--}}this.J=null},Oi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Oi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fi=Ar.JSON.stringify,Ui=function(){function e(t,n){C(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return P(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function ji(){var e=Wi,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Vi=function(){function e(){C(this,e),this.h=this.g=null}return P(e,[{key:"add",value:function(e,t){var n=zi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),zi=new Ui((function(){return new Bi}),(function(e){return e.reset()})),Bi=function(){function e(){C(this,e),this.next=this.g=this.h=null}return P(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function qi(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ki(e){Ar.setTimeout((function(){throw e}),0)}var Gi,Hi=!1,Wi=new Vi,Qi=function(){var e=Ar.Promise.resolve(void 0);Gi=function(){e.then(Yi)}},Yi=function(){for(var e;e=ji();){try{e.h.call(e.g)}catch(n){Ki(n)}var t=zi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Hi=!1};function Xi(e,t){Oi.call(this),this.h=e||1,this.g=t||Ar,this.j=Mr(this.qb,this),this.l=Date.now()}function $i(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ji(e,t,n){if("function"===typeof e)n&&(e=Mr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Mr(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ar.setTimeout(e,t||0)}function Zi(e){e.g=Ji((function(){e.g=null,e.i&&(e.i=!1,Zi(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ur(Xi,Oi),(Er=Xi.prototype).ga=!1,Er.T=null,Er.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Li(this,"tick"),this.ga&&($i(this),this.start()))}},Er.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Er.N=function(){Xi.$.N.call(this),$i(this),delete this.g};var ea=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return P(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Zi(this)}},{key:"N",value:function(){Ir(L(n.prototype),"N",this).call(this),this.g&&(Ar.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(jr);function ta(e){jr.call(this),this.h=e,this.g={}}Ur(ta,jr);var na=[];function ra(e,t,n,r){Array.isArray(n)||(n&&(na[0]=n.toString()),n=na);for(var i=0;i<n.length;i++){var a=Ii(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ia(e){vi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ci(e)}),e),e.g={}}function aa(){this.g=!0}function oa(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Fi(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}ta.prototype.N=function(){ta.$.N.call(this),ia(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},aa.prototype.Ea=function(){this.g=!1},aa.prototype.info=function(){};var ua={},sa=null;function ca(){return sa=sa||new Oi}function la(e){qr.call(this,ua.Ta,e)}function fa(e){var t=ca();Li(t,new la(t))}function ha(e,t){qr.call(this,ua.STAT_EVENT,e),this.stat=t}function da(e){var t=ca();Li(t,new ha(t,e))}function pa(e,t){qr.call(this,ua.Ua,e),this.size=t}function va(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ar.setTimeout((function(){e()}),t)}ua.Ta="serverreachability",Ur(la,qr),ua.STAT_EVENT="statevent",Ur(ha,qr),ua.Ua="timingevent",Ur(pa,qr);var ma={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ya={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ga(){}function ka(e){return e.h||(e.h=e.i())}function ba(){}ga.prototype.h=null;var wa,_a={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xa(){qr.call(this,"d")}function Ia(){qr.call(this,"c")}function Ea(){}function Sa(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ta(this),this.P=Ca,e=ei?125:void 0,this.V=new Xi(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ta}function Ta(){this.i=null,this.g="",this.h=!1}Ur(xa,qr),Ur(Ia,qr),Ur(Ea,ga),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},wa=new Ea;var Ca=45e3,Aa={},Na={};function Ra(e,t,n){e.L=1,e.v=Xa(Ga(t)),e.s=n,e.S=!0,Pa(e,null)}function Pa(e,t){e.G=Date.now(),Ma(e),e.A=Ga(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),co(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ta,e.g=fu(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ea(Mr(e.Pa,e,e.g),e.O)),ra(e.U,e.g,"readystatechange",e.nb),t=e.I?mi(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),fa(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Da(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Oa(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=La(e,n))==Na){4==t&&(e.o=4,da(14),i=!1),oa(e.j,e.m,null,"[Incomplete Response]");break}if(r==Aa){e.o=4,da(15),oa(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}oa(e.j,e.m,r,null),za(e,r)}Da(e)&&r!=Na&&r!=Aa&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,da(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ru(t),t.M=!0,da(11))):(oa(e.j,e.m,n,"[Invalid Chunked Response]"),Va(e),ja(e))}function La(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Na:(n=Number(t.substring(n,r)),isNaN(n)?Aa:(r+=1)+n>t.length?Na:(t=t.slice(r,r+n),e.C=r+n,t))}function Ma(e){e.Y=Date.now()+e.P,Fa(e,e.P)}function Fa(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=va(Mr(e.lb,e),t)}function Ua(e){e.B&&(Ar.clearTimeout(e.B),e.B=null)}function ja(e){0==e.l.H||e.J||ou(e.l,e)}function Va(e){Ua(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,$i(e.V),ia(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function za(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||yo(n.i,e)))if(!e.K&&yo(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;au(n),Yo(n)}nu(n),da(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=va(Mr(n.ib,n),6e3));if(1>=mo(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else su(n,11)}else if((e.K||n.g==e)&&au(n),!Gr(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(go(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Ya(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=lu(r,r.J?r.pa:null,r.Y),d.K){ko(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Ua(p),Ma(p)),r.g=d}else tu(r);0<n.j.length&&$o(n)}else"stop"!=a[0]&&"close"!=a[0]||su(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?su(n,7):Qo(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}fa()}catch(a){}}function Ba(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Nr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Nr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Nr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Er=Sa.prototype).setTimeout=function(e){this.P=e},Er.nb=function(e){e=e.target;var t=this.M;t&&3==Bo(e)?t.l():this.Pa(e)},Er.Pa=function(e){try{if(e==this.g)e:{var t=Bo(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||ei||this.g&&(this.h.h||this.g.ja()||qo(this.g)))){this.J||4!=t||7==n||fa(),Ua(this);var r=this.g.da();this.ca=r;t:if(Da(this)){var i=qo(this.g);e="";var a=i.length,o=4==Bo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Va(this),ja(this);var u="";break t}this.h.i=new Ar.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gr(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,da(12),Va(this),ja(this);break e}oa(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,za(this,r)}this.S?(Oa(this,t,u),ei&&this.i&&3==t&&(ra(this.U,this.V,"tick",this.mb),this.V.start())):(oa(this.j,this.m,u,null),za(this,u)),4==t&&Va(this),this.i&&!this.J&&(4==t?ou(this.l,this):(this.i=!1,Ma(this)))}else(function(e){var t={};e=(e.g&&2<=Bo(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Gr(e[n])){var r=qi(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,da(12)):(this.o=0,da(13)),Va(this),ja(this)}}}catch(t){}},Er.mb=function(){if(this.g){var e=Bo(this.g),t=this.g.ja();this.C<t.length&&(Ua(this),Oa(this,e,t),this.i&&4!=e&&Ma(this))}},Er.cancel=function(){this.J=!0,Va(this)},Er.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(fa(),da(17)),Va(this),this.o=2,ja(this)):Fa(this,this.Y-e)};var qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ka){this.h=e.h,Ha(this,e.j),this.s=e.s,this.g=e.g,Wa(this,e.m),this.l=e.l;var t=e.i,n=new ao;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Qa(this,n),this.o=e.o}else e&&(t=String(e).match(qa))?(this.h=!1,Ha(this,t[1]||"",!0),this.s=$a(t[2]||""),this.g=$a(t[3]||"",!0),Wa(this,t[4]),this.l=$a(t[5]||"",!0),Qa(this,t[6]||"",!0),this.o=$a(t[7]||"")):(this.h=!1,this.i=new ao(null,this.h))}function Ga(e){return new Ka(e)}function Ha(e,t,n){e.j=n?$a(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wa(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qa(e,t,n){t instanceof ao?(e.i=t,function(e,t){t&&!e.j&&(oo(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(uo(this,t),co(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ja(t,ro)),e.i=new ao(t,e.h))}function Ya(e,t,n){e.i.set(t,n)}function Xa(e){return Ya(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $a(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ja(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Za),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Za(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ka.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ja(t,eo,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ja(t,eo,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ja(n,"/"==n.charAt(0)?no:to,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ja(n,io)),e.join("")};var eo=/[#\/\?@]/g,to=/[#\?:]/g,no=/[#\?]/g,ro=/[#\?@]/g,io=/#/g;function ao(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function oo(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function uo(e,t){oo(e),t=lo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function so(e,t){return oo(e),t=lo(e,t),e.g.has(t)}function co(e,t,n){uo(e,t),0<n.length&&(e.i=null,e.g.set(lo(e,t),zr(n)),e.h+=n.length)}function lo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Er=ao.prototype).add=function(e,t){oo(this),this.i=null,e=lo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Er.forEach=function(e,t){oo(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Er.ta=function(){oo(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Er.Z=function(e){oo(this);var t=[];if("string"===typeof e)so(this,e)&&(t=t.concat(this.g.get(lo(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Er.set=function(e,t){return oo(this),this.i=null,so(this,e=lo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Er.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Er.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var fo=P((function e(t,n){C(this,e),this.g=t,this.map=n}));function ho(e){this.l=e||po,Ar.PerformanceNavigationTiming?e=0<(e=Ar.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ar.g&&Ar.g.Ka&&Ar.g.Ka()&&Ar.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var po=10;function vo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function mo(e){return e.h?1:e.g?e.g.size:0}function yo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function go(e,t){e.g?e.g.add(t):e.h=t}function ko(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function bo(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=B(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return zr(e.i)}ho.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=B(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var wo,_o=function(){function e(){C(this,e)}return P(e,[{key:"stringify",value:function(e){return Ar.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Ar.JSON.parse(e,void 0)}}]),e}();function xo(){this.g=new _o}function Io(e,t,n){var r=n||"";try{Ba(e,(function(e,n){var i=e;Rr(e)&&(i=Fi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Eo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function So(e){this.l=e.fc||null,this.j=e.ob||!1}function To(e,t){Oi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Co,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ur(So,ga),So.prototype.g=function(){return new To(this.l,this.j)},So.prototype.i=(wo={},function(){return wo}),Ur(To,Oi);var Co=0;function Ao(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function No(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ro(e)}function Ro(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Er=To.prototype).open=function(e,t){if(this.readyState!=Co)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ro(this)},Er.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ar).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Er.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,No(this)),this.readyState=Co},Er.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ar.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ao(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Er.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?No(this):Ro(this),3==this.readyState&&Ao(this)}},Er.Za=function(e){this.g&&(this.response=this.responseText=e,No(this))},Er.Ya=function(e){this.g&&(this.response=e,No(this))},Er.ka=function(){this.g&&No(this)},Er.setRequestHeader=function(e,t){this.v.append(e,t)},Er.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Er.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(To.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Po=Ar.JSON.parse;function Do(e){Oi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Oo,this.L=this.M=!1}Ur(Do,Oi);var Oo="",Lo=/^https?$/i,Mo=["POST","PUT"];function Fo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Uo(e),Vo(e)}function Uo(e){e.F||(e.F=!0,Li(e,"complete"),Li(e,"error"))}function jo(e){if(e.h&&"undefined"!=typeof Cr&&(!e.C[1]||4!=Bo(e)||2!=e.da()))if(e.v&&4==Bo(e))Ji(e.La,0,e);else if(Li(e,"readystatechange"),4==Bo(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(qa)[1]||null;!a&&Ar.self&&Ar.self.location&&(a=Ar.self.location.protocol.slice(0,-1)),i=!Lo.test(a?a.toLowerCase():"")}t=i}if(t)Li(e,"complete"),Li(e,"success");else{e.m=6;try{var o=2<Bo(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",Uo(e)}}finally{Vo(e)}}}function Vo(e,t){if(e.g){zo(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Li(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function zo(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ar.clearTimeout(e.A),e.A=null)}function Bo(e){return e.g?e.g.readyState:0}function qo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Oo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Xu){return null}}function Ko(e){var t="";return vi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Go(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ko(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ya(e,t,n))}function Ho(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wo(e){this.Ga=0,this.j=[],this.l=new aa,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ho("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ho("baseRetryDelayMs",5e3,e),this.hb=Ho("retryDelaySeedMs",1e4,e),this.eb=Ho("forwardChannelMaxRetries",2,e),this.xa=Ho("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ho(e&&e.concurrentRequestLimit),this.Ja=new xo,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Qo(e){if(Xo(e),3==e.H){var t=e.W++,n=Ga(e.I);if(Ya(n,"SID",e.K),Ya(n,"RID",t),Ya(n,"TYPE","terminate"),Zo(e,n),(t=new Sa(e,e.l,t)).L=2,t.v=Xa(Ga(n)),n=!1,Ar.navigator&&Ar.navigator.sendBeacon)try{n=Ar.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Ar.Image&&((new Image).src=t.v,n=!0),n||(t.g=fu(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ma(t)}cu(e)}function Yo(e){e.g&&(ru(e),e.g.cancel(),e.g=null)}function Xo(e){Yo(e),e.u&&(Ar.clearTimeout(e.u),e.u=null),au(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ar.clearTimeout(e.m),e.m=null)}function $o(e){if(!vo(e.i)&&!e.m){e.m=!0;var t=e.Na;Gi||Qi(),Hi||(Gi(),Hi=!0),Wi.add(t,e),e.C=0}}function Jo(e,t){var n;n=t?t.m:e.W++;var r=Ga(e.I);Ya(r,"SID",e.K),Ya(r,"RID",n),Ya(r,"AID",e.V),Zo(e,r),e.o&&e.s&&Go(r,e.o,e.s),n=new Sa(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=eu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),go(e.i,n),Ra(n,r,t)}function Zo(e,t){e.na&&vi(e.na,(function(e,n){Ya(t,n,e)})),e.h&&Ba({},(function(e,n){Ya(t,n,e)}))}function eu(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Mr(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Io(l,o,"req"+c+"_")}catch(pc){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function tu(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Gi||Qi(),Hi||(Gi(),Hi=!0),Wi.add(t,e),e.A=0}}function nu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=va(Mr(e.Ma,e),uu(e,e.A)),e.A++,!0)}function ru(e){null!=e.B&&(Ar.clearTimeout(e.B),e.B=null)}function iu(e){e.g=new Sa(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ga(e.wa);Ya(t,"RID","rpc"),Ya(t,"SID",e.K),Ya(t,"AID",e.V),Ya(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ya(t,"TO",e.qa),Ya(t,"TYPE","xmlhttp"),Zo(e,t),e.o&&e.s&&Go(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Xa(Ga(t)),n.s=null,n.S=!0,Pa(n,e)}function au(e){null!=e.v&&(Ar.clearTimeout(e.v),e.v=null)}function ou(e,t){var n=null;if(e.g==t){au(e),ru(e),e.g=null;var r=2}else{if(!yo(e.i,t))return;n=t.F,ko(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Li(r=ca(),new pa(r,n)),$o(e)}else tu(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(mo(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=va(Mr(e.Na,e,t),uu(e,e.C)),e.C++,!0))}(e,t)||2==r&&nu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:su(e,5);break;case 4:su(e,10);break;case 3:su(e,6);break;default:su(e,2)}}function uu(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function su(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Mr(e.pb,e);n||(n=new Ka("//www.google.com/images/cleardot.gif"),Ar.location&&"http"==Ar.location.protocol||Ha(n,"https"),Xa(n)),function(e,t){var n=new aa;if(Ar.Image){var r=new Image;r.onload=Fr(Eo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fr(Eo,n,r,"TestLoadImage: error",!1,t),r.onabort=Fr(Eo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fr(Eo,n,r,"TestLoadImage: timeout",!1,t),Ar.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else da(2);e.H=0,e.h&&e.h.za(t),cu(e),Xo(e)}function cu(e){if(e.H=0,e.ma=[],e.h){var t=bo(e.i);0==t.length&&0==e.j.length||(Br(e.ma,t),Br(e.ma,e.j),e.i.i.length=0,zr(e.j),e.j.length=0),e.h.ya()}}function lu(e,t,n){var r=n instanceof Ka?Ga(n):new Ka(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Wa(r,r.m);else{var i=Ar.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ka(null);r&&Ha(a,r),t&&(a.g=t),i&&Wa(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Ya(r,n,t),Ya(r,"VER",e.ra),Zo(e,r),r}function fu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Do(new So({ob:!0})):new Do(e.va)).Oa(e.J),t}function hu(){}function du(){if(Jr&&!(10<=Number(si)))throw Error("Environmental error: no available transport.")}function pu(e,t){Oi.call(this),this.g=new Wo(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Gr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new yu(this)}function vu(e){xa.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mu(){Ia.call(this),this.status=1}function yu(e){this.g=e}function gu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ku(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function bu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Er=Do.prototype).Oa=function(e){this.M=e},Er.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wa.g(),this.C=this.u?ka(this.u):ka(wa),this.g.onreadystatechange=Mr(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Fo(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=B(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ar.FormData&&e instanceof Ar.FormData,!(0<=Vr(Mo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=B(n);try{for(c.s();!(s=c.n()).done;){var l=h(s.value,2),f=l[0],d=l[1];this.g.setRequestHeader(f,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zo(this),0<this.B&&((this.L=function(e){return Jr&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mr(this.ua,this)):this.A=Ji(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Fo(this,u)}},Er.ua=function(){"undefined"!=typeof Cr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Li(this,"timeout"),this.abort(8))},Er.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Li(this,"complete"),Li(this,"abort"),Vo(this))},Er.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vo(this,!0)),Do.$.N.call(this)},Er.La=function(){this.s||(this.G||this.v||this.l?jo(this):this.kb())},Er.kb=function(){jo(this)},Er.isActive=function(){return!!this.g},Er.da=function(){try{return 2<Bo(this)?this.g.status:-1}catch(wo){return-1}},Er.ja=function(){try{return this.g?this.g.responseText:""}catch(wo){return""}},Er.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Po(t)}},Er.Ia=function(){return this.m},Er.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Er=Wo.prototype).ra=8,Er.H=1,Er.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Sa(this,this.l,e),n=this.s;if(this.U&&(n?gi(n=mi(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=eu(this,t,r),Ya(i=Ga(this.I),"RID",e),Ya(i,"CVER",22),this.F&&Ya(i,"X-HTTP-Session-Id",this.F),Zo(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Ko(n)))+"&"+r:this.o&&Go(i,this.o,n)),go(this.i,t),this.bb&&Ya(i,"TYPE","init"),this.P?(Ya(i,"$req",r),Ya(i,"SID","null"),t.aa=!0,Ra(t,i,null)):Ra(t,i,r),this.H=2}}else 3==this.H&&(e?Jo(this,e):0==this.j.length||vo(this.i)||Jo(this))},Er.Ma=function(){if(this.u=null,iu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=va(Mr(this.jb,this),e)}},Er.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,da(10),Yo(this),iu(this))},Er.ib=function(){null!=this.v&&(this.v=null,Yo(this),nu(this),da(19))},Er.pb=function(e){e?(this.l.info("Successfully pinged google.com"),da(2)):(this.l.info("Failed to ping google.com"),da(1))},Er.isActive=function(){return!!this.h&&this.h.isActive(this)},(Er=hu.prototype).Ba=function(){},Er.Aa=function(){},Er.za=function(){},Er.ya=function(){},Er.isActive=function(){return!0},Er.Va=function(){},du.prototype.g=function(e,t){return new pu(e,t)},Ur(pu,Oi),pu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;da(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=lu(e,null,e.Y),$o(e)},pu.prototype.close=function(){Qo(this.g)},pu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fi(e),e=n);t.j.push(new fo(t.fb++,e)),3==t.H&&$o(t)},pu.prototype.N=function(){this.g.h=null,delete this.j,Qo(this.g),delete this.g,pu.$.N.call(this)},Ur(vu,xa),Ur(mu,Ia),Ur(yu,hu),yu.prototype.Ba=function(){Li(this.g,"a")},yu.prototype.Aa=function(e){Li(this.g,new vu(e))},yu.prototype.za=function(e){Li(this.g,new mu)},yu.prototype.ya=function(){Li(this.g,"b")},Ur(gu,(function(){this.blockSize=-1})),gu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},gu.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)ku(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){ku(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){ku(this,r),i=0;break}}this.h=i,this.i+=t},gu.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var wu={};function _u(e){return-128<=e&&128>e?function(e,t){var n=wu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new bu([0|e],0>e?-1:0)})):new bu([0|e],0>e?-1:0)}function xu(e){if(isNaN(e)||!isFinite(e))return Eu;if(0>e)return Nu(xu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Iu;return new bu(t,0)}var Iu=4294967296,Eu=_u(0),Su=_u(1),Tu=_u(16777216);function Cu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Au(e){return-1==e.h}function Nu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new bu(n,~e.h).add(Su)}function Ru(e,t){return e.add(Nu(t))}function Pu(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Du(e,t){this.g=e,this.h=t}function Ou(e,t){if(Cu(t))throw Error("division by zero");if(Cu(e))return new Du(Eu,Eu);if(Au(e))return t=Ou(Nu(e),t),new Du(Nu(t.g),Nu(t.h));if(Au(t))return t=Ou(e,Nu(t)),new Du(Nu(t.g),t.h);if(30<e.g.length){if(Au(e)||Au(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Su,r=t;0>=r.X(e);)n=Lu(n),r=Lu(r);var i=Mu(n,1),a=Mu(r,1);for(r=Mu(r,2),n=Mu(n,2);!Cu(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Mu(r,1),n=Mu(n,1)}return t=Ru(e,i.R(t)),new Du(i,t)}for(i=Eu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=xu(n)).R(t);Au(o)||0<o.X(e);)o=(a=xu(n-=r)).R(t);Cu(a)&&(a=Su),i=i.add(a),e=Ru(e,o)}return new Du(i,e)}function Lu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new bu(n,e.h)}function Mu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new bu(i,e.h)}(Er=bu.prototype).ea=function(){if(Au(this))return-Nu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Iu+r)*t,t*=Iu}return e},Er.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Cu(this))return"0";if(Au(this))return"-"+Nu(this).toString(e);for(var t=xu(Math.pow(e,6)),n=this,r="";;){var i=Ou(n,t).g,a=((0<(n=Ru(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Cu(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Er.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Er.X=function(e){return Au(e=Ru(this,e))?-1:Cu(e)?0:1},Er.abs=function(){return Au(this)?Nu(this):this},Er.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new bu(n,-2147483648&n[n.length-1]?-1:0)},Er.R=function(e){if(Cu(this)||Cu(e))return Eu;if(Au(this))return Au(e)?Nu(this).R(Nu(e)):Nu(Nu(this).R(e));if(Au(e))return Nu(this.R(Nu(e)));if(0>this.X(Tu)&&0>e.X(Tu))return xu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Pu(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Pu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Pu(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Pu(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new bu(n,0)},Er.gb=function(e){return Ou(this,e).h},Er.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new bu(n,this.h&e.h)},Er.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new bu(n,this.h|e.h)},Er.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new bu(n,this.h^e.h)},du.prototype.createWebChannel=du.prototype.g,pu.prototype.send=pu.prototype.u,pu.prototype.open=pu.prototype.m,pu.prototype.close=pu.prototype.close,ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,ya.COMPLETE="complete",ba.EventType=_a,_a.OPEN="a",_a.CLOSE="b",_a.ERROR="c",_a.MESSAGE="d",Oi.prototype.listen=Oi.prototype.O,Do.prototype.listenOnce=Do.prototype.P,Do.prototype.getLastError=Do.prototype.Sa,Do.prototype.getLastErrorCode=Do.prototype.Ia,Do.prototype.getStatus=Do.prototype.da,Do.prototype.getResponseJson=Do.prototype.Wa,Do.prototype.getResponseText=Do.prototype.ja,Do.prototype.send=Do.prototype.ha,Do.prototype.setWithCredentials=Do.prototype.Oa,gu.prototype.digest=gu.prototype.l,gu.prototype.reset=gu.prototype.reset,gu.prototype.update=gu.prototype.j,bu.prototype.add=bu.prototype.add,bu.prototype.multiply=bu.prototype.R,bu.prototype.modulo=bu.prototype.gb,bu.prototype.compare=bu.prototype.X,bu.prototype.toNumber=bu.prototype.ea,bu.prototype.toString=bu.prototype.toString,bu.prototype.getBits=bu.prototype.D,bu.fromNumber=xu,bu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Nu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=xu(Math.pow(n,8)),i=Eu,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=xu(Math.pow(n,o)),i=i.R(o).add(xu(u))):i=(i=i.R(r)).add(xu(u))}return i};var Fu=Tr.createWebChannelTransport=function(){return new du},Uu=Tr.getStatEventTarget=function(){return ca()},ju=Tr.ErrorCode=ma,Vu=Tr.EventType=ya,zu=Tr.Event=ua,Bu=Tr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qu=(Tr.FetchXmlHttpFactory=So,Tr.WebChannel=ba),Ku=Tr.XhrIo=Do,Gu=Tr.Md5=gu,Hu=Tr.Integer=bu,Wu="@firebase/firestore",Qu=function(){function e(t){C(this,e),this.uid=t}return P(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Qu.UNAUTHENTICATED=new Qu(null),Qu.GOOGLE_CREDENTIALS=new Qu("google-credentials-uid"),Qu.FIRST_PARTY=new Qu("first-party-uid"),Qu.MOCK_USER=new Qu("mock-user");var Yu="10.3.0",Xu=new on("@firebase/firestore");function $u(){return Xu.logLevel}function Ju(e){if(Xu.logLevel<=Jt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ts);Xu.debug.apply(Xu,["Firestore (".concat(Yu,"): ").concat(e)].concat(T(i)))}}function Zu(e){if(Xu.logLevel<=Jt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ts);Xu.error.apply(Xu,["Firestore (".concat(Yu,"): ").concat(e)].concat(T(i)))}}function es(e){if(Xu.logLevel<=Jt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ts);Xu.warn.apply(Xu,["Firestore (".concat(Yu,"): ").concat(e)].concat(T(i)))}}function ts(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Yu,") INTERNAL ASSERTION FAILED: ")+e;throw Zu(t),new Error(t)}function rs(e,t){e||ns()}function is(e,t){return e}var as={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},os=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return P(n)}(Ot),us=P((function e(){var t=this;C(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ss=P((function e(t,n){C(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),cs=function(){function e(){C(this,e)}return P(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Qu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ls=function(){function e(t){C(this,e),this.token=t,this.changeListener=null}return P(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),fs=function(){function e(t){C(this,e),this.t=t,this.currentUser=Qu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return P(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new us;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new us,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ju("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ju("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new us)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ju("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(rs("string"==typeof n.accessToken),new ss(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return rs(null===e||"string"==typeof e),new Qu(e)}}]),e}(),hs=function(){function e(t,n,r){C(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Qu.FIRST_PARTY,this.I=new Map}return P(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),ds=function(){function e(t,n,r){C(this,e),this.l=t,this.h=n,this.P=r}return P(e,[{key:"getToken",value:function(){return Promise.resolve(new hs(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Qu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ps=P((function e(t){C(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),vs=function(){function e(t){C(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return P(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ju("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Ju("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ju("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Ju("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(rs("string"==typeof t.token),e.R=t.token,new ps(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function ms(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ys=function(){function e(){C(this,e)}return P(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=ms(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function gs(e,t){return e<t?-1:e>t?1:0}function ks(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function bs(e){return e+"\0"}var ws=function(){function e(t,n){if(C(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new os(as.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new os(as.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new os(as.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new os(as.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return P(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?gs(this.nanoseconds,e.nanoseconds):gs(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),_s=function(){function e(t){C(this,e),this.timestamp=t}return P(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ws(0,0))}},{key:"max",value:function(){return new e(new ws(253402300799,999999999))}}]),e}(),xs=function(){function e(t,n,r){C(this,e),void 0===n?n=0:n>t.length&&ns(),void 0===r?r=t.length-n:r>t.length-n&&ns(),this.segments=t,this.offset=n,this.len=r}return P(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Is=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new os(as.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,T(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xs),Es=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ss=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Es.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new os(as.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new os(as.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new os(as.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new os(as.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xs),Ts=function(){function e(t){C(this,e),this.path=t}return P(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Is.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Is.fromString(t))}},{key:"fromName",value:function(t){return new e(Is.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Is.emptyPath())}},{key:"comparator",value:function(e,t){return Is.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Is(t.slice()))}}]),e}(),Cs=P((function e(t,n,r,i){C(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function As(e){return e.fields.find((function(e){return 2===e.kind}))}function Ns(e){return e.fields.filter((function(e){return 2!==e.kind}))}Cs.UNKNOWN_ID=-1;var Rs=P((function e(t,n){C(this,e),this.fieldPath=t,this.kind=n}));var Ps=function(){function e(t,n){C(this,e),this.sequenceNumber=t,this.offset=n}return P(e,null,[{key:"empty",value:function(){return new e(0,Ls.min())}}]),e}();function Ds(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_s.fromTimestamp(1e9===r?new ws(n+1,0):new ws(n,r));return new Ls(i,Ts.empty(),t)}function Os(e){return new Ls(e.readTime,e.key,-1)}var Ls=function(){function e(t,n,r){C(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return P(e,null,[{key:"min",value:function(){return new e(_s.min(),Ts.empty(),-1)}},{key:"max",value:function(){return new e(_s.max(),Ts.empty(),-1)}}]),e}();function Ms(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ts.comparator(e.documentKey,t.documentKey))?n:gs(e.largestBatchId,t.largestBatchId)}var Fs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Us=function(){function e(){C(this,e),this.onCommittedListeners=[]}return P(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function js(e){return Vs.apply(this,arguments)}function Vs(){return(Vs=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===as.FAILED_PRECONDITION&&t.message===Fs){e.next=2;break}throw t;case 2:Ju("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zs=function(){function e(t){var n=this;C(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return P(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ns(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=B(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Bs=function(){function e(t,n){var r=this;C(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new us,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new Gs(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=Xs(e.target.error);r.m.reject(new Gs(t,n))}}return P(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(Ju("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Ws(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Gs(n,t)}}}]),e}(),qs=function(){function e(t,n,r){C(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Ct())&&Zu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return P(e,[{key:"N",value:function(){var e=vt(dt().mark((function e(t){var n=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ju("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Gs(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new os(as.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new os(as.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Gs(t,n))},i.onupgradeneeded=function(e){Ju("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){Ju("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=vt(dt().mark((function e(t,n,r,i){var a,o,u,s,c=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=dt().mark((function e(){var n,u,s,l;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=Bs.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),zs.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,Ju("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ju("SimpleDb","Removing database:",e),Qs(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!Dt())return!1;if(e.C())return!0;var t=Ct(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ks=function(){function e(t){C(this,e),this.q=t,this.K=!1,this.$=null}return P(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return Qs(this.q.delete())}}]),e}(),Gs=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this,as.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return P(n)}(os);function Hs(e){return"IndexedDbTransactionError"===e.name}var Ws=function(){function e(t){C(this,e),this.store=t}return P(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ju("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ju("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Qs(n)}},{key:"add",value:function(e){return Ju("SimpleDb","ADD",this.store.name,e,e),Qs(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Qs(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ju("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ju("SimpleDb","DELETE",this.store.name,e),Qs(this.store.delete(e))}},{key:"count",value:function(){return Ju("SimpleDb","COUNT",this.store.name),Qs(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new zs((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new zs((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){Ju("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new zs((function(n,r){t.onerror=function(e){var t=Xs(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new zs((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ks(i),o=t(i.primaryKey,i.value,a);if(o instanceof zs){var u=o.catch((function(e){return a.done(),zs.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return zs.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Qs(e){return new zs((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Xs(e.target.error);n(t)}}))}var Ys=!1;function Xs(e){var t=qs.D(Ct());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new os("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ys||(Ys=!0,setTimeout((function(){throw r}),0)),r}}return e}var $s=function(){function e(t,n){C(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return P(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;Ju("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Ju,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Hs(e.t4)){e.next=17;break}Ju("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,js(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Js=function(){function e(t,n){C(this,e),this.localStore=t,this.persistence=n}return P(e,[{key:"ne",value:function(){var e=vt(dt().mark((function e(){var t,n=this,r=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return zs.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Ju("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return Ju("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Os(t);Ms(r,n)>0&&(n=r)})),new Ls(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Zs=function(){function e(t,n){var r=this;C(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return P(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function ec(e){return null==e}function tc(e){return 0===e&&1/e==-1/0}function nc(e){return"number"==typeof e&&Number.isInteger(e)&&!tc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function rc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ac(t)),t=ic(e.get(n),t);return ac(t)}function ic(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ac(e){return e+"\x01\x01"}function oc(e){var t=e.length;if(rs(t>=2),2===t)return rs("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Is.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ns(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ns()}a=o+2}return new Is(r)}Zs.ae=-1;var uc=["userId","batchId"];function sc(e,t){return[e,rc(t)]}function cc(e,t,n){return[e,rc(t),n]}var lc={},fc=["prefixPath","collectionGroup","readTime","documentId"],hc=["prefixPath","collectionGroup","documentId"],dc=["collectionGroup","readTime","prefixPath","documentId"],pc=["canonicalId","targetId"],vc=["targetId","path"],mc=["path","targetId"],yc=["collectionId","parent"],gc=["indexId","uid"],kc=["uid","sequenceNumber"],bc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wc=["indexId","uid","orderedDocumentKey"],_c=["userId","collectionPath","documentId"],xc=["userId","collectionPath","largestBatchId"],Ic=["userId","collectionGroup","largestBatchId"],Ec=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Sc=[].concat(T(Ec),["documentOverlays"]),Tc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Cc=Tc,Ac=[].concat(Cc,["indexConfiguration","indexState","indexEntries"]),Nc=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return P(n)}(Us);function Rc(e,t){var n=is(e);return qs.O(n.ue,t)}function Pc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Dc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Oc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Lc=function(){function e(t,n){C(this,e),this.comparator=t,this.root=n||Fc.EMPTY}return P(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Mc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Mc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Mc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Mc(this.root,e,this.comparator,!0)}}]),e}(),Mc=function(){function e(t,n,r,i){C(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return P(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Fc=function(){function e(t,n,r,i,a){C(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return P(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ns();if(this.right.isRed())throw ns();var e=this.left.check();if(e!==this.right.check())throw ns();return e+(this.isRed()?0:1)}}]),e}();Fc.EMPTY=null,Fc.RED=!0,Fc.BLACK=!1,Fc.EMPTY=new(function(){function e(){C(this,e),this.size=0}return P(e,[{key:"key",get:function(){throw ns()}},{key:"value",get:function(){throw ns()}},{key:"color",get:function(){throw ns()}},{key:"left",get:function(){throw ns()}},{key:"right",get:function(){throw ns()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Fc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Uc=function(){function e(t){C(this,e),this.comparator=t,this.data=new Lc(this.comparator)}return P(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new jc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new jc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),jc=function(){function e(t){C(this,e),this.iter=t}return P(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Vc(e){return e.hasNext()?e.getNext():void 0}var zc=function(){function e(t){C(this,e),this.fields=t,t.sort(Ss.comparator)}return P(e,[{key:"unionWith",value:function(t){var n,r=new Uc(Ss.comparator),i=B(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=B(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=B(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ks(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Bc=function(e){O(n,e);var t=U(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return P(n)}(V(Error));var qc=function(e){function t(e){C(this,t),this.binaryString=e}return P(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return gs(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Bc("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();qc.EMPTY_BYTE_STRING=new qc("");var Kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gc(e){if(rs(!!e),"string"==typeof e){var t=0,n=Kc.exec(e);if(rs(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Hc(e.seconds),nanos:Hc(e.nanos)}}function Hc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Wc(e){return"string"==typeof e?qc.fromBase64String(e):qc.fromUint8Array(e)}function Qc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yc(e){var t=e.mapValue.fields.__previous_value__;return Qc(t)?Yc(t):t}function Xc(e){var t=Gc(e.mapValue.fields.__local_write_time__.timestampValue);return new ws(t.seconds,t.nanos)}var $c=P((function e(t,n,r,i,a,o,u,s,c){C(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),Jc=function(){function e(t,n){C(this,e),this.projectId=t,this.database=n||"(default)"}return P(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Zc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},el={nullValue:"NULL_VALUE"};function tl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qc(e)?4:vl(e)?9007199254740991:10:ns()}function nl(e,t){if(e===t)return!0;var n=tl(e);if(n!==tl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xc(e).isEqual(Xc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Gc(e.timestampValue),r=Gc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Wc(e.bytesValue).isEqual(Wc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Hc(e.geoPointValue.latitude)===Hc(t.geoPointValue.latitude)&&Hc(e.geoPointValue.longitude)===Hc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Hc(e.integerValue)===Hc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Hc(e.doubleValue),r=Hc(t.doubleValue);return n===r?tc(n)===tc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ks(e.arrayValue.values||[],t.arrayValue.values||[],nl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pc(n)!==Pc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nl(n[i],r[i])))return!1;return!0}(e,t);default:return ns()}}function rl(e,t){return void 0!==(e.values||[]).find((function(e){return nl(e,t)}))}function il(e,t){if(e===t)return 0;var n=tl(e),r=tl(t);if(n!==r)return gs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gs(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Hc(e.integerValue||e.doubleValue),r=Hc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return al(e.timestampValue,t.timestampValue);case 4:return al(Xc(e),Xc(t));case 5:return gs(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Wc(e),r=Wc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=gs(n[i],r[i]);if(0!==a)return a}return gs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=gs(Hc(e.latitude),Hc(t.latitude));return 0!==n?n:gs(Hc(e.longitude),Hc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=il(n[i],r[i]);if(a)return a}return gs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Zc.mapValue&&t===Zc.mapValue)return 0;if(e===Zc.mapValue)return 1;if(t===Zc.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=gs(r[o],a[o]);if(0!==u)return u;var s=il(n[r[o]],i[a[o]]);if(0!==s)return s}return gs(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ns()}}function al(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gs(e,t);var n=Gc(e),r=Gc(t),i=gs(n.seconds,r.seconds);return 0!==i?i:gs(n.nanos,r.nanos)}function ol(e){return ul(e)}function ul(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Gc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Wc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ts.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=B(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ul(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=B(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ul(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ns()}function sl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function cl(e){return!!e&&"integerValue"in e}function ll(e){return!!e&&"arrayValue"in e}function fl(e){return!!e&&"nullValue"in e}function hl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dl(e){return!!e&&"mapValue"in e}function pl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Dc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=pl(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=pl(e.arrayValue.values[r]);return n}return Object.assign({},e)}function vl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ml(e){return"nullValue"in e?el:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?sl(Jc.empty(),Ts.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ns()}function yl(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?sl(Jc.empty(),Ts.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Zc:ns()}function gl(e,t){var n=il(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function kl(e,t){var n=il(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var bl=function(){function e(t){C(this,e),this.value=t}return P(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!dl(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(t)}},{key:"setAll",value:function(e){var t=this,n=Ss.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=pl(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());dl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return nl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];dl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Dc(t,(function(t,n){return e[t]=n}));var r,i=B(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(pl(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function wl(e){var t=[];return Dc(e.fields,(function(e,n){var r=new Ss([e]);if(dl(n)){var i=wl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=B(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new zc(t)}var _l=function(){function e(t,n,r,i,a,o,u){C(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return P(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(_s.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=bl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=bl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=_s.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,_s.min(),_s.min(),_s.min(),bl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,_s.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,_s.min(),_s.min(),bl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,_s.min(),_s.min(),bl.empty(),2)}}]),e}(),xl=P((function e(t,n){C(this,e),this.position=t,this.inclusive=n}));function Il(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ts.comparator(Ts.fromName(o.referenceValue),n.key):il(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function El(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!nl(e.position[n],t.position[n]))return!1;return!0}var Sl=P((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";C(this,e),this.field=t,this.dir=n}));function Tl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Cl=P((function e(){C(this,e)})),Al=function(e){O(n,e);var t=U(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return P(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(il(t,this.value)):null!==t&&tl(this.value)===tl(t)&&this.matchesComparison(il(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ns()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new jl(e,t,r):"array-contains"===t?new ql(e,r):"in"===t?new Kl(e,r):"not-in"===t?new Gl(e,r):"array-contains-any"===t?new Hl(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Vl(e,n):new zl(e,n)}}]),n}(Cl),Nl=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return P(n,[{key:"matches",value:function(e){return Rl(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=B(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Cl);function Rl(e){return"and"===e.op}function Pl(e){return"or"===e.op}function Dl(e){return Ol(e)&&Rl(e)}function Ol(e){var t,n=B(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Nl)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Ll(e){if(e instanceof Al)return e.field.canonicalString()+e.op.toString()+ol(e.value);if(Dl(e))return e.filters.map((function(e){return Ll(e)})).join(",");var t=e.filters.map((function(e){return Ll(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Ml(e,t){return e instanceof Al?function(e,t){return t instanceof Al&&e.op===t.op&&e.field.isEqual(t.field)&&nl(e.value,t.value)}(e,t):e instanceof Nl?function(e,t){return t instanceof Nl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Ml(n,t.filters[r])}),!0)}(e,t):void ns()}function Fl(e,t){var n=e.filters.concat(t);return Nl.create(n,e.op)}function Ul(e){return e instanceof Al?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ol(e.value))}(e):e instanceof Nl?function(e){return e.op.toString()+" {"+e.getFilters().map(Ul).join(" ,")+"}"}(e):"Filter"}var jl=function(e){O(n,e);var t=U(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,e,r,i)).key=Ts.fromName(i.referenceValue),a}return P(n,[{key:"matches",value:function(e){var t=Ts.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Al),Vl=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,"in",r)).keys=Bl("in",r),i}return P(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Al),zl=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,"not-in",r)).keys=Bl("not-in",r),i}return P(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Al);function Bl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ts.fromName(e.referenceValue)}))}var ql=function(e){O(n,e);var t=U(n);function n(e,r){return C(this,n),t.call(this,e,"array-contains",r)}return P(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ll(t)&&rl(t.arrayValue,this.value)}}]),n}(Al),Kl=function(e){O(n,e);var t=U(n);function n(e,r){return C(this,n),t.call(this,e,"in",r)}return P(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&rl(this.value.arrayValue,t)}}]),n}(Al),Gl=function(e){O(n,e);var t=U(n);function n(e,r){return C(this,n),t.call(this,e,"not-in",r)}return P(n,[{key:"matches",value:function(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!rl(this.value.arrayValue,t)}}]),n}(Al),Hl=function(e){O(n,e);var t=U(n);function n(e,r){return C(this,n),t.call(this,e,"array-contains-any",r)}return P(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ll(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return rl(t.value.arrayValue,e)}))}}]),n}(Al),Wl=P((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;C(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function Ql(e){return new Wl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Yl(e){var t=is(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Ll(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ec(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ol(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ol(e)})).join(",")),t.he=n}return t.he}function Xl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Tl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Ml(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!El(e.startAt,t.startAt)&&El(e.endAt,t.endAt)}function $l(e){return Ts.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Jl(e,t){return e.filters.filter((function(e){return e instanceof Al&&e.field.isEqual(t)}))}function Zl(e,t,n){var r,i=el,a=!0,o=B(Jl(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=el,c=!0;switch(u.op){case"<":case"<=":s=ml(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=el}gl({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];gl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ef(e,t,n){var r,i=Zc,a=!0,o=B(Jl(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Zc,c=!0;switch(u.op){case">=":case">":s=yl(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Zc}kl({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];kl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var tf=P((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;C(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}));function nf(e,t,n,r,i,a,o,u){return new tf(e,t,n,r,i,a,o,u)}function rf(e){return new tf(e)}function af(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function of(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function uf(e){var t,n=B(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function sf(e){return null!==e.collectionGroup}function cf(e){var t=is(e);if(null===t.Pe){t.Pe=[];var n=uf(t),r=of(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new Sl(n)),t.Pe.push(new Sl(Ss.keyField(),"asc"));else{var i,a=!1,o=B(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Sl(Ss.keyField(),s))}}}return t.Pe}function lf(e){var t=is(e);return t.Ie||(t.Ie=ff(t,cf(e))),t.Ie}function ff(e,t){if("F"===e.limitType)return Ql(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new Sl(e.field,t)}));var n=e.endAt?new xl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xl(e.startAt.position,e.startAt.inclusive):null;return Ql(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function hf(e,t){t.getFirstInequalityField(),uf(e);var n=e.filters.concat([t]);return new tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function df(e,t,n){return new tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pf(e,t){return Xl(lf(e),lf(t))&&e.limitType===t.limitType}function vf(e){return"".concat(Yl(lf(e)),"|lt:").concat(e.limitType)}function mf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Ul(e)})).join(", "),"]")),ec(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ol(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ol(e)})).join(",")),"Target(".concat(t,")")}(lf(e)),"; limitType=").concat(e.limitType,")")}function yf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ts.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=B(cf(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=B(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Il(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,cf(e),t))&&!(e.endAt&&!function(e,t,n){var r=Il(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,cf(e),t))}(e,t)}function gf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function kf(e){return function(t,n){var r,i=!1,a=B(cf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=bf(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function bf(e,t,n){var r=e.field.isKeyField()?Ts.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?il(r,i):ns()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ns()}}var wf=function(){function e(t,n){C(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return P(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=B(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Dc(this.inner,(function(t,n){var r,i=B(n);try{for(i.s();!(r=i.n()).done;){var a=h(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Oc(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),_f=new Lc(Ts.comparator);function xf(){return _f}var If=new Lc(Ts.comparator);function Ef(){for(var e=If,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Sf(e){var t=If;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Tf(){return Af()}function Cf(){return Af()}function Af(){return new wf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Nf=new Lc(Ts.comparator),Rf=new Uc(Ts.comparator);function Pf(){for(var e=Rf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Df=new Uc(gs);function Of(){return Df}function Lf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(t)?"-0":t}}function Mf(e){return{integerValue:""+e}}function Ff(e,t){return nc(t)?Mf(t):Lf(e,t)}var Uf=P((function e(){C(this,e),this._=void 0}));function jf(e,t,n){return e instanceof Bf?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Qc(t)&&(t=Yc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qf?Kf(e,t):e instanceof Gf?Hf(e,t):function(e,t){var n=zf(e,t),r=Qf(n)+Qf(e.Ee);return cl(n)&&cl(e.Ee)?Mf(r):Lf(e.serializer,r)}(e,t)}function Vf(e,t,n){return e instanceof qf?Kf(e,t):e instanceof Gf?Hf(e,t):n}function zf(e,t){return e instanceof Wf?function(e){return cl(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Bf=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n)}(Uf),qf=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this)).elements=e,r}return P(n)}(Uf);function Kf(e,t){var n,r=Yf(t),i=B(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return nl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Gf=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this)).elements=e,r}return P(n)}(Uf);function Hf(e,t){var n,r=Yf(t),i=B(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!nl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Wf=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).serializer=e,i.Ee=r,i}return P(n)}(Uf);function Qf(e){return Hc(e.integerValue||e.doubleValue)}function Yf(e){return ll(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Xf=P((function e(t,n){C(this,e),this.field=t,this.transform=n}));var $f=P((function e(t,n){C(this,e),this.version=t,this.transformResults=n})),Jf=function(){function e(t,n){C(this,e),this.updateTime=t,this.exists=n}return P(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Zf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var eh=P((function e(){C(this,e)}));function th(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dh(e.key,Jf.none()):new oh(e.key,e.data,Jf.none());var n,r=e.data,i=bl.empty(),a=new Uc(Ss.comparator),o=B(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new uh(e.key,i,new zc(a.toArray()),Jf.none())}function nh(e,t,n){e instanceof oh?function(e,t,n){var r=e.value.clone(),i=ch(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof uh?function(e,t,n){if(Zf(e.precondition,t)){var r=ch(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rh(e,t,n,r){return e instanceof oh?function(e,t,n,r){if(!Zf(e.precondition,t))return n;var i=e.value.clone(),a=lh(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof uh?function(e,t,n,r){if(!Zf(e.precondition,t))return n;var i=lh(e.fieldTransforms,r,t),a=t.data;return a.setAll(sh(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Zf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function ih(e,t){var n,r=null,i=B(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=zf(a.transform,o||null);null!=u&&(null===r&&(r=bl.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ah(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ks(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qf&&t instanceof qf||e instanceof Gf&&t instanceof Gf?ks(e.elements,t.elements,nl):e instanceof Wf&&t instanceof Wf?nl(e.Ee,t.Ee):e instanceof Bf&&t instanceof Bf}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var oh=function(e){O(n,e);var t=U(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return C(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return P(n,[{key:"getFieldMask",value:function(){return null}}]),n}(eh),uh=function(e){O(n,e);var t=U(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return C(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return P(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(eh);function sh(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ch(e,t,n){var r=new Map;rs(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Vf(o,u,n[i]))}return r}function lh(e,t,n){var r,i=new Map,a=B(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,jf(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var fh,hh,dh=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return P(n,[{key:"getFieldMask",value:function(){return null}}]),n}(eh),ph=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return P(n,[{key:"getFieldMask",value:function(){return null}}]),n}(eh),vh=function(){function e(t,n,r,i){C(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return P(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&nh(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=B(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=rh(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=B(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=rh(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Cf();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=th(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(_s.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Pf())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(function(e,t){return ah(e,t)}))&&ks(this.baseMutations,e.baseMutations,(function(e,t){return ah(e,t)}))}}]),e}(),mh=function(){function e(t,n,r,i){C(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return P(e,null,[{key:"from",value:function(t,n,r){rs(t.mutations.length===r.length);for(var i=Nf,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),yh=function(){function e(t,n){C(this,e),this.largestBatchId=t,this.mutation=n}return P(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),gh=P((function e(t,n){C(this,e),this.count=t,this.unchangedNames=n}));function kh(e){switch(e){default:return ns();case as.CANCELLED:case as.UNKNOWN:case as.DEADLINE_EXCEEDED:case as.RESOURCE_EXHAUSTED:case as.INTERNAL:case as.UNAVAILABLE:case as.UNAUTHENTICATED:return!1;case as.INVALID_ARGUMENT:case as.NOT_FOUND:case as.ALREADY_EXISTS:case as.PERMISSION_DENIED:case as.FAILED_PRECONDITION:case as.ABORTED:case as.OUT_OF_RANGE:case as.UNIMPLEMENTED:case as.DATA_LOSS:return!0}}function bh(e){if(void 0===e)return Zu("GRPC error has no .code"),as.UNKNOWN;switch(e){case fh.OK:return as.OK;case fh.CANCELLED:return as.CANCELLED;case fh.UNKNOWN:return as.UNKNOWN;case fh.DEADLINE_EXCEEDED:return as.DEADLINE_EXCEEDED;case fh.RESOURCE_EXHAUSTED:return as.RESOURCE_EXHAUSTED;case fh.INTERNAL:return as.INTERNAL;case fh.UNAVAILABLE:return as.UNAVAILABLE;case fh.UNAUTHENTICATED:return as.UNAUTHENTICATED;case fh.INVALID_ARGUMENT:return as.INVALID_ARGUMENT;case fh.NOT_FOUND:return as.NOT_FOUND;case fh.ALREADY_EXISTS:return as.ALREADY_EXISTS;case fh.PERMISSION_DENIED:return as.PERMISSION_DENIED;case fh.FAILED_PRECONDITION:return as.FAILED_PRECONDITION;case fh.ABORTED:return as.ABORTED;case fh.OUT_OF_RANGE:return as.OUT_OF_RANGE;case fh.UNIMPLEMENTED:return as.UNIMPLEMENTED;case fh.DATA_LOSS:return as.DATA_LOSS;default:return ns()}}(hh=fh||(fh={}))[hh.OK=0]="OK",hh[hh.CANCELLED=1]="CANCELLED",hh[hh.UNKNOWN=2]="UNKNOWN",hh[hh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hh[hh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hh[hh.NOT_FOUND=5]="NOT_FOUND",hh[hh.ALREADY_EXISTS=6]="ALREADY_EXISTS",hh[hh.PERMISSION_DENIED=7]="PERMISSION_DENIED",hh[hh.UNAUTHENTICATED=16]="UNAUTHENTICATED",hh[hh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hh[hh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hh[hh.ABORTED=10]="ABORTED",hh[hh.OUT_OF_RANGE=11]="OUT_OF_RANGE",hh[hh.UNIMPLEMENTED=12]="UNIMPLEMENTED",hh[hh.INTERNAL=13]="INTERNAL",hh[hh.UNAVAILABLE=14]="UNAVAILABLE",hh[hh.DATA_LOSS=15]="DATA_LOSS";var wh=null;function _h(){return new TextEncoder}var xh=new Hu([4294967295,4294967295],0);function Ih(e){var t=_h().encode(e),n=new Gu;return n.update(t),new Uint8Array(n.digest())}function Eh(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Hu([n,r],0),new Hu([i,a],0)]}var Sh=function(){function e(t,n,r){if(C(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Th("Invalid padding: ".concat(n));if(r<0)throw new Th("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Th("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Th("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=Hu.fromNumber(this.Ae)}return P(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(Hu.fromNumber(n)));return 1===r.compare(xh)&&(r=new Hu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=h(Eh(Ih(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=h(Eh(Ih(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Th=function(e){O(n,e);var t=U(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return P(n)}(V(Error)),Ch=function(){function e(t,n,r,i,a){C(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return P(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Ah.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(_s.min(),i,new Lc(gs),xf(),Pf())}}]),e}(),Ah=function(){function e(t,n,r,i,a){C(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return P(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Pf(),Pf(),Pf())}}]),e}(),Nh=P((function e(t,n,r,i){C(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),Rh=P((function e(t,n){C(this,e),this.targetId=t,this.ye=n})),Ph=P((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qc.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;C(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Dh=function(){function e(){C(this,e),this.we=0,this.Se=Mh(),this.be=qc.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}return P(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"Ce",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.ve}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}},{key:"xe",value:function(){var e=Pf(),t=Pf(),n=Pf();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ns()}})),new Ah(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.ve=!1,this.Se=Mh()}},{key:"Ne",value:function(e,t){this.ve=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.ve=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.ve=!0,this.De=!0}}]),e}(),Oh=function(){function e(t){C(this,e),this.Qe=t,this.Ke=new Map,this.$e=xf(),this.Ue=Lh(),this.We=new Lc(gs)}return P(e,[{key:"Ge",value:function(e){var t,n=B(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(u){n.e(u)}finally{n.f()}var i,a=B(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(u){a.e(u)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:ns()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t=e.targetId,n=e.ye.count,r=this.et(t);if(r){var i=r.target;if($l(i))if(0===n){var a=new Ts(i.path);this.je(t,a,_l.newNoDocument(a,_s.min()))}else rs(1===n);else{var o=this.tt(t);if(o!==n){var u=this.nt(e),s=u?this.rt(u,e,o):1;if(0!==s){this.Ze(t);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,c)}null==wh||wh.it(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ye,this.Qe.st(),u,s))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=Wc(o).toUint8Array()}catch(e){if(e instanceof Bc)return es("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new Sh(n,s,l)}catch(e){return es(e instanceof Th?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}},{key:"ot",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.st(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"_t",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&$l(a.target)){var o=new Ts(a.target.path);null!==t.$e.get(o)||t.ut(i,o)||t.je(i,o,_l.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=Pf();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new Ch(e,n,this.We,this.$e,r);return this.$e=xf(),this.Ue=Lh(),this.We=new Lc(gs),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new Dh,this.Ke.set(e,t)),t}},{key:"ct",value:function(e){var t=this.Ue.get(e);return t||(t=new Uc(gs),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||Ju("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.Ce?null:this.Qe.lt(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new Dh),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"ut",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function Lh(){return new Lc(Ts.comparator)}function Mh(){return new Lc(Ts.comparator)}var Fh={asc:"ASCENDING",desc:"DESCENDING"},Uh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jh={and:"AND",or:"OR"},Vh=P((function e(t,n){C(this,e),this.databaseId=t,this.useProto3Json=n}));function zh(e,t){return e.useProto3Json||ec(t)?t:{value:t}}function Bh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function qh(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Kh(e,t){return Bh(e,t.toTimestamp())}function Gh(e){return rs(!!e),_s.fromTimestamp(function(e){var t=Gc(e);return new ws(t.seconds,t.nanos)}(e))}function Hh(e,t){return function(e){return new Is(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Wh(e){var t=Is.fromString(e);return rs(md(t)),t}function Qh(e,t){return Hh(e.databaseId,t.path)}function Yh(e,t){var n=Wh(t);if(n.get(1)!==e.databaseId.projectId)throw new os(as.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new os(as.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ts(Zh(n))}function Xh(e,t){return Hh(e.databaseId,t)}function $h(e){var t=Wh(e);return 4===t.length?Is.emptyPath():Zh(t)}function Jh(e){return new Is(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Zh(e){return rs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ed(e,t,n){return{name:Qh(e,t),fields:n.value.mapValue.fields}}function td(e,t,n){var r=Yh(e,t.name),i=Gh(t.updateTime),a=t.createTime?Gh(t.createTime):_s.min(),o=new bl({mapValue:{fields:t.fields}}),u=_l.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function nd(e,t){return"found"in t?function(e,t){rs(!!t.found),t.found.name,t.found.updateTime;var n=Yh(e,t.found.name),r=Gh(t.found.updateTime),i=t.found.createTime?Gh(t.found.createTime):_s.min(),a=new bl({mapValue:{fields:t.found.fields}});return _l.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){rs(!!t.missing),rs(!!t.readTime);var n=Yh(e,t.missing),r=Gh(t.readTime);return _l.newNoDocument(n,r)}(e,t):ns()}function rd(e,t){var n;if(t instanceof oh)n={update:ed(e,t.key,t.value)};else if(t instanceof dh)n={delete:Qh(e,t.key)};else if(t instanceof uh)n={update:ed(e,t.key,t.data),updateMask:vd(t.fieldMask)};else{if(!(t instanceof ph))return ns();n={verify:Qh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Bf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wf)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw ns()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Kh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ns()}(e,t.precondition)),n}function id(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Jf.updateTime(Gh(e.updateTime)):void 0!==e.exists?Jf.exists(e.exists):Jf.none()}(t.currentDocument):Jf.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)rs("REQUEST_TIME"===t.setToServerValue),n=new Bf;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new qf(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Gf(i)}else"increment"in t?n=new Wf(e,t.increment):ns();var a=Ss.fromServerFormat(t.fieldPath);return new Xf(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Yh(e,t.update.name),a=new bl({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new zc(t.map((function(e){return Ss.fromServerFormat(e)})))}(t.updateMask);return new uh(i,a,o,n,r)}return new oh(i,a,n,r)}if(t.delete){var u=Yh(e,t.delete);return new dh(u,n)}if(t.verify){var s=Yh(e,t.verify);return new ph(s,n)}return ns()}function ad(e,t){return{documents:[Xh(e,t.path)]}}function od(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Xh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Xh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return pd(Nl.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:hd(e.field),direction:cd(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=zh(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ud(e){var t=$h(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){rs(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=sd(e);return t instanceof Nl&&Dl(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new Sl(dd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return ec(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new xl(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new xl(n,t)}(n.endAt)),nf(t,i,u,o,s,"F",c,l)}function sd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=dd(e.unaryFilter.field);return Al.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=dd(e.unaryFilter.field);return Al.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=dd(e.unaryFilter.field);return Al.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=dd(e.unaryFilter.field);return Al.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ns()}}(e):void 0!==e.fieldFilter?function(e){return Al.create(dd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ns()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Nl.create(e.compositeFilter.filters.map((function(e){return sd(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ns()}}(e.compositeFilter.op))}(e):ns()}function cd(e){return Fh[e]}function ld(e){return Uh[e]}function fd(e){return jh[e]}function hd(e){return{fieldPath:e.canonicalString()}}function dd(e){return Ss.fromServerFormat(e.fieldPath)}function pd(e){return e instanceof Al?function(e){if("=="===e.op){if(hl(e.value))return{unaryFilter:{field:hd(e.field),op:"IS_NAN"}};if(fl(e.value))return{unaryFilter:{field:hd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hl(e.value))return{unaryFilter:{field:hd(e.field),op:"IS_NOT_NAN"}};if(fl(e.value))return{unaryFilter:{field:hd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hd(e.field),op:ld(e.op),value:e.value}}}(e):e instanceof Nl?function(e){var t=e.getFilters().map((function(e){return pd(e)}));return 1===t.length?t[0]:{compositeFilter:{op:fd(e.op),filters:t}}}(e):ns()}function vd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function md(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var yd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_s.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_s.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:qc.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;C(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return P(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),gd=P((function e(t){C(this,e),this.ht=t}));function kd(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bd(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Qh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Bh(e,t.version.toTimestamp()),createTime:Bh(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:wd(t.version)};else{if(!t.isUnknownDocument())return ns();r.unknownDocument={path:n.path.toArray(),version:wd(t.version)}}return r}function bd(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wd(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function _d(e){var t=new ws(e.seconds,e.nanoseconds);return _s.fromTimestamp(t)}function xd(e,t){for(var n=(t.baseMutations||[]).map((function(t){return id(e.ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return id(e.ht,t)})),u=ws.fromMillis(t.localWriteTimeMs);return new vh(t.batchId,u,n,o)}function Id(e){var t,n=_d(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?_d(e.lastLimboFreeSnapshotVersion):_s.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return rs(1===e.documents.length),lf(rf($h(e.documents[0])))}(e.query):function(e){return lf(ud(e))}(e.query),new yd(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,qc.fromBase64String(e.resumeToken))}function Ed(e,t){var n,r=wd(t.snapshotVersion),i=wd(t.lastLimboFreeSnapshotVersion);n=$l(t.target)?ad(e.ht,t.target):od(e.ht,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Yl(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Sd(e){var t=ud({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?df(t,t.limit,"L"):t}function Td(e,t){return new yh(t.largestBatchId,id(e.ht,t.overlayMutation))}function Cd(e,t){var n=t.path.lastSegment();return[e,rc(t.path.popLast()),n]}function Ad(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:wd(r.readTime),documentKey:rc(r.documentKey.path),largestBatchId:r.largestBatchId}}var Nd=function(){function e(){C(this,e)}return P(e,[{key:"getBundleMetadata",value:function(e,t){return Rd(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:_d(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return Rd(e).put(function(e){return{bundleId:e.id,createTime:wd(Gh(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return Pd(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:Sd(e.bundledQuery),readTime:_d(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return Pd(e).put(function(e){return{name:e.name,readTime:wd(Gh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Rd(e){return Rc(e,"bundles")}function Pd(e){return Rc(e,"namedQueries")}var Dd=function(){function e(t,n){C(this,e),this.serializer=t,this.userId=n}return P(e,[{key:"getOverlay",value:function(e,t){var n=this;return Od(e).get(Cd(this.userId,t)).next((function(e){return e?Td(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Tf();return zs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new yh(t,a);i.push(r.It(e,o))})),zs.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(rc(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Od(e).J("collectionPathOverlayIndex",i))})),zs.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Tf(),a=rc(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Od(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=B(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Td(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Tf(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Od(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Td(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"It",value:function(e,t){return Od(e).put(function(e,t,n){var r=h(Cd(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:rd(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"Pt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Od(e){return Rc(e,"documentOverlays")}var Ld=function(){function e(){C(this,e)}return P(e,[{key:"Tt",value:function(e,t){this.Et(e,t),t.dt()}},{key:"Et",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(Hc(e.integerValue));else if("doubleValue"in e){var n=Hc(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),tc(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(Wc(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.At(t,45),t.Rt(i.latitude||0),t.Rt(i.longitude||0)}else"mapValue"in e?vl(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):ns()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ft(a,t),this.Et(n[a],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,i=B(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Et(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),Ts.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();function Md(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Fd(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Md(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ld.vt=new Ld;var Ud=function(){function e(){C(this,e),this.buffer=new Uint8Array(1024),this.position=0}return P(e,[{key:"Ct",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ot(n.value),n=t.next();this.Nt()}},{key:"Bt",value:function(e){var t,n=B(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Lt",value:function(e){var t,n=B(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{var a=r.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Nt()}},{key:"kt",value:function(e){var t=this.qt(e),n=Fd(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Kt",value:function(e){var t=this.qt(e),n=Fd(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"Wt",value:function(){this.Gt(255),this.Gt(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"zt",value:function(){return this.buffer.slice(0,this.position)}},{key:"qt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}},{key:"Ot",value:function(e){var t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}},{key:"Mt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Nt",value:function(){this.Gt(0),this.Gt(1)}},{key:"Ut",value:function(e){this.Qt(1),this.buffer[this.position++]=e}},{key:"Gt",value:function(e){this.Qt(1),this.buffer[this.position++]=~e}},{key:"Qt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),jd=function(){function e(t){C(this,e),this.jt=t}return P(e,[{key:"yt",value:function(e){this.jt.Ct(e)}},{key:"Vt",value:function(e){this.jt.Bt(e)}},{key:"Rt",value:function(e){this.jt.kt(e)}},{key:"dt",value:function(){this.jt.$t()}}]),e}(),Vd=function(){function e(t){C(this,e),this.jt=t}return P(e,[{key:"yt",value:function(e){this.jt.xt(e)}},{key:"Vt",value:function(e){this.jt.Lt(e)}},{key:"Rt",value:function(e){this.jt.Kt(e)}},{key:"dt",value:function(){this.jt.Wt()}}]),e}(),zd=function(){function e(){C(this,e),this.jt=new Ud,this.Ht=new jd(this.jt),this.Jt=new Vd(this.jt)}return P(e,[{key:"seed",value:function(e){this.jt.seed(e)}},{key:"Yt",value:function(e){return 0===e?this.Ht:this.Jt}},{key:"zt",value:function(){return this.jt.zt()}},{key:"reset",value:function(){this.jt.reset()}}]),e}(),Bd=function(){function e(t,n,r,i){C(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return P(e,[{key:"Zt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function qd(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Kd(e.arrayValue,t.arrayValue))?n:0!==(n=Kd(e.directionalValue,t.directionalValue))?n:Ts.comparator(e.documentKey,t.documentKey)}function Kd(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Gd=function(){function e(t){C(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Xt=t.orderBy,this.en=[];var n,r=B(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.tn=i:this.en.push(i)}}catch(a){r.e(a)}finally{r.f()}}return P(e,[{key:"nn",value:function(e){rs(e.collectionGroup===this.collectionId);var t=As(e);if(void 0!==t&&!this.rn(t))return!1;for(var n=Ns(e),r=new Set,i=0,a=0;i<n.length&&this.rn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.tn){if(!r.has(this.tn.field.canonicalString())){var o=n[i];if(!this.sn(this.tn,o)||!this.on(this.Xt[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Xt.length||!this.on(this.Xt[a++],u))return!1}return!0}},{key:"rn",value:function(e){var t,n=B(this.en);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.sn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"sn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"on",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Hd(e){var t,n;if(rs(e instanceof Al||e instanceof Nl),e instanceof Al){if(e instanceof Kl){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Al.create(e.field,"==",t)})))||[];return Nl.create(r,"or")}return e}var i=e.filters.map((function(e){return Hd(e)}));return Nl.create(i,e.op)}function Wd(e){if(0===e.getFilters().length)return[];var t=$d(Hd(e));return rs(Xd(t)),Qd(t)||Yd(t)?[t]:t.getFilters()}function Qd(e){return e instanceof Al}function Yd(e){return e instanceof Nl&&Dl(e)}function Xd(e){return Qd(e)||Yd(e)||function(e){if(e instanceof Nl&&Pl(e)){var t,n=B(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Qd(r)&&!Yd(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function $d(e){if(rs(e instanceof Al||e instanceof Nl),e instanceof Al)return e;if(1===e.filters.length)return $d(e.filters[0]);var t=e.filters.map((function(e){return $d(e)})),n=Nl.create(t,e.op);return Xd(n=ep(n))?n:(rs(n instanceof Nl),rs(Rl(n)),rs(n.filters.length>1),n.filters.reduce((function(e,t){return Jd(e,t)})))}function Jd(e,t){var n;return rs(e instanceof Al||e instanceof Nl),rs(t instanceof Al||t instanceof Nl),n=e instanceof Al?t instanceof Al?function(e,t){return Nl.create([e,t],"and")}(e,t):Zd(e,t):t instanceof Al?Zd(t,e):function(e,t){if(rs(e.filters.length>0&&t.filters.length>0),Rl(e)&&Rl(t))return Fl(e,t.getFilters());var n=Pl(e)?e:t,r=Pl(e)?t:e,i=n.filters.map((function(e){return Jd(e,r)}));return Nl.create(i,"or")}(e,t),ep(n)}function Zd(e,t){if(Rl(t))return Fl(t,e.getFilters());var n=t.filters.map((function(t){return Jd(e,t)}));return Nl.create(n,"or")}function ep(e){if(rs(e instanceof Al||e instanceof Nl),e instanceof Al)return e;var t=e.getFilters();if(1===t.length)return ep(t[0]);if(Ol(e))return e;var n=t.map((function(e){return ep(e)})),r=[];return n.forEach((function(t){t instanceof Al?r.push(t):t instanceof Nl&&(t.op===e.op?r.push.apply(r,T(t.filters)):r.push(t))})),1===r.length?r[0]:Nl.create(r,e.op)}var tp=function(){function e(){C(this,e),this._n=new np}return P(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),zs.resolve()}},{key:"getCollectionParents",value:function(e,t){return zs.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return zs.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return zs.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return zs.resolve(null)}},{key:"getIndexType",value:function(e,t){return zs.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return zs.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return zs.resolve(null)}},{key:"getMinOffset",value:function(e,t){return zs.resolve(Ls.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return zs.resolve(Ls.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return zs.resolve()}},{key:"updateIndexEntries",value:function(e,t){return zs.resolve()}}]),e}(),np=function(){function e(){C(this,e),this.index={}}return P(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Uc(Is.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Uc(Is.comparator)).toArray()}}]),e}(),rp=new Uint8Array(0),ip=function(){function e(t,n){C(this,e),this.user=t,this.databaseId=n,this.an=new np,this.un=new wf((function(e){return Yl(e)}),(function(e,t){return Xl(e,t)})),this.uid=t.uid||""}return P(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.an.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.an.add(t)}));var a={collectionId:r,parent:rc(i)};return ap(e).put(a)}return zs.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[bs(t),""],!1,!0);return ap(e).G(r).next((function(e){var r,i=B(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(oc(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=up(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=sp(e);return a.next((function(e){o.put(Ad(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=up(e),r=sp(e),i=op(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=op(e),i=!0,a=new Map;return zs.forEach(this.cn(t),(function(t){return n.ln(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Pf(),o=[];return zs.forEach(a,(function(i,a){Ju("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(Yl(t)));var u=function(e,t){var n=As(t);if(void 0===n)return null;var r,i=B(Jl(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=B(Ns(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=B(Jl(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=B(Ns(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Zl(e,o.fieldPath,e.startAt):ef(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new xl(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=B(Ns(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ef(e,o.fieldPath,e.endAt):Zl(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new xl(r,i)}(a,i),f=n.hn(i,a,c),h=n.hn(i,a,l),d=n.Pn(i,a,s),p=n.In(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return zs.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Ts.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return zs.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Wd(Nl.create(e.filters,"and")).map((function(t){return Ql(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"In",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.Tn(t[h/c]):rp,f=u.En(e,s,n[h%c],r),d=u.dn(e,s,i[h%c],a),p=o.map((function(t){return u.En(e,s,t,!0)}));l.push.apply(l,T(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"En",value:function(e,t,n,r){var i=new Bd(e,Ts.empty(),t,n);return r?i:i.Zt()}},{key:"dn",value:function(e,t,n,r){var i=new Bd(e,Ts.empty(),t,n);return r?i.Zt():i}},{key:"ln",value:function(e,t){var n=new Gd(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=B(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.nn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return zs.forEach(i,(function(t){return n.ln(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Uc(Ss.comparator),r=!1,i=B(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=B(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=B(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"An",value:function(e,t){var n,r=new zd,i=B(Ns(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Yt(a.kind);Ld.vt.Tt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.zt()}},{key:"Tn",value:function(e){var t=new zd;return Ld.vt.Tt(e,t.Yt(0)),t.zt()}},{key:"Rn",value:function(e,t){var n=new zd;return Ld.vt.Tt(sl(this.databaseId,t),n.Yt(function(e){var t=Ns(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}},{key:"Pn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new zd);var i,a=0,o=B(Ns(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=B(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.Vn(t,s.fieldPath)&&ll(c))r=this.mn(r,s,c);else{var h=f.Yt(s.kind);Ld.vt.Tt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"hn",value:function(e,t,n){return this.Pn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].zt();return t}},{key:"mn",value:function(e,t,n){var r,i=T(e),a=[],o=B(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=B(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new zd;f.seed(l.zt()),Ld.vt.Tt(s,f.Yt(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"Vn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Al&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=up(e),i=sp(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return zs.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ps(t.sequenceNumber,new Ls(_d(t.readTime),new Ts(oc(t.documentKey)),t.largestBatchId)):Ps.empty(),r=e.fields.map((function(e){var t=h(e,2),n=t[0],r=t[1];return new Rs(Ss.fromServerFormat(n),r)}));return new Cs(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:gs(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=up(e),a=sp(e);return this.gn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return zs.forEach(t,(function(t){return a.put(Ad(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return zs.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?zs.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),zs.forEach(a,(function(r){return n.pn(e,t,r).next((function(t){var a=n.yn(i,r);return t.isEqual(a)?zs.resolve():n.wn(e,i,r,t,a)}))}))}))}))}},{key:"Sn",value:function(e,t,n,r){return op(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"bn",value:function(e,t,n,r){return op(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}},{key:"pn",value:function(e,t,n){var r=op(e),i=new Uc(qd);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},(function(e,r){i=i.add(new Bd(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"yn",value:function(e,t){var n=new Uc(qd),r=this.An(t,e);if(null==r)return n;var i=As(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ll(a)){var o,u=B(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Bd(t.indexId,e.key,this.Tn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Bd(t.indexId,e.key,rp,r));return n}},{key:"wn",value:function(e,t,n,r,i){var a=this;Ju("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Vc(a),s=Vc(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Vc(o)):l?(i(u),u=Vc(a)):(u=Vc(a),s=Vc(o))}}(r,i,qd,(function(r){o.push(a.Sn(e,t,n,r))}),(function(r){o.push(a.bn(e,t,n,r))})),zs.waitFor(o)}},{key:"gn",value:function(e){var t=1;return sp(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return qd(e,t)})).filter((function(e,t,n){return!t||0!==qd(e,n[t-1])}));var r=[];r.push(e);var i,a=B(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=qd(o,e),s=qd(o,t);if(0===u)r[0]=e.Zt();else if(u>0&&s<0)r.push(o),r.push(o.Zt());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Dn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,rp,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,rp,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Dn",value:function(e,t){return qd(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(cp)}},{key:"getMinOffset",value:function(e,t){var n=this;return zs.mapArray(this.cn(t),(function(t){return n.ln(e,t).next((function(e){return e||ns()}))})).next(cp)}}]),e}();function ap(e){return Rc(e,"collectionParents")}function op(e){return Rc(e,"indexEntries")}function up(e){return Rc(e,"indexConfiguration")}function sp(e){return Rc(e,"indexState")}function cp(e){rs(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Ms(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ls(t.readTime,t.documentKey,n)}var lp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fp=function(){function e(t,n,r){C(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return P(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function hp(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){rs(1===u)})));var c,l=[],f=B(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=cc(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return zs.waitFor(a).next((function(){return l}))}function dp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ns();t=e.noDocument}return JSON.stringify(t).length}fp.DEFAULT_COLLECTION_PERCENTILE=10,fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fp.DEFAULT=new fp(41943040,fp.DEFAULT_COLLECTION_PERCENTILE,fp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fp.DISABLED=new fp(-1,0,0);var pp=function(){function e(t,n,r,i){C(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}return P(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mp(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=yp(e),o=mp(e);return o.add({}).next((function(u){rs("number"==typeof u);var s,c=new vh(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return rd(e.ht,t)})),i=n.mutations.map((function(t){return rd(e.ht,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Uc((function(e,t){return gs(e.canonicalString(),t.canonicalString())})),d=B(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=cc(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,lc))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.vn[u]=c.keys()})),zs.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return mp(e).get(t).next((function(e){return e?(rs(e.userId===n.userId),xd(n.serializer,e)):null}))}},{key:"Cn",value:function(e,t){var n=this;return this.vn[t]?zs.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return mp(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(rs(t.batchId>=r),a=xd(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return mp(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mp(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return xd(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=sc(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return yp(e).Z({range:i},(function(r,i,o){var u=h(r,3),s=u[0],c=u[1],l=u[2],f=oc(c);if(s===n.userId&&t.path.isEqual(f))return mp(e).get(l).next((function(e){if(!e)throw ns();rs(e.userId===n.userId),a.push(xd(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Uc(gs),i=[];return t.forEach((function(t){var a=sc(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=yp(e).Z({range:o},(function(e,i,a){var o=h(e,3),u=o[0],s=o[1],c=o[2],l=oc(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),zs.waitFor(i).next((function(){return n.Fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=sc(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Uc(gs);return yp(e).Z({range:o},(function(e,t,a){var o=h(e,3),s=o[0],c=o[1],l=o[2],f=oc(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Fn(e,u)}))}},{key:"Fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(mp(e).get(t).next((function(e){if(null===e)throw ns();rs(e.userId===n.userId),r.push(xd(n.serializer,e))})))})),zs.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return hp(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Mn(t.batchId)})),zs.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Mn",value:function(e){delete this.vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return zs.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return yp(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=oc(e[1]);i.push(a)}else r.done()})).next((function(){rs(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return vp(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return gp(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Pt",value:function(t,n,r,i){return rs(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function vp(e,t,n){var r=sc(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return yp(e).Z({range:a,Y:!0},(function(e,n,r){var a=h(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function mp(e){return Rc(e,"mutations")}function yp(e){return Rc(e,"documentMutations")}function gp(e){return Rc(e,"mutationQueues")}var kp=function(){function e(t){C(this,e),this.On=t}return P(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}(),bp=function(){function e(t,n){C(this,e),this.referenceDelegate=t,this.serializer=n}return P(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ln(e).next((function(n){var r=new kp(n.highestTargetId);return n.highestTargetId=r.next(),t.kn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ln(e).next((function(e){return _s.fromTimestamp(new ws(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ln(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ln(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.kn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.qn(e,t).next((function(){return n.Ln(e).next((function(r){return r.targetCount+=1,n.Qn(t,r),n.kn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return wp(e).delete(t.targetId)})).next((function(){return n.Ln(e)})).next((function(t){return rs(t.targetCount>0),t.targetCount-=1,n.kn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return wp(e).Z((function(o,u){var s=Id(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return zs.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return wp(e).Z((function(e,n){var r=Id(n);t(r)}))}},{key:"Ln",value:function(e){return _p(e).get("targetGlobalKey").next((function(e){return rs(null!==e),e}))}},{key:"kn",value:function(e,t){return _p(e).put("targetGlobalKey",t)}},{key:"qn",value:function(e,t){return wp(e).put(Ed(this.serializer,t))}},{key:"Qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ln(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Yl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wp(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Id(n);Xl(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=xp(e);return t.forEach((function(t){var o=rc(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),zs.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=xp(e);return zs.forEach(t,(function(t){var a=rc(t.path);return zs.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=xp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=xp(e),i=Pf();return r.Z({range:n,Y:!0},(function(e,t,n){var r=oc(e[1]),a=new Ts(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=rc(t.path),r=IDBKeyRange.bound([n],[bs(n)],!1,!0),i=0;return xp(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=h(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"lt",value:function(e,t){return wp(e).get(t).next((function(e){return e?Id(e):null}))}}]),e}();function wp(e){return Rc(e,"targets")}function _p(e){return Rc(e,"targetGlobal")}function xp(e){return Rc(e,"targetDocuments")}function Ip(e,t){var n=h(e,2),r=n[0],i=n[1],a=h(t,2),o=a[0],u=a[1],s=gs(r,o);return 0===s?gs(i,u):s}var Ep=function(){function e(t){C(this,e),this.Kn=t,this.buffer=new Uc(Ip),this.$n=0}return P(e,[{key:"Un",value:function(){return++this.$n}},{key:"Wn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ip(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Sp=function(){function e(t,n,r){C(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return P(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"zn",value:function(e){var t=this;Ju("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Hs(e.t0)){e.next=12;break}Ju("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,js(e.t0);case 14:return e.next=16,t.zn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Tp=function(){function e(t,n){C(this,e),this.jn=t,this.params=n}return P(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.Hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return zs.resolve(Zs.ae);var r=new Ep(t);return this.jn.forEachTarget(e,(function(e){return r.Wn(e.sequenceNumber)})).next((function(){return n.jn.Jn(e,(function(e){return r.Wn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ju("LruGarbageCollector","Garbage collection skipped; disabled"),zs.resolve(lp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ju("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),lp):n.Yn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Yn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ju("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),$u()<=Jt.DEBUG&&Ju("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),zs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Cp(e,t){return new Tp(e,t)}var Ap=function(){function e(t,n){C(this,e),this.db=t,this.garbageCollector=Cp(this,n)}return P(e,[{key:"Hn",value:function(e){var t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Zn",value:function(e){var t=0;return this.Jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Jn",value:function(e,t){return this.Xn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Np(e,n)}},{key:"removeReference",value:function(e,t,n){return Np(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Np(e,t)}},{key:"er",value:function(e,t){return function(e,t){var n=!1;return gp(e).X((function(r){return vp(e,r,t).next((function(e){return e&&(n=!0),zs.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Xn(e,(function(o,u){if(u<=t){var s=n.er(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,_s.min()),xp(e).delete(function(e){return[0,rc(e.path)]}(o))}))}));i.push(s)}})).next((function(){return zs.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Np(e,t)}},{key:"Xn",value:function(e,t){var n,r=xp(e),i=Zs.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=h(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Zs.ae&&t(new Ts(oc(n)),i),i=s,n=u):i=Zs.ae})).next((function(){i!==Zs.ae&&t(new Ts(oc(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Np(e,t){return xp(e).put(function(e,t){return{targetId:0,path:rc(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Rp=function(){function e(){C(this,e),this.changes=new wf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return P(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,_l.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?zs.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Pp=function(){function e(t){C(this,e),this.serializer=t}return P(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Mp(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Mp(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],bd(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.tr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=_l.newInvalidDocument(t);return Mp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fp(t))},(function(e,i){r=n.nr(t,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r={size:0,document:_l.newInvalidDocument(t)};return Mp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fp(t))},(function(e,i){r={document:n.nr(t,i),size:dp(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=xf();return this.ir(e,t,(function(e,t){var i=n.nr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"sr",value:function(e,t){var n=this,r=xf(),i=new Lc(Ts.comparator);return this.ir(e,t,(function(e,t){var a=n.nr(e,t);r=r.insert(e,a),i=i.insert(e,dp(t))})).next((function(){return{documents:r,_r:i}}))}},{key:"ir",value:function(e,t,n){if(t.isEmpty())return zs.resolve();var r=new Uc(jp);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Fp(r.first()),Fp(r.last())),a=r.getIterator(),o=a.getNext();return Mp(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ts.fromSegments([].concat(T(t.prefixPath),[t.collectionGroup,t.documentId]));o&&jp(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(Fp(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),bd(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mp(e).G(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=xf(),o=B(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.nr(Ts.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(yf(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=xf(),o=Up(t,n),u=Up(t,Ls.max());return Mp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.nr(Ts.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Op(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Lp(e).get("remoteDocumentGlobalKey").next((function(e){return rs(!!e),e}))}},{key:"tr",value:function(e,t){return Lp(e).put("remoteDocumentGlobalKey",t)}},{key:"nr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=td(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ts.fromSegments(t.noDocument.path),i=_d(t.noDocument.readTime);n=_l.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ns();var a=Ts.fromSegments(t.unknownDocument.path),o=_d(t.unknownDocument.version);n=_l.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ws(e[0],e[1]);return _s.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(_s.min()))return n}return _l.newInvalidDocument(e)}}]),e}();function Dp(e){return new Pp(e)}var Op=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).ar=e,i.trackRemovals=r,i.ur=new wf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return P(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Uc((function(e,t){return gs(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ur.get(a);if(n.push(t.ar.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=kd(t.ar.serializer,o);i=i.add(a.path.popLast());var c=dp(s);r+=c-u.size,n.push(t.ar.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=kd(t.ar.serializer,o.convertToNoDocument(_s.min()));n.push(t.ar.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ar.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ar.updateMetadata(e,r)),zs.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ar.rr(e,t).next((function(e){return n.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ar.sr(e,t).next((function(e){var t=e.documents;return e._r.forEach((function(e,r){n.ur.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Rp);function Lp(e){return Rc(e,"remoteDocumentGlobal")}function Mp(e){return Rc(e,"remoteDocumentsV14")}function Fp(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Up(e,t){var n=t.documentKey.path.toArray();return[e,bd(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function jp(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=gs(n[a],r[a]))return i;return(i=gs(n.length,r.length))||((i=gs(n[n.length-2],r[r.length-2]))||gs(n[n.length-1],r[r.length-1]))}var Vp=P((function e(t,n){C(this,e),this.overlayedDocument=t,this.mutatedFields=n})),zp=function(){function e(t,n,r,i){C(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return P(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&rh(r.mutation,e,zc.empty(),ws.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Pf()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pf(),i=Tf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ef();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Tf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Pf())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=xf(),a=Af(),o=Af();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof uh)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),rh(o.mutation,t,o.mutation.getFieldMask(),ws.now())):a.set(t.key,zc.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Vp(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Af(),i=new Lc((function(e,t){return e-t})),a=Pf();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=B(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||zc.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Pf()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Cf();c.forEach((function(e){if(!a.has(e)){var n=th(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return zs.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ts.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):zs.resolve(Tf()),u=-1,s=a;return o.next((function(t){return zs.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?zs.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Pf())})).next((function(e){return{batchId:u,changes:Sf(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ts(t)).next((function(e){var t=Ef();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ef();return this.indexManager.getCollectionParents(e,i).next((function(o){return zs.forEach(o,(function(o){var u=function(e,t){return new tf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,_l.newInvalidDocument(r)))}));var n=Ef();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&rh(a.mutation,i,zc.empty(),ws.now()),yf(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Bp=function(){function e(t){C(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return P(e,[{key:"getBundleMetadata",value:function(e,t){return zs.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Gh(e.createTime)}}(t)),zs.resolve()}},{key:"getNamedQuery",value:function(e,t){return zs.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Sd(e.bundledQuery),readTime:Gh(e.readTime)}}(t)),zs.resolve()}}]),e}(),qp=function(){function e(){C(this,e),this.overlays=new Lc(Ts.comparator),this.hr=new Map}return P(e,[{key:"getOverlay",value:function(e,t){return zs.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Tf();return zs.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.It(e,t,i)})),zs.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),zs.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Tf(),i=t.length+1,a=new Ts(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return zs.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Lc((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Tf(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Tf(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return zs.resolve(s)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new yh(t,n));var a=this.hr.get(t);void 0===a&&(a=Pf(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),Kp=function(){function e(){C(this,e),this.Pr=new Uc(Gp.Ir),this.Tr=new Uc(Gp.Er)}return P(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Gp(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new Gp(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new Ts(new Is([])),r=new Gp(n,e),i=new Gp(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new Ts(new Is([])),n=new Gp(t,e),r=new Gp(t,e+1),i=Pf();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Gp(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Gp=function(){function e(t,n){C(this,e),this.key=t,this.pr=n}return P(e,null,[{key:"Ir",value:function(e,t){return Ts.comparator(e.key,t.key)||gs(e.pr,t.pr)}},{key:"Er",value:function(e,t){return gs(e.pr,t.pr)||Ts.comparator(e.key,t.key)}}]),e}(),Hp=function(){function e(t,n){C(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Uc(Gp.Ir)}return P(e,[{key:"checkEmpty",value:function(e){return zs.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new vh(i,t,n,r);this.mutationQueue.push(a);var o,u=B(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.wr=this.wr.add(new Gp(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return zs.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return zs.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return zs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return zs.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return zs.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Gp(t,0),i=new Gp(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),zs.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Uc(gs);return t.forEach((function(e){var t=new Gp(e,0),i=new Gp(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),zs.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ts.isDocumentKey(i)||(i=i.child(""));var a=new Gp(new Ts(i),0),o=new Uc(gs);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),zs.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;rs(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return zs.forEach(t.mutations,(function(i){var a=new Gp(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Gp(t,0),r=this.wr.firstAfterOrEqual(n);return zs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,zs.resolve()}},{key:"vr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Wp=function(){function e(t){C(this,e),this.Cr=t,this.docs=new Lc(Ts.comparator),this.size=0}return P(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return zs.resolve(n?n.document.mutableCopy():_l.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=xf();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():_l.newInvalidDocument(e))})),zs.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=xf(),a=t.path,o=new Ts(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Ms(Os(l),n)<=0||(r.has(l.key)||yf(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return zs.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ns()}},{key:"Fr",value:function(e,t){return zs.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Qp(this)}},{key:"getSize",value:function(e){return zs.resolve(this.size)}}]),e}(),Qp=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this)).ar=e,r}return P(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),zs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(Rp),Yp=function(){function e(t){C(this,e),this.persistence=t,this.Mr=new wf((function(e){return Yl(e)}),Xl),this.lastRemoteSnapshotVersion=_s.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Kp,this.targetCount=0,this.Br=kp.Nn()}return P(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),zs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return zs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return zs.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),zs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),zs.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new kp(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,zs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),zs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,zs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),zs.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return zs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return zs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),zs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),zs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),zs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return zs.resolve(n)}},{key:"containsKey",value:function(e,t){return zs.resolve(this.Nr.containsKey(t))}}]),e}(),Xp=function(){function e(t,n){var r=this;C(this,e),this.Lr={},this.overlays={},this.kr=new Zs(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Yp(this),this.indexManager=new tp,this.remoteDocumentCache=function(e){return new Wp(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new gd(n),this.$r=new Bp(this.serializer)}return P(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qp,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new Hp(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;Ju("MemoryPersistence","Starting transaction:",e);var i=new $p(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return zs.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$p=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return P(n)}(Us),Jp=function(){function e(t){C(this,e),this.persistence=t,this.zr=new Kp,this.jr=null}return P(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw ns()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),zs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),zs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),zs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zs.forEach(this.Jr,(function(r){var i=Ts.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,_s.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return zs.or([function(){return zs.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}(),Zp=function(){function e(t){C(this,e),this.serializer=t}return P(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new Bs("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uc,{unique:!0}),e.createObjectStore("documentMutations")}(e),ev(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=zs.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ev(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_s.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uc,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return zs.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Xr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ei(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ti(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ni(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ri(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:_c});t.createIndex("collectionPathOverlayIndex",xc,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ic,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:fc});t.createIndex("documentKeyIndex",hc),t.createIndex("collectionGroupIndex",dc)}(e)})).next((function(){return i.ii(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:gc}).createIndex("sequenceNumberIndex",kc,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:bc}).createIndex("documentKeyIndex",wc,{unique:!1})}(e)}))),o}},{key:"ei",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=dp(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Xr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return zs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return zs.forEach(r,(function(r){rs(r.userId===n.userId);var i=xd(t.serializer,r);return hp(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ti",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Is(n),o=function(e){return[0,rc(e)]}(a);r.push(t.get(o).next((function(n){return n?zs.resolve():function(n){return t.put({targetId:0,path:rc(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return zs.waitFor(r)}))}))}},{key:"ni",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:yc});var n=t.store("collectionParents"),r=new np,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:rc(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Is(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=h(e,3),r=(n[0],n[1]),a=(n[2],oc(r));return i(a.popLast())}))}))}},{key:"ri",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Id(r),a=Ed(t.serializer,i);return n.put(a)}))}},{key:"ii",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Ts(Is.fromString(e.document.name).popFirst(5)):e.noDocument?Ts.fromSegments(e.noDocument.path):e.unknownDocument?Ts.fromSegments(e.unknownDocument.path):ns()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return zs.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=Dp(this.serializer),a=new Xp(Jp.Hr,this.serializer.ht);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Pf();xd(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),zs.forEach(r,(function(e,r){var o=new Qu(r),u=Dd.Pt(n.serializer,o),s=a.getIndexManager(o),c=pp.Pt(o,n.serializer,s,a.referenceDelegate);return new zp(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Nc(t,Zs.ae),e).next()}))}))}}]),e}();function ev(e){e.createObjectStore("targetDocuments",{keyPath:vc}).createIndex("documentTargetsIndex",mc,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pc,{unique:!0}),e.createObjectStore("targetGlobal")}var tv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nv=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(C(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.oi=a,this.window=o,this.document=u,this._i=c,this.ai=l,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=function(e){return Promise.resolve()},!e.v())throw new os(as.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ap(this,i),this.Ti=n+"main",this.serializer=new gd(s),this.Ei=new qs(this.Ti,this.ui,new Zp(this.serializer)),this.Qr=new bp(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Dp(this.serializer),this.$r=new Nd,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&Zu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return P(e,[{key:"start",value:function(){var e=this;return this.Ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new os(as.FAILED_PRECONDITION,tv);return e.Ri(),e.Vi(),e.mi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Qr.getHighestSequenceNumber(t)}))})).then((function(t){e.kr=new Zs(t,e._i)})).then((function(){e.qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"fi",value:function(e){var t=this;return this.Ii=function(){var n=vt(dt().mark((function n(r){return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ei.k(function(){var t=vt(dt().mark((function t(n){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return iv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.gi(t).next((function(t){t||(e.isPrimary=!1,e.oi.enqueueRetryable((function(){return e.Ii(!1)})))}))})).next((function(){return e.pi(t)})).next((function(n){return e.isPrimary&&!n?e.yi(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Hs(t))return Ju("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ju("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.oi.enqueueRetryable((function(){return e.Ii(t)})),e.isPrimary=t}))}},{key:"gi",value:function(e){var t=this;return rv(e).get("owner").next((function(e){return zs.resolve(t.Si(e))}))}},{key:"bi",value:function(e){return iv(e).delete(this.clientId)}},{key:"Di",value:function(){var e=vt(dt().mark((function e(){var t,n,r,i,a=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vi(this.Pi,18e5)){e.next=6;break}return this.Pi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Rc(e,"clientMetadata");return t.G().next((function(e){var n=a.Ci(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return zs.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.di){n=B(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.di.removeItem(this.Fi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mi",value:function(){var e=this;this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ai().then((function(){return e.Di()})).then((function(){return e.mi()}))}))}},{key:"Si",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"pi",value:function(e){var t=this;return this.ai?zs.resolve(!0):rv(e).get("owner").next((function(n){if(null!==n&&t.vi(n.leaseTimestampMs,5e3)&&!t.Mi(n.ownerId)){if(t.Si(n)&&t.networkEnabled)return!0;if(!t.Si(n)){if(!n.allowTabSynchronization)throw new os(as.FAILED_PRECONDITION,tv);return!1}}return!(!t.networkEnabled||!t.inForeground)||iv(e).G().next((function(e){return void 0===t.Ci(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ju("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=vt(dt().mark((function e(){var t=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Nc(e,Zs.ae);return t.yi(n).next((function(){return t.bi(n)}))}));case 7:this.Ei.close(),this.Bi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ci",value:function(e,t){var n=this;return e.filter((function(e){return n.vi(e.updateTimeMs,t)&&!n.Mi(e.clientId)}))}},{key:"Li",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return iv(t).G().next((function(t){return e.Ci(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.qr}},{key:"getMutationQueue",value:function(e,t){return pp.Pt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ip(e,this.serializer.ht.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Dd.Pt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;Ju("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?Ac:14===e?Cc:13===e?Tc:12===e?Sc:11===e?Ec:void ns()}(this.ui);return this.Ei.runTransaction(e,a,o,(function(a){return i=new Nc(a,r.kr?r.kr.next():Zs.ae),"readwrite-primary"===t?r.gi(i).next((function(e){return!!e||r.pi(i)})).next((function(t){if(!t)throw Zu("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.oi.enqueueRetryable((function(){return r.Ii(!1)})),new os(as.FAILED_PRECONDITION,Fs);return n(i)})).next((function(e){return r.wi(i).next((function(){return e}))})):r.ki(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"ki",value:function(e){var t=this;return rv(e).get("owner").next((function(e){if(null!==e&&t.vi(e.leaseTimestampMs,5e3)&&!t.Mi(e.ownerId)&&!t.Si(e)&&!(t.ai||t.allowTabSynchronization&&e.allowTabSynchronization))throw new os(as.FAILED_PRECONDITION,tv)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rv(e).put("owner",t)}},{key:"yi",value:function(e){var t=this,n=rv(e);return n.get("owner").next((function(e){return t.Si(e)?(Ju("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):zs.resolve()}))}},{key:"vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Zu("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=function(){e.oi.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ai()}))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}},{key:"Oi",value:function(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}},{key:"Vi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!At()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.oi.enterRestrictedMode(!0),t.oi.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"Ni",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Mi",value:function(e){var t;try{var n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Ju("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Zu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Zu("Failed to set zombie client id.",e)}}},{key:"Bi",value:function(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}},{key:"Fi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return qs.v()}}]),e}();function rv(e){return Rc(e,"owner")}function iv(e){return Rc(e,"clientMetadata")}function av(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ov=function(){function e(t,n,r,i){C(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return P(e,null,[{key:"Ki",value:function(t,n){var r,i=Pf(),a=Pf(),o=B(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),uv=function(){function e(){C(this,e),this.$i=!1}return P(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Wi(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.zi(e,t)}))}},{key:"Wi",value:function(e,t){var n=this;if(af(t))return zs.resolve(null);var r=lf(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=df(t,null,"F"),r=lf(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Pf.apply(void 0,T(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.Hi(t,o,a,r.readTime)?n.Wi(e,df(t,null,"F")):n.Ji(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return af(t)||r.isEqual(_s.min())?this.zi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.Hi(t,o,n,r)?i.zi(e,t):($u()<=Jt.DEBUG&&Ju("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mf(t)),i.Ji(e,o,t,Ds(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Uc(kf(e));return t.forEach((function(t,r){yf(e,r)&&(n=n.add(r))})),n}},{key:"Hi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"zi",value:function(e,t){return $u()<=Jt.DEBUG&&Ju("QueryEngine","Using full collection scan to execute query:",mf(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ls.min())}},{key:"Ji",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),sv=function(){function e(t,n,r,i){C(this,e),this.persistence=t,this.Yi=n,this.serializer=i,this.Zi=new Lc(gs),this.Xi=new wf((function(e){return Yl(e)}),Xl),this.es=new Map,this.ts=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this.ns(r)}return P(e,[{key:"ns",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zp(this.ts,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ts.setIndexManager(this.indexManager),this.Yi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Zi)}))}}]),e}();function cv(e,t,n,r){return new sv(e,t,n,r)}function lv(e,t){return fv.apply(this,arguments)}function fv(){return fv=vt(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.ns(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Pf(),s=B(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=B(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=B(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=B(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{rs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}function hv(e,t){var n=is(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ts.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=zs.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);rs(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Pf(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function dv(e){var t=is(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function pv(e,t){var n=is(e),r=t.snapshotVersion,i=n.Zi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ts.newChangeBuffer({trackRemovals:!0});i=n.Zi;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(qc.EMPTY_BYTE_STRING,_s.min()).withLastLimboFreeSnapshotVersion(_s.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Qr.updateTargetData(e,c))}}));var u=xf(),s=Pf();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(vv(e,a,t.documentUpdates).next((function(e){u=e.ss,s=e.os}))),!r.isEqual(_s.min())){var c=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return zs.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Zi=i,e}))}function vv(e,t,n){var r=Pf(),i=Pf();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=xf();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(_s.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ju("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ss:r,os:i}}))}function mv(e,t){var n=is(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function yv(e,t){var n=is(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,zs.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new yd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Zi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Zi=n.Zi.insert(e.targetId,e),n.Xi.set(t,e.targetId)),e}))}function gv(e,t,n){return kv.apply(this,arguments)}function kv(){return kv=vt(dt().mark((function e(t,n,r){var i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=is(t),a=i.Zi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Hs(e.t1)){e.next=12;break}throw e.t1;case 12:Ju("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Zi=i.Zi.remove(n),i.Xi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),kv.apply(this,arguments)}function bv(e,t,n){var r=is(e),i=_s.min(),a=Pf();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=is(e),i=r.Xi.get(n);return void 0!==i?zs.resolve(r.Zi.get(i)):r.Qr.getTargetData(t,n)}(r,e,lf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Yi.getDocumentsMatchingQuery(e,t,n?i:_s.min(),n?a:Pf())})).next((function(e){return xv(r,gf(t),e),{documents:e,_s:a}}))}))}function wv(e,t){var n=is(e),r=is(n.Qr),i=n.Zi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function _v(e,t){var n=is(e),r=n.es.get(t)||_s.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ts.getAllFromCollectionGroup(e,t,Ds(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return xv(n,t,e),e}))}function xv(e,t,n){var r=e.es.get(t)||_s.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.es.set(t,r)}function Iv(e,t,n,r){return Ev.apply(this,arguments)}function Ev(){return Ev=vt(dt().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=is(t),o=Pf(),u=xf(),s=B(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.us(l.metadata.name),l.document&&(o=o.add(f)),(h=n.cs(l)).setReadTime(n.ls(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ts.newChangeBuffer({trackRemovals:!0}),e.next=7,yv(a,function(e){return lf(rf(Is.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return vv(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ss,t.os)})).next((function(){return t.ss}))}))})));case 9:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function Sv(e,t){return Tv.apply(this,arguments)}function Tv(){return Tv=vt(dt().mark((function e(t,n){var r,i,a,o=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Pf(),e.next=3,yv(t,lf(Sd(n.bundledQuery)));case 3:return i=e.sent,a=is(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Gh(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$r.saveNamedQuery(e,n);var o=i.withResumeToken(qc.EMPTY_BYTE_STRING,t);return a.Zi=a.Zi.insert(o.targetId,o),a.Qr.updateTargetData(e,o).next((function(){return a.Qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$r.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Cv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Av(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Nv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Rv=function(){function e(t,n,r,i){C(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return P(e,[{key:"Ps",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"hs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new os(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Zu("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Pv=function(){function e(t,n,r){C(this,e),this.targetId=t,this.state=n,this.error=r}return P(e,[{key:"Ps",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"hs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new os(i.error.code,i.error.message))),a?new e(t,i.state,r):(Zu("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Dv=function(){function e(t,n){C(this,e),this.clientId=t,this.activeTargetIds=n}return P(e,null,[{key:"hs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Of(),o=0;i&&o<r.activeTargetIds.length;++o)i=nc(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Zu("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ov=function(){function e(t,n){C(this,e),this.clientId=t,this.onlineState=n}return P(e,null,[{key:"hs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Zu("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Lv=function(){function e(){C(this,e),this.activeTargetIds=Of()}return P(e,[{key:"Is",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ts",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ps",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Mv=function(){function e(t,n,r,i,a){C(this,e),this.window=t,this.oi=n,this.persistenceKey=r,this.Es=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ds=this.As.bind(this),this.Rs=new Lc(gs),this.started=!1,this.Vs=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.fs=Cv(this.persistenceKey,this.Es),this.gs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Rs=this.Rs.insert(this.Es,new Lv),this.ps=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ys=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ws=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ss=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.bs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ds)}return P(e,[{key:"start",value:function(){var e=vt(dt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Li();case 2:t=e.sent,n=B(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Es){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Cv(this.persistenceKey,i)))&&(o=Dv.hs(i,a))&&(this.Rs=this.Rs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ds(),(u=this.storage.getItem(this.Ss))&&(s=this.vs(u))&&this.Cs(s),c=B(this.Vs);try{for(c.s();!(l=c.n()).done;)f=l.value,this.As(f)}catch(d){c.e(d)}finally{c.f()}this.Vs=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.gs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Fs(this.Rs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Rs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ms(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ms(e,t,n),this.xs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Nv(this.persistenceKey,e));if(n){var r=Pv.hs(e,n);r&&(t=r.state)}}return this.Os.Is(e),this.Ds(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Os.Ts(e),this.Ds()}},{key:"isLocalQueryTarget",value:function(e){return this.Os.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Nv(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Ns(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.xs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Bs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ls(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ds),this.removeItem(this.fs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ju("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ju("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ju("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"As",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ju("SharedClientState","EVENT",n.key,n.newValue),n.key===this.fs)return void Zu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(vt(dt().mark((function e(){var r,i,a,o,u,s,c;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ps.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ks(n.key),e.abrupt("return",t.qs(r,null));case 6:if(!(i=t.Qs(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.qs(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ys.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Ks(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.$s(a));case 16:e.next=41;break;case 18:if(!t.ws.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Us(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Ws(o));case 23:e.next=41;break;case 25:if(n.key!==t.Ss){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.vs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Cs(u));case 30:e.next=41;break;case 32:if(n.key!==t.gs){e.next=37;break}s=function(e){var t=Zs.ae;if(null!=e)try{var n=JSON.parse(e);rs("number"==typeof n),t=n}catch(e){Zu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Zs.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.bs){e.next=41;break}return c=t.Gs(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.zs(e)})));case 41:e.next=44;break;case 43:t.Vs.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Os",get:function(){return this.Rs.get(this.Es)}},{key:"Ds",value:function(){this.setItem(this.fs,this.Os.Ps())}},{key:"Ms",value:function(e,t,n){var r=new Rv(this.currentUser,e,t,n),i=Av(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ps())}},{key:"xs",value:function(e){var t=Av(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Bs",value:function(e){var t={clientId:this.Es,onlineState:e};this.storage.setItem(this.Ss,JSON.stringify(t))}},{key:"Ns",value:function(e,t,n){var r=Nv(this.persistenceKey,e),i=new Pv(e,t,n);this.setItem(r,i.Ps())}},{key:"Ls",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.bs,t)}},{key:"ks",value:function(e){var t=this.ps.exec(e);return t?t[1]:null}},{key:"Qs",value:function(e,t){var n=this.ks(e);return Dv.hs(n,t)}},{key:"Ks",value:function(e,t){var n=this.ys.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Rv.hs(new Qu(i),r,t)}},{key:"Us",value:function(e,t){var n=this.ws.exec(e),r=Number(n[1]);return Pv.hs(r,t)}},{key:"vs",value:function(e){return Ov.hs(e)}},{key:"Gs",value:function(e){return JSON.parse(e)}},{key:"$s",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.js(t.batchId,t.state,t.error));case 2:Ju("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ws",value:function(e){return this.syncEngine.Hs(e.targetId,e.state,e.error)}},{key:"qs",value:function(e,t){var n=this,r=t?this.Rs.insert(e,t):this.Rs.remove(e),i=this.Fs(this.Rs),a=this.Fs(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Js(o,u).then((function(){n.Rs=r}))}},{key:"Cs",value:function(e){this.Rs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Fs",value:function(e){var t=Of();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Fv=function(){function e(){C(this,e),this.Ys=new Lv,this.Zs={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return P(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ys.Is(e),this.Zs[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Zs[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ys.Ts(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ys.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Zs[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ys.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ys.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ys=new Lv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Uv=function(){function e(){C(this,e)}return P(e,[{key:"Xs",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),jv=function(){function e(){var t=this;C(this,e),this.eo=function(){return t.no()},this.ro=function(){return t.io()},this.so=[],this.oo()}return P(e,[{key:"Xs",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.eo),window.removeEventListener("offline",this.ro)}},{key:"oo",value:function(){window.addEventListener("online",this.eo),window.addEventListener("offline",this.ro)}},{key:"no",value:function(){Ju("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=B(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"io",value:function(){Ju("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=B(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Vv=null;function zv(){return null===Vv?Vv=268435456+Math.round(2147483648*Math.random()):Vv++,"0x"+Vv.toString(16)}var Bv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},qv=function(){function e(t){C(this,e),this._o=t._o,this.ao=t.ao}return P(e,[{key:"uo",value:function(e){this.co=e}},{key:"lo",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.Po=e}},{key:"close",value:function(){this.ao()}},{key:"send",value:function(e){this._o(e)}},{key:"Io",value:function(){this.co()}},{key:"To",value:function(e){this.ho(e)}},{key:"Eo",value:function(e){this.Po(e)}}]),e}(),Kv="WebChannelConnection",Gv=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return P(n,[{key:"wo",value:function(e,t,n,r){var i=zv();return new Promise((function(a,o){var u=new Ku;u.setWithCredentials(!0),u.listenOnce(Vu.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case ju.NO_ERROR:var t=u.getResponseJson();Ju(Kv,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case ju.TIMEOUT:Ju(Kv,"RPC '".concat(e,"' ").concat(i," timed out")),o(new os(as.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:var n=u.getStatus();if(Ju(Kv,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(as).indexOf(t)>=0?t:as.UNKNOWN}(s.status);o(new os(c,s.message))}else o(new os(as.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new os(as.UNAVAILABLE,"Connection failed."));break;default:ns()}}finally{Ju(Kv,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Ju(Kv,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"bo",value:function(e,t,n){var r=zv(),i=[this.Ao,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Fu(),o=Uu(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.yo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");Ju(Kv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new qv({_o:function(t){h?Ju(Kv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Ju(Kv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),Ju(Kv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ao:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,qu.EventType.OPEN,(function(){h||Ju(Kv,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,qu.EventType.CLOSE,(function(){h||(h=!0,Ju(Kv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.To())})),p(l,qu.EventType.ERROR,(function(t){h||(h=!0,es(Kv,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.To(new os(as.UNAVAILABLE,"The operation could not be completed")))})),p(l,qu.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];rs(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Ju(Kv,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=fh[e];if(void 0!==t)return bh(t)}(u),c=o.message;void 0===s&&(s=as.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.To(new os(s,c)),l.close()}else Ju(Kv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Eo(i)}})),p(o,zu.STAT_EVENT,(function(t){t.stat===Bu.PROXY?Ju(Kv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Bu.NOPROXY&&Ju(Kv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Io()}),0),d}}]),n}(function(){function e(t){C(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ao=n+"://"+t.host,this.Ro="projects/".concat(r,"/databases/").concat(i),this.Vo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return P(e,[{key:"mo",get:function(){return!1}},{key:"fo",value:function(e,t,n,r,i){var a=zv(),o=this.po(e,t);Ju("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.Ro,"x-goog-request-params":this.Vo};return this.yo(u,r,i),this.wo(e,o,u,n).then((function(t){return Ju("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw es("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"So",value:function(e,t,n,r,i,a){return this.fo(e,t,n,r,i)}},{key:"yo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"po",value:function(e,t){var n=Bv[e];return"".concat(this.Ao,"/v1/").concat(t,":").concat(n)}}]),e}());function Hv(){return"undefined"!=typeof window?window:null}function Wv(){return"undefined"!=typeof document?document:null}function Qv(e){return new Vh(e,!0)}var Yv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;C(this,e),this.oi=t,this.timerId=n,this.Do=r,this.vo=i,this.Co=a,this.Fo=0,this.Mo=null,this.xo=Date.now(),this.reset()}return P(e,[{key:"reset",value:function(){this.Fo=0}},{key:"Oo",value:function(){this.Fo=this.Co}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Fo+this.Bo()),r=Math.max(0,Date.now()-this.xo),i=Math.max(0,n-r);i>0&&Ju("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Fo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Mo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.xo=Date.now(),e()})),this.Fo*=this.vo,this.Fo<this.Do&&(this.Fo=this.Do),this.Fo>this.Co&&(this.Fo=this.Co)}},{key:"Lo",value:function(){null!==this.Mo&&(this.Mo.skipDelay(),this.Mo=null)}},{key:"cancel",value:function(){null!==this.Mo&&(this.Mo.cancel(),this.Mo=null)}},{key:"Bo",value:function(){return(Math.random()-.5)*this.Fo}}]),e}(),Xv=function(){function e(t,n,r,i,a,o,u,s){C(this,e),this.oi=t,this.ko=r,this.qo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Qo=0,this.Ko=null,this.$o=null,this.stream=null,this.Uo=new Yv(t,n)}return P(e,[{key:"Wo",value:function(){return 1===this.state||5===this.state||this.Go()}},{key:"Go",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.zo()}},{key:"stop",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Wo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jo",value:function(){this.state=0,this.Uo.reset()}},{key:"Ho",value:function(){var e=this;this.Go()&&null===this.Ko&&(this.Ko=this.oi.enqueueAfterDelay(this.ko,6e4,(function(){return e.Jo()})))}},{key:"Yo",value:function(e){this.Zo(),this.stream.send(e)}},{key:"Jo",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Go()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}},{key:"Xo",value:function(){this.$o&&(this.$o.cancel(),this.$o=null)}},{key:"close",value:function(){var e=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Zo(),this.Xo(),this.Uo.cancel(),this.Qo++,4!==t?this.Uo.reset():n&&n.code===as.RESOURCE_EXHAUSTED?(Zu(n.toString()),Zu("Using maximum backoff delay to prevent overloading the backend."),this.Uo.Oo()):n&&n.code===as.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.e_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.lo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"e_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.t_(this.Qo),n=this.Qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=h(t,2),i=r[0],a=r[1];e.Qo===n&&e.n_(i,a)}),(function(n){t((function(){var t=new os(as.UNKNOWN,"Fetching auth token failed: "+n.message);return e.r_(t)}))}))}},{key:"n_",value:function(e,t){var n=this,r=this.t_(this.Qo);this.stream=this.i_(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.$o=n.oi.enqueueAfterDelay(n.qo,1e4,(function(){return n.Go()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.lo((function(e){r((function(){return n.r_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"zo",value:function(){var e=this;this.state=5,this.Uo.No(vt(dt().mark((function t(){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"r_",value:function(e){return Ju("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"t_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Qo===e?n():(Ju("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),$v=function(e){O(n,e);var t=U(n);function n(e,r,i,a,o,u){var s;return C(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return P(n,[{key:"i_",value:function(e,t){return this.connection.bo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Uo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ns()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(rs(void 0===t||"string"==typeof t),qc.fromBase64String(t||"")):(rs(void 0===t||t instanceof Uint8Array),qc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?as.UNKNOWN:bh(e.code);return new os(t,e.message||"")}(o);n=new Ph(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Yh(e,s.document.name),l=Gh(s.document.updateTime),f=s.document.createTime?Gh(s.document.createTime):_s.min(),h=new bl({mapValue:{fields:s.document.fields}}),d=_l.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Nh(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Yh(e,m.document),g=m.readTime?Gh(m.readTime):_s.min(),k=_l.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Nh([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=Yh(e,w.document),x=w.removedTargetIds||[];n=new Nh([],x,_,null)}else{if(!("filter"in t))return ns();t.filter;var I=t.filter;I.targetId;var E=I.count,S=void 0===E?0:E,T=I.unchangedNames,C=new gh(S,T),A=I.targetId;n=new Rh(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return _s.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?_s.min():t.readTime?Gh(t.readTime):_s.min()}(e);return this.listener.s_(t,n)}},{key:"o_",value:function(e){var t={};t.database=Jh(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=$l(r)?{documents:ad(e,r)}:{query:od(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=qh(e,t.resumeToken);var i=zh(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(_s.min())>0){n.readTime=Bh(e,t.snapshotVersion.toTimestamp());var a=zh(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ns()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Yo(t)}},{key:"__",value:function(e){var t={};t.database=Jh(this.serializer),t.removeTarget=e,this.Yo(t)}}]),n}(Xv),Jv=function(e){O(n,e);var t=U(n);function n(e,r,i,a,o,u){var s;return C(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.a_=!1,s}return P(n,[{key:"u_",get:function(){return this.a_}},{key:"start",value:function(){this.a_=!1,this.lastStreamToken=void 0,Ir(L(n.prototype),"start",this).call(this)}},{key:"e_",value:function(){this.a_&&this.c_([])}},{key:"i_",value:function(e,t){return this.connection.bo("Write",e,t)}},{key:"onMessage",value:function(e){if(rs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_){this.Uo.reset();var t=function(e,t){return e&&e.length>0?(rs(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Gh(e.updateTime):Gh(t);return n.isEqual(_s.min())&&(n=Gh(t)),new $f(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Gh(e.commitTime);return this.listener.l_(n,t)}return rs(!e.writeResults||0===e.writeResults.length),this.a_=!0,this.listener.h_()}},{key:"P_",value:function(){var e={};e.database=Jh(this.serializer),this.Yo(e)}},{key:"c_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return rd(t.serializer,e)}))};this.Yo(n)}}]),n}(Xv),Zv=function(e){O(n,e);var t=U(n);function n(e,r,i,a){var o;return C(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.I_=!1,o}return P(n,[{key:"T_",value:function(){if(this.I_)throw new os(as.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"fo",value:function(e,t,n){var r=this;return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=h(i,2),o=a[0],u=a[1];return r.connection.fo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===as.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new os(as.UNKNOWN,e.toString())}))}},{key:"So",value:function(e,t,n,r){var i=this;return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=h(a,2),u=o[0],s=o[1];return i.connection.So(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===as.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new os(as.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.I_=!0}}]),n}(P((function e(){C(this,e)})));var em=function(){function e(t,n){C(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.d_=0,this.A_=null,this.R_=!0}return P(e,[{key:"V_",value:function(){var e=this;0===this.d_&&(this.m_("Unknown"),this.A_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.A_=null,e.f_("Backend didn't respond within 10 seconds."),e.m_("Offline"),Promise.resolve()})))}},{key:"g_",value:function(e){"Online"===this.state?this.m_("Unknown"):(this.d_++,this.d_>=1&&(this.p_(),this.f_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.m_("Offline")))}},{key:"set",value:function(e){this.p_(),this.d_=0,"Online"===e&&(this.R_=!1),this.m_(e)}},{key:"m_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"f_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.R_?(Zu(t),this.R_=!1):Ju("OnlineStateTracker",t)}},{key:"p_",value:function(){null!==this.A_&&(this.A_.cancel(),this.A_=null)}}]),e}(),tm=P((function e(t,n,r,i,a){var o=this;C(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.y_=[],this.w_=new Map,this.S_=new Set,this.b_=[],this.D_=a,this.D_.Xs((function(e){r.enqueueAndForget(vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=hm(o),!e.t0){e.next=5;break}return Ju("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=is(t)).S_.add(4),e.next=4,im(n);case 4:return n.v_.set("Unknown"),n.S_.delete(4),e.next=8,nm(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.v_=new em(r,i)}));function nm(e){return rm.apply(this,arguments)}function rm(){return(rm=vt(dt().mark((function e(t){var n,r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hm(t)){e.next=18;break}n=B(t.b_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function im(e){return am.apply(this,arguments)}function am(){return(am=vt(dt().mark((function e(t){var n,r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=B(t.b_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function om(e,t){var n=is(e);n.w_.has(t.targetId)||(n.w_.set(t.targetId,t),fm(n)?lm(n):zm(n).Go()&&sm(n,t))}function um(e,t){var n=is(e),r=zm(n);n.w_.delete(t),r.Go()&&cm(n,t),0===n.w_.size&&(r.Go()?r.Ho():hm(n)&&n.v_.set("Unknown"))}function sm(e,t){if(e.C_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_s.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zm(e).o_(t)}function cm(e,t){e.C_.Le(t),zm(e).__(t)}function lm(e){e.C_=new Oh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.w_.get(t)||null},st:function(){return e.datastore.serializer.databaseId}}),zm(e).start(),e.v_.V_()}function fm(e){return hm(e)&&!zm(e).Wo()&&e.w_.size>0}function hm(e){return 0===is(e).S_.size}function dm(e){e.C_=void 0}function pm(e){return vm.apply(this,arguments)}function vm(){return(vm=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.w_.forEach((function(e,n){sm(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mm(e,t){return ym.apply(this,arguments)}function ym(){return(ym=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dm(t),fm(t)?(t.v_.g_(n),lm(t)):t.v_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gm(e,t,n){return km.apply(this,arguments)}function km(){return km=vt(dt().mark((function e(t,n,r){var i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.v_.set("Online"),!(n instanceof Ph&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=vt(dt().mark((function e(t,n){var r,i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=B(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.w_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.w_.delete(o),t.C_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ju("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,bm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Nh?t.C_.Ge(n):n instanceof Rh?t.C_.Xe(n):t.C_.He(n),r.isEqual(_s.min())){e.next=29;break}return e.prev=14,e.next=17,dv(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.C_._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.w_.get(r);i&&e.w_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.w_.get(t);if(r){e.w_.set(t,r.withResumeToken(qc.EMPTY_BYTE_STRING,r.snapshotVersion)),cm(e,t);var i=new yd(r.target,t,n,r.sequenceNumber);sm(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ju("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,bm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),km.apply(this,arguments)}function bm(e,t,n){return wm.apply(this,arguments)}function wm(){return(wm=vt(dt().mark((function e(t,n,r){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hs(n)){e.next=2;break}throw n;case 2:return t.S_.add(1),e.next=5,im(t);case 5:t.v_.set("Offline"),r||(r=function(){return dv(t.localStore)}),t.asyncQueue.enqueueRetryable(vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ju("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.S_.delete(1),e.next=6,nm(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _m(e,t){return t().catch((function(n){return bm(e,n,t)}))}function xm(e){return Im.apply(this,arguments)}function Im(){return Im=vt(dt().mark((function e(t){var n,r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=is(t),r=Bm(n),i=n.y_.length>0?n.y_[n.y_.length-1].batchId:-1;case 2:if(!Em(n)){e.next=19;break}return e.prev=3,e.next=6,mv(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.y_.length&&r.Ho(),e.abrupt("break",19);case 10:i=a.batchId,Sm(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,bm(n,e.t0);case 17:e.next=2;break;case 19:Tm(n)&&Cm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Im.apply(this,arguments)}function Em(e){return hm(e)&&e.y_.length<10}function Sm(e,t){e.y_.push(t);var n=Bm(e);n.Go()&&n.u_&&n.c_(t.mutations)}function Tm(e){return hm(e)&&!Bm(e).Wo()&&e.y_.length>0}function Cm(e){Bm(e).start()}function Am(e){return Nm.apply(this,arguments)}function Nm(){return(Nm=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Bm(t).P_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rm(e){return Pm.apply(this,arguments)}function Pm(){return(Pm=vt(dt().mark((function e(t){var n,r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Bm(t),r=B(t.y_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.c_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dm(e,t,n){return Om.apply(this,arguments)}function Om(){return Om=vt(dt().mark((function e(t,n,r){var i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.y_.shift(),a=mh.from(i,n,r),e.next=3,_m(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,xm(t);case 5:case"end":return e.stop()}}),e)}))),Om.apply(this,arguments)}function Lm(e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Bm(t).u_,!e.t0){e.next=4;break}return e.next=4,function(){var e=vt(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return kh(e)&&e!==as.ABORTED}(n.code)){e.next=7;break}return r=t.y_.shift(),Bm(t).jo(),e.next=5,_m(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,xm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Tm(t)&&Cm(t);case 5:case"end":return e.stop()}}),e)}))),Mm.apply(this,arguments)}function Fm(e,t){return Um.apply(this,arguments)}function Um(){return Um=vt(dt().mark((function e(t,n){var r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=is(t)).asyncQueue.verifyOperationInProgress(),Ju("RemoteStore","RemoteStore received new credentials"),i=hm(r),r.S_.add(3),e.next=6,im(r);case 6:return i&&r.v_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.S_.delete(3),e.next=12,nm(r);case 12:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}function jm(e,t){return Vm.apply(this,arguments)}function Vm(){return(Vm=vt(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=is(t),!n){e.next=7;break}return r.S_.delete(2),e.next=5,nm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.S_.add(2),e.next=12,im(r);case 12:r.v_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zm(e){return e.F_||(e.F_=function(e,t,n){var r=is(e);return r.T_(),new $v(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:pm.bind(null,e),lo:mm.bind(null,e),s_:gm.bind(null,e)}),e.b_.push(function(){var t=vt(dt().mark((function t(n){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.F_.jo(),fm(e)?lm(e):e.v_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.F_.stop();case 6:dm(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.F_}function Bm(e){return e.M_||(e.M_=function(e,t,n){var r=is(e);return r.T_(),new Jv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Am.bind(null,e),lo:Lm.bind(null,e),h_:Rm.bind(null,e),l_:Dm.bind(null,e)}),e.b_.push(function(){var t=vt(dt().mark((function t(n){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.M_.jo(),t.next=4,xm(e);case 4:t.next=9;break;case 6:return t.next=8,e.M_.stop();case 8:e.y_.length>0&&(Ju("RemoteStore","Stopping write stream with ".concat(e.y_.length," pending writes")),e.y_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.M_}var qm=function(){function e(t,n,r,i,a){C(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return P(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new os(as.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Km(e,t){if(Zu("AsyncQueue","".concat(t,": ").concat(e)),Hs(e))return new os(as.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Gm=function(){function e(t){C(this,e),this.comparator=t?function(e,n){return t(e,n)||Ts.comparator(e.key,n.key)}:function(e,t){return Ts.comparator(e.key,t.key)},this.keyedMap=Ef(),this.sortedSet=new Lc(this.comparator)}return P(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Hm=function(){function e(){C(this,e),this.x_=new Lc(Ts.comparator)}return P(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.x_.get(t);n?0!==e.type&&3===n.type?this.x_=this.x_.insert(t,e):3===e.type&&1!==n.type?this.x_=this.x_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.x_=this.x_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.x_=this.x_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.x_=this.x_.remove(t):1===e.type&&2===n.type?this.x_=this.x_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.x_=this.x_.insert(t,{type:2,doc:e.doc}):ns():this.x_=this.x_.insert(t,e)}},{key:"O_",value:function(){var e=[];return this.x_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Wm=function(){function e(t,n,r,i,a,o,u,s,c){C(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return P(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Gm.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Qm=P((function e(){C(this,e),this.N_=void 0,this.listeners=[]})),Ym=P((function e(){C(this,e),this.queries=new wf((function(e){return vf(e)}),pf),this.onlineState="Unknown",this.B_=new Set}));function Xm(e,t){return $m.apply(this,arguments)}function $m(){return $m=vt(dt().mark((function e(t,n){var r,i,a,o,u;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=is(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Qm),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.N_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Km(e.t0,"Initialization of query '".concat(mf(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.L_(r.onlineState),o.N_&&n.k_(o.N_)&&ny(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),$m.apply(this,arguments)}function Jm(e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=vt(dt().mark((function e(t,n){var r,i,a,o,u;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=is(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function ey(e,t){var n,r=is(e),i=!1,a=B(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=B(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.k_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.N_=o}}}catch(f){a.e(f)}finally{a.f()}i&&ny(r)}function ty(e,t,n){var r=is(e),i=r.queries.get(t);if(i){var a,o=B(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function ny(e){e.B_.forEach((function(e){e.next()}))}var ry=function(){function e(t,n,r){C(this,e),this.query=t,this.q_=n,this.Q_=!1,this.K_=null,this.onlineState="Unknown",this.options=r||{}}return P(e,[{key:"k_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=B(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Wm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Q_?this.U_(e)&&(this.q_.next(e),a=!0):this.W_(e,this.onlineState)&&(this.G_(e),a=!0),this.K_=e,a}},{key:"onError",value:function(e){this.q_.error(e)}},{key:"L_",value:function(e){this.onlineState=e;var t=!1;return this.K_&&!this.Q_&&this.W_(this.K_,e)&&(this.G_(this.K_),t=!0),t}},{key:"W_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"U_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.K_&&this.K_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"G_",value:function(e){e=Wm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Q_=!0,this.q_.next(e)}}]),e}(),iy=function(){function e(t,n){C(this,e),this.j_=t,this.byteLength=n}return P(e,[{key:"H_",value:function(){return"metadata"in this.j_}}]),e}(),ay=function(){function e(t){C(this,e),this.serializer=t}return P(e,[{key:"us",value:function(e){return Yh(this.serializer,e)}},{key:"cs",value:function(e){return e.metadata.exists?td(this.serializer,e.document,!1):_l.newNoDocument(this.us(e.metadata.name),this.ls(e.metadata.readTime))}},{key:"ls",value:function(e){return Gh(e)}}]),e}(),oy=function(){function e(t,n,r){C(this,e),this.J_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=uy(t)}return P(e,[{key:"Y_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.j_.namedQuery)this.queries.push(e.j_.namedQuery);else if(e.j_.documentMetadata){this.documents.push({metadata:e.j_.documentMetadata}),e.j_.documentMetadata.exists||++t;var n=Is.fromString(e.j_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.j_.document&&(this.documents[this.documents.length-1].document=e.j_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Z_",value:function(e){var t,n=new Map,r=new ay(this.serializer),i=B(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.us(a.metadata.name),s=B(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Pf()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=vt(dt().mark((function e(){var t,n,r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iv(this.localStore,new ay(this.serializer),this.documents,this.J_.id);case 2:t=e.sent,n=this.Z_(this.documents),r=B(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Sv(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,X_:this.collectionGroups,ea:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function uy(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var sy=P((function e(t){C(this,e),this.key=t})),cy=P((function e(t){C(this,e),this.key=t})),ly=function(){function e(t,n){C(this,e),this.query=t,this.ta=n,this.na=null,this.hasCachedResults=!1,this.current=!1,this.ra=Pf(),this.mutatedKeys=Pf(),this.ia=kf(t),this.sa=new Gm(this.ia)}return P(e,[{key:"oa",get:function(){return this.ta}},{key:"_a",value:function(e,t){var n=this,r=t?t.aa:new Hm,i=t?t.sa:this.sa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=yf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ua(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ia(f,s)>0||c&&n.ia(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{sa:o,aa:r,Hi:u,mutatedKeys:a}}},{key:"ua",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.sa;this.sa=e.sa,this.mutatedKeys=e.mutatedKeys;var a=e.aa.O_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ns()}};return n(e)-n(t)}(e.type,t.type)||r.ia(e.doc,t.doc)})),this.ca(n);var o=t?this.la():[],u=0===this.ra.size&&this.current?1:0,s=u!==this.na;return this.na=u,0!==a.length||s?{snapshot:new Wm(this.query,e.sa,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),ha:o}:{ha:o}}},{key:"L_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({sa:this.sa,aa:new Hm,mutatedKeys:this.mutatedKeys,Hi:!1},!1)):{ha:[]}}},{key:"Pa",value:function(e){return!this.ta.has(e)&&!!this.sa.has(e)&&!this.sa.get(e).hasLocalMutations}},{key:"ca",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ta=t.ta.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ta=t.ta.delete(e)})),this.current=e.current)}},{key:"la",value:function(){var e=this;if(!this.current)return[];var t=this.ra;this.ra=Pf(),this.sa.forEach((function(t){e.Pa(t.key)&&(e.ra=e.ra.add(t.key))}));var n=[];return t.forEach((function(t){e.ra.has(t)||n.push(new cy(t))})),this.ra.forEach((function(e){t.has(e)||n.push(new sy(e))})),n}},{key:"Ia",value:function(e){this.ta=e._s,this.ra=Pf();var t=this._a(e.documents);return this.applyChanges(t,!0)}},{key:"Ta",value:function(){return Wm.fromInitialDocuments(this.query,this.sa,this.mutatedKeys,0===this.na,this.hasCachedResults)}}]),e}(),fy=P((function e(t,n,r){C(this,e),this.query=t,this.targetId=n,this.view=r})),hy=P((function e(t){C(this,e),this.key=t,this.Ea=!1})),dy=function(){function e(t,n,r,i,a,o){C(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.da={},this.Aa=new wf((function(e){return vf(e)}),pf),this.Ra=new Map,this.Va=new Set,this.ma=new Lc(Ts.comparator),this.fa=new Map,this.ga=new Kp,this.pa={},this.ya=new Map,this.wa=kp.Bn(),this.onlineState="Unknown",this.Sa=void 0}return P(e,[{key:"isPrimaryClient",get:function(){return!0===this.Sa}}]),e}();function py(e,t){return vy.apply(this,arguments)}function vy(){return vy=vt(dt().mark((function e(t,n){var r,i,a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ug(t),!(o=r.Aa.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Ta(),e.next=15;break;case 6:return e.next=8,yv(r.localStore,lf(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,my(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&om(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}function my(e,t,n,r,i){return yy.apply(this,arguments)}function yy(){return yy=vt(dt().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ba=function(e,n,r){return function(){var e=vt(dt().mark((function e(t,n,r,i){var a,o,u;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view._a(r),e.t0=a.Hi,!e.t0){e.next=6;break}return e.next=5,bv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view._a(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Fy(t,n.targetId,u.ha),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,bv(t.localStore,n,!0);case 3:return o=e.sent,u=new ly(n,o._s),s=u._a(o.documents),c=Ah.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),Fy(t,r,l.ha),f=new fy(n,r,u),e.abrupt("return",(t.Aa.set(n,f),t.Ra.has(r)?t.Ra.get(r).push(n):t.Ra.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),yy.apply(this,arguments)}function gy(e,t){return ky.apply(this,arguments)}function ky(){return ky=vt(dt().mark((function e(t,n){var r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=is(t),i=r.Aa.get(n),!((a=r.Ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Ra.set(i.targetId,a.filter((function(e){return!pf(e,n)}))),void r.Aa.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,gv(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),um(r.remoteStore,i.targetId),Ly(r,i.targetId)})).catch(js);case 9:e.next=14;break;case 11:return Ly(r,i.targetId),e.next=14,gv(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function by(e,t,n){return wy.apply(this,arguments)}function wy(){return wy=vt(dt().mark((function e(t,n,r){var i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sg(t),e.prev=1,e.next=4,function(e,t){var n,r,i=is(e),a=ws.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Pf());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=xf(),s=Pf();return i.ts.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=B(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=ih(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new uh(c.key,l,wl(l.value.mapValue),Jf.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Sf(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.pa[e.currentUser.toKey()];r||(r=new Lc(gs)),r=r.insert(t,n),e.pa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Vy(i,a.changes);case 9:return e.next=11,xm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Km(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),wy.apply(this,arguments)}function _y(e,t){return xy.apply(this,arguments)}function xy(){return xy=vt(dt().mark((function e(t,n){var r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(t),e.prev=1,e.next=4,pv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.fa.get(t);n&&(rs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ea=!0:e.modifiedDocuments.size>0?rs(n.Ea):e.removedDocuments.size>0&&(rs(n.Ea),n.Ea=!1))})),e.next=8,Vy(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,js(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),xy.apply(this,arguments)}function Iy(e,t,n){var r=is(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Aa.forEach((function(e,n){var r=n.view.L_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=is(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=B(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.L_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ny(n)}(r.eventManager,t),i.length&&r.da.s_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ey(e,t,n){return Sy.apply(this,arguments)}function Sy(){return Sy=vt(dt().mark((function e(t,n,r){var i,a,o,u,s,c;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=is(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.fa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Lc(Ts.comparator)).insert(o,_l.newNoDocument(o,_s.min())),s=Pf().add(o),c=new Ch(_s.min(),new Map,new Lc(gs),u,s),e.next=9,_y(i,c);case 9:i.ma=i.ma.remove(o),i.fa.delete(n),jy(i),e.next=16;break;case 14:return e.next=16,gv(i.localStore,n,!1).then((function(){return Ly(i,n,r)})).catch(js);case 16:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function Ty(e,t){return Cy.apply(this,arguments)}function Cy(){return Cy=vt(dt().mark((function e(t,n){var r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(t),i=n.batch.batchId,e.prev=1,e.next=4,hv(r.localStore,n);case 4:return a=e.sent,Oy(r,i,null),Dy(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Vy(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,js(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Cy.apply(this,arguments)}function Ay(e,t,n){return Ny.apply(this,arguments)}function Ny(){return Ny=vt(dt().mark((function e(t,n,r){var i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=is(t),e.prev=1,e.next=4,function(e,t){var n=is(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return rs(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Oy(i,n,r),Dy(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Vy(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,js(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ny.apply(this,arguments)}function Ry(e,t){return Py.apply(this,arguments)}function Py(){return Py=vt(dt().mark((function e(t,n){var r,i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hm((r=is(t)).remoteStore)||Ju("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=is(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ya.get(i)||[]).push(n),r.ya.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Km(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Py.apply(this,arguments)}function Dy(e,t){(e.ya.get(t)||[]).forEach((function(e){e.resolve()})),e.ya.delete(t)}function Oy(e,t,n){var r=is(e),i=r.pa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.pa[r.currentUser.toKey()]=i}}function Ly(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=B(e.Ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Aa.delete(a),n&&e.da.Da(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Ra.delete(t),e.isPrimaryClient&&e.ga.Vr(t).forEach((function(t){e.ga.containsKey(t)||My(e,t)}))}function My(e,t){e.Va.delete(t.path.canonicalString());var n=e.ma.get(t);null!==n&&(um(e.remoteStore,n),e.ma=e.ma.remove(t),e.fa.delete(n),jy(e))}function Fy(e,t,n){var r,i=B(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof sy?(e.ga.addReference(a.key,t),Uy(e,a)):a instanceof cy?(Ju("SyncEngine","Document no longer in limbo: "+a.key),e.ga.removeReference(a.key,t),e.ga.containsKey(a.key)||My(e,a.key)):ns()}}catch(o){i.e(o)}finally{i.f()}}function Uy(e,t){var n=t.key,r=n.path.canonicalString();e.ma.get(n)||e.Va.has(r)||(Ju("SyncEngine","New document in limbo: "+n),e.Va.add(r),jy(e))}function jy(e){for(;e.Va.size>0&&e.ma.size<e.maxConcurrentLimboResolutions;){var t=e.Va.values().next().value;e.Va.delete(t);var n=new Ts(Is.fromString(t)),r=e.wa.next();e.fa.set(r,new hy(n)),e.ma=e.ma.insert(n,r),om(e.remoteStore,new yd(lf(rf(n.path)),r,"TargetPurposeLimboResolution",Zs.ae))}}function Vy(e,t,n){return zy.apply(this,arguments)}function zy(){return zy=vt(dt().mark((function e(t,n,r){var i,a,o,u;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=is(t),a=[],o=[],u=[],e.t0=i.Aa.isEmpty(),e.t0){e.next=9;break}return i.Aa.forEach((function(e,t){u.push(i.ba(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=ov.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.da.s_(a),e.next=9,function(){var e=vt(dt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return zs.forEach(n,(function(t){return zs.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return zs.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Hs(e.t0)){e.next=10;break}throw e.t0;case 10:Ju("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=B(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Zi.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Zi=r.Zi.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),zy.apply(this,arguments)}function By(e,t){return qy.apply(this,arguments)}function qy(){return(qy=vt(dt().mark((function e(t,n){var r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=is(t)).currentUser.isEqual(n)){e.next=11;break}return Ju("SyncEngine","User change. New user:",n.toKey()),e.next=5,lv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ya.forEach((function(e){e.forEach((function(e){e.reject(new os(as.CANCELLED,t))}))})),e.ya.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Vy(r,i.rs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ky(e,t){var n=is(e),r=n.fa.get(t);if(r&&r.Ea)return Pf().add(r.key);var i=Pf(),a=n.Ra.get(t);if(!a)return i;var o,u=B(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Aa.get(s);i=i.unionWith(c.view.oa)}}catch(l){u.e(l)}finally{u.f()}return i}function Gy(e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=vt(dt().mark((function e(t,n){var r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(t),e.next=3,bv(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ia(i),e.abrupt("return",(r.isPrimaryClient&&Fy(r,n.targetId,a.ha),a));case 6:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Wy(e,t){return Qy.apply(this,arguments)}function Qy(){return(Qy=vt(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(t),e.abrupt("return",_v(r.localStore,n).then((function(e){return Vy(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yy(e,t,n,r){return Xy.apply(this,arguments)}function Xy(){return Xy=vt(dt().mark((function e(t,n,r,i){var a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=is(t),e.next=3,function(e,t){var n=is(e),r=is(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Cn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):zs.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,xm(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Oy(a,n,i||null),Dy(a,n),function(e,t){is(is(e).mutationQueue).Mn(t)}(a.localStore,n)):ns();case 11:return e.next=13,Vy(a,o);case 13:e.next=16;break;case 15:Ju("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function $y(e,t){return Jy.apply(this,arguments)}function Jy(){return(Jy=vt(dt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ug(r=is(t)),sg(r),!0!==n||!0===r.Sa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Zy(r,i.toArray());case 5:return a=e.sent,r.Sa=!0,e.next=9,jm(r.remoteStore,!0);case 9:o=B(a);try{for(o.s();!(u=o.n()).done;)s=u.value,om(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Sa){e.next=25;break}return c=[],l=Promise.resolve(),r.Ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Ly(r,t),gv(r.localStore,t,!0)})),um(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Zy(r,c);case 21:return function(e){var t=is(e);t.fa.forEach((function(e,n){um(t.remoteStore,n)})),t.ga.mr(),t.fa=new Map,t.ma=new Lc(Ts.comparator)}(r),r.Sa=!1,e.next=25,jm(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zy(e,t,n){return eg.apply(this,arguments)}function eg(){return eg=vt(dt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=is(t),a=[],o=[],u=B(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Ra.get(c))||0===f.length){e.next=34;break}return e.next=11,yv(i.localStore,lf(f[0]));case 11:l=e.sent,h=B(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Aa.get(p),e.next=20,Gy(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,wv(i.localStore,c);case 36:return y=e.sent,e.next=39,yv(i.localStore,y);case 39:return l=e.sent,e.next=42,my(i,tg(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.da.s_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),eg.apply(this,arguments)}function tg(e){return nf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ng(e){return function(e){return is(is(e).persistence).Li()}(is(e).localStore)}function rg(e,t,n,r){return ig.apply(this,arguments)}function ig(){return ig=vt(dt().mark((function e(t,n,r,i){var a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=is(t)).Sa){e.next=3;break}return e.abrupt("return",void Ju("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.Ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,_v(a.localStore,gf(o[0]));case 10:return u=e.sent,s=Ch.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,qc.EMPTY_BYTE_STRING),e.next=14,Vy(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,gv(a.localStore,n,!0);case 17:return Ly(a,n,i),e.abrupt("break",20);case 19:ns();case 20:case"end":return e.stop()}}),e)}))),ig.apply(this,arguments)}function ag(e,t,n){return og.apply(this,arguments)}function og(){return og=vt(dt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=ug(t)).Sa){e.next=45;break}a=B(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Ra.has(u)){e.next=10;break}return Ju("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,wv(i.localStore,u);case 12:return s=e.sent,e.next=15,yv(i.localStore,s);case 15:return c=e.sent,e.next=18,my(i,tg(s),c.targetId,!1,c.resumeToken);case 18:om(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=B(r),e.prev=30,h=dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Ra.has(t),!e.t0){e.next=5;break}return e.next=5,gv(i.localStore,t,!1).then((function(){um(i.remoteStore,t),Ly(i,t)})).catch(js);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),og.apply(this,arguments)}function ug(e){var t=is(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_y.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ky.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ey.bind(null,t),t.da.s_=ey.bind(null,t.eventManager),t.da.Da=ty.bind(null,t.eventManager),t}function sg(e){var t=is(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ty.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ay.bind(null,t),t}function cg(e,t,n){var r=is(e);(function(){var e=vt(dt().mark((function e(t,n,r){var i,a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=is(e),r=Gh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$r.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(uy(i)),a=new oy(i,t.localStore,n.serializer),e.next=15,n.va();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Y_(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.va();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Vy(t,s.ea,void 0);case 31:return e.next=33,function(e,t){var n=is(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$r.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.X_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(es("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var lg=function(){function e(){C(this,e),this.synchronizeTabs=!1}return P(e,[{key:"initialize",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Qv(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return cv(this.persistence,new uv,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Xp(Jp.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Fv}},{key:"terminate",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fg=function(e){O(n,e);var t=U(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this)).Ca=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return P(n,[{key:"initialize",value:function(){var e=vt(dt().mark((function e(t){var r=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir(L(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ca.initialize(this,t);case 4:return e.next=6,sg(this.Ca.syncEngine);case 6:return e.next=8,xm(this.Ca.remoteStore);case 8:return e.next=10,this.persistence.fi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return cv(this.persistence,new uv,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Sp(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Js(t,this.persistence);return new $s(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=av(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?fp.withCacheSize(this.cacheSizeBytes):fp.DEFAULT;return new nv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Hv(),Wv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Fv}}]),n}(lg),hg=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,r,!1)).Ca=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return P(n,[{key:"initialize",value:function(){var e=vt(dt().mark((function e(t){var r,i=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir(L(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ca.syncEngine,e.t0=this.sharedClientState instanceof Mv,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={js:Yy.bind(null,r),Hs:rg.bind(null,r),Js:ag.bind(null,r),Li:ng.bind(null,r),zs:Wy.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.fi(function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$y(i.Ca.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=Hv();if(!Mv.v(t))throw new os(as.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=av(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(fg),dg=function(){function e(){C(this,e)}return P(e,[{key:"initialize",value:function(){var e=vt(dt().mark((function e(t,n){var r=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Iy(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=By.bind(null,this.syncEngine),e.next=12,jm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ym}},{key:"createDatastore",value:function(e){var t=Qv(e.databaseInfo.databaseId),n=function(e){return new Gv(e)}(e.databaseInfo);return function(e,t,n,r){return new Zv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new tm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return Iy(t.syncEngine,e,0)}),jv.v()?new jv:new Uv)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new dy(e,t,n,r,i,a);return o&&(u.Sa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=is(t),Ju("RemoteStore","RemoteStore shutting down."),n.S_.add(5),e.next=5,im(n);case 5:n.D_.shutdown(),n.v_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function pg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return vt(dt().mark((function r(){var i;return dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var vg=function(){function e(t){C(this,e),this.observer=t,this.muted=!1}return P(e,[{key:"next",value:function(e){this.observer.next&&this.Fa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Fa(this.observer.error,e):Zu("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ma",value:function(){this.muted=!0}},{key:"Fa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),mg=function(){function e(t,n){var r=this;C(this,e),this.xa=t,this.serializer=n,this.metadata=new us,this.buffer=new Uint8Array,this.Oa=new TextDecoder("utf-8"),this.Na().then((function(e){e&&e.H_()?r.metadata.resolve(e.j_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.j_))))}),(function(e){return r.metadata.reject(e)}))}return P(e,[{key:"close",value:function(){return this.xa.cancel()}},{key:"getMetadata",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"va",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Na());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Na",value:function(){var e=vt(dt().mark((function e(){var t,n,r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ba();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Oa.decode(t),r=Number(n),isNaN(r)&&this.La("length string (".concat(n,") is not valid number")),e.next=9,this.ka(r);case 9:return i=e.sent,e.abrupt("return",new iy(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"qa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ba",value:function(){var e=vt(dt().mark((function e(){var t,n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.qa()<0)){e.next=7;break}return e.next=3,this.Qa();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.qa())<0&&this.La("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ka",value:function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Qa();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.La("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Oa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"La",value:function(e){throw this.xa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Qa",value:function(){var e=vt(dt().mark((function e(){var t,n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.xa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),yg=function(){function e(t){C(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return P(e,[{key:"lookup",value:function(){var e=vt(dt().mark((function e(t){var n,r=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new os(as.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=vt(dt().mark((function e(t,n){var r,i,a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(t),i=Jh(r.serializer)+"/documents",a={documents:n.map((function(e){return Qh(r.serializer,e)}))},e.next=5,r.So("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=nd(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());rs(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new dh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=vt(dt().mark((function e(){var t,n=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ts.fromPath(t);n.mutations.push(new ph(r,n.precondition(r)))})),e.next=7,function(){var e=vt(dt().mark((function e(t,n){var r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(t),i=Jh(r.serializer)+"/documents",a={writes:n.map((function(e){return rd(r.serializer,e)}))},e.next=3,r.fo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ns();t=_s.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new os(as.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_s.min())?Jf.exists(!1):Jf.updateTime(t):Jf.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_s.min()))throw new os(as.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jf.updateTime(t)}return Jf.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),gg=function(){function e(t,n,r,i,a){C(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Ka=r.maxAttempts,this.Uo=new Yv(this.asyncQueue,"transaction_retry")}return P(e,[{key:"run",value:function(){this.Ka-=1,this.$a()}},{key:"$a",value:function(){var e=this;this.Uo.No(vt(dt().mark((function t(){var n,r;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new yg(e.datastore),(r=e.Ua(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Wa(t)}))}))})).catch((function(t){e.Wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ua",value:function(e){try{var t=this.updateFunction(e);return!ec(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Wa",value:function(e){var t=this;this.Ka>0&&this.Ga(e)?(this.Ka-=1,this.asyncQueue.enqueueAndForget((function(){return t.$a(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ga",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!kh(t)}return!1}}]),e}(),kg=function(){function e(t,n,r,i){var a=this;C(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qu.UNAUTHENTICATED,this.clientId=ys.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ju("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ju("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return P(e,[{key:"getConfiguration",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new os(as.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(vt(dt().mark((function n(){var r;return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Km(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function bg(e,t){return wg.apply(this,arguments)}function wg(){return wg=vt(dt().mark((function e(t,n){var r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ju("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,lv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),wg.apply(this,arguments)}function _g(e,t){return xg.apply(this,arguments)}function xg(){return xg=vt(dt().mark((function e(t,n){var r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Eg(t);case 3:return r=e.sent,Ju("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Fm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Fm(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),xg.apply(this,arguments)}function Ig(e){return"FirebaseError"===e.name?e.code===as.FAILED_PRECONDITION||e.code===as.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Eg(e){return Sg.apply(this,arguments)}function Sg(){return(Sg=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Ju("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,bg(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Ig(n=e.t0)){e.next=13;break}throw n;case 13:return es("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,bg(t,new lg);case 16:e.next=21;break;case 18:return Ju("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,bg(t,new lg);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function Tg(e){return Cg.apply(this,arguments)}function Cg(){return(Cg=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Ju("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,_g(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Ju("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,_g(t,new dg);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ag(e){return Eg(e).then((function(e){return e.persistence}))}function Ng(e){return Eg(e).then((function(e){return e.localStore}))}function Rg(e){return Tg(e).then((function(e){return e.remoteStore}))}function Pg(e){return Tg(e).then((function(e){return e.syncEngine}))}function Dg(e){return Tg(e).then((function(e){return e.datastore}))}function Og(e){return Lg.apply(this,arguments)}function Lg(){return(Lg=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=py.bind(null,n.syncEngine),r.onUnlisten=gy.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new us;return e.asyncQueue.enqueueAndForget(vt(dt().mark((function i(){return dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new vg({next:function(a){t.enqueueAndForget((function(){return Jm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new os(as.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new os(as.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ry(rf(n.path),a,{includeMetadataChanges:!0,z_:!0});return Xm(e,o)},i.next=3,Og(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Fg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new us;return e.asyncQueue.enqueueAndForget(vt(dt().mark((function i(){return dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new vg({next:function(n){t.enqueueAndForget((function(){return Jm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new os(as.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ry(n,a,{includeMetadataChanges:!0,z_:!0});return Xm(e,o)},i.next=3,Og(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ug(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var jg=new Map;function Vg(e,t,n){if(!n)throw new os(as.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function zg(e,t,n,r){if(!0===t&&!0===r)throw new os(as.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Bg(e){if(!Ts.isDocumentKey(e))throw new os(as.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function qg(e){if(Ts.isDocumentKey(e))throw new os(as.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Kg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ns()}function Gg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new os(as.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Kg(e);throw new os(as.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Hg(e,t){if(t<=0)throw new os(as.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Wg=function(){function e(t){var n,r;if(C(this,e),void 0===t.host){if(void 0!==t.ssl)throw new os(as.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new os(as.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ug(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new os(as.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new os(as.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new os(as.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return P(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Qg=function(){function e(t,n,r,i){C(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wg({}),this._settingsFrozen=!1}return P(e,[{key:"app",get:function(){if(!this._app)throw new os(as.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new os(as.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new cs;switch(e.type){case"firstParty":return new ds(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new os(as.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=jg.get(e);t&&(Ju("ComponentProvider","Removing Datastore"),jg.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Yg(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Gg(e,Qg))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=Qu.MOCK_USER;else{u=Tt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new os(as.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Qu(c)}e._authCredentials=new ls(new ss(u,s))}}var Xg=function(){function e(t,n,r){C(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return P(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),$g=function(){function e(t,n,r){C(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return P(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Jg(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Jg=function(e){O(n,e);var t=U(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,e,r,rf(i)))._path=i,a.type="collection",a}return P(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new $g(this.firestore,null,new Ts(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Xg);function Zg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wt(e),Vg("collection","path",t),e instanceof Qg){var a=Is.fromString.apply(Is,[t].concat(r));return qg(a),new Jg(e,null,a)}if(!(e instanceof $g||e instanceof Jg))throw new os(as.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Is.fromString.apply(Is,[t].concat(r)));return qg(o),new Jg(e.firestore,null,o)}function ek(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wt(e),1===arguments.length&&(t=ys.V()),Vg("doc","path",t),e instanceof Qg){var a=Is.fromString.apply(Is,[t].concat(r));return Bg(a),new $g(e,null,new Ts(a))}if(!(e instanceof $g||e instanceof Jg))throw new os(as.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Is.fromString.apply(Is,[t].concat(r)));return Bg(o),new $g(e.firestore,e instanceof Jg?e.converter:null,new Ts(o))}function tk(e,t){return e=Wt(e),t=Wt(t),(e instanceof $g||e instanceof Jg)&&(t instanceof $g||t instanceof Jg)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function nk(e,t){return e=Wt(e),t=Wt(t),e instanceof Xg&&t instanceof Xg&&e.firestore===t.firestore&&pf(e._query,t._query)&&e.converter===t.converter}var rk=function(){function e(){var t=this;C(this,e),this.za=Promise.resolve(),this.ja=[],this.Ha=!1,this.Ja=[],this.Ya=null,this.Za=!1,this.Xa=!1,this.eu=[],this.Uo=new Yv(this,"async_queue_retry"),this.tu=function(){var e=Wv();e&&Ju("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Uo.Lo()};var n=Wv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.tu)}return P(e,[{key:"isShuttingDown",get:function(){return this.Ha}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.nu(),this.ru(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ha){this.Ha=!0,this.Xa=e||!1;var t=Wv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.tu)}}},{key:"enqueue",value:function(e){var t=this;if(this.nu(),this.Ha)return new Promise((function(){}));var n=new us;return this.ru((function(){return t.Ha&&t.Xa?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ja.push(e),t.iu()}))}},{key:"iu",value:function(){var e=vt(dt().mark((function e(){var t=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ja.length){e.next=14;break}return e.prev=1,e.next=4,this.ja[0]();case 4:this.ja.shift(),this.Uo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Hs(e.t0)){e.next=12;break}throw e.t0;case 12:Ju("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ja.length>0&&this.Uo.No((function(){return t.iu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ru",value:function(e){var t=this,n=this.za.then((function(){return t.Za=!0,e().catch((function(e){t.Ya=e,t.Za=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Zu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Za=!1,e}))}));return this.za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.nu(),this.eu.indexOf(e)>-1&&(t=0);var i=qm.createAndSchedule(this,e,t,n,(function(e){return r.su(e)}));return this.Ja.push(i),i}},{key:"nu",value:function(){this.Ya&&ns()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ou",value:function(){var e=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.za,e.next=3,t;case 3:if(t!==this.za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_u",value:function(e){var t,n=B(this.Ja);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"au",value:function(e){var t=this;return this.ou().then((function(){t.Ja.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=B(t.Ja);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ou()}))}},{key:"uu",value:function(e){this.eu.push(e)}},{key:"su",value:function(e){var t=this.Ja.indexOf(e);this.Ja.splice(t,1)}}]),e}();function ik(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=B(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var ak=function(){function e(){C(this,e),this._progressObserver={},this._taskCompletionResolver=new us,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return P(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ok=function(e){O(n,e);var t=U(n);function n(e,r,i,a){var o;return C(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new rk,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return P(n,[{key:"_terminate",value:function(){return this._firestoreClient||sk(this),this._firestoreClient.terminate()}}]),n}(Qg);function uk(e){return e._firestoreClient||sk(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sk(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new $c(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ug(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new kg(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function ck(e,t,n){var r=new us;return e.asyncQueue.enqueue(vt(dt().mark((function i(){var a;return dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,bg(e,n);case 3:return i.next=5,_g(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),Ig(a=i.t0)){i.next=13;break}throw a;case 13:es("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function lk(e){return function(e){var t=new us;return e.asyncQueue.enqueueAndForget(vt(dt().mark((function n(){return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Ry,n.next=3,Pg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(uk(e=Gg(e,ok)))}function fk(e){return function(e){return e.asyncQueue.enqueue(vt(dt().mark((function t(){var n,r;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ag(e);case 2:return n=t.sent,t.next=5,Rg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=is(e);return t.S_.delete(0),nm(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(uk(e=Gg(e,ok)))}function hk(e){return function(e){return e.asyncQueue.enqueue(vt(dt().mark((function t(){var n,r;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ag(e);case 2:return n=t.sent,t.next=5,Rg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=is(t)).S_.add(0),e.next=4,im(n);case 4:n.v_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(uk(e=Gg(e,ok)))}function dk(e,t){var n=uk(e=Gg(e,ok)),r=new ak;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new mg(e,t)}(function(e,t){if(e instanceof Uint8Array)return pg(e,t);if(e instanceof ArrayBuffer)return pg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?_h().encode(e):e),t)}(n,Qv(t));e.asyncQueue.enqueueAndForget(vt(dt().mark((function t(){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cg,t.next=3,Pg(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function pk(e,t){return function(e,t){return e.asyncQueue.enqueue(vt(dt().mark((function n(){return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=is(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$r.getNamedQuery(e,t)}))},n.next=3,Ng(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(uk(e=Gg(e,ok)),t).then((function(t){return t?new Xg(e,null,t.query):null}))}function vk(e){if(e._initialized||e._terminated)throw new os(as.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mk=function(){function e(t){C(this,e),this._byteString=t}return P(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(qc.fromBase64String(t))}catch(t){throw new os(as.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(qc.fromUint8Array(t))}}]),e}(),yk=function(){function e(){C(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new os(as.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ss(n)}return P(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var gk=P((function e(t){C(this,e),this._methodName=t})),kk=function(){function e(t,n){if(C(this,e),!isFinite(t)||t<-90||t>90)throw new os(as.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new os(as.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return P(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return gs(this._lat,e._lat)||gs(this._long,e._long)}}]),e}(),bk=/^__.*__$/,wk=function(){function e(t,n,r){C(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return P(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new uh(e,this.data,this.fieldMask,t,this.fieldTransforms):new oh(e,this.data,t,this.fieldTransforms)}}]),e}(),_k=function(){function e(t,n,r){C(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return P(e,[{key:"toMutation",value:function(e,t){return new uh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function xk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ns()}}var Ik=function(){function e(t,n,r,i,a,o){C(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.cu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return P(e,[{key:"path",get:function(){return this.settings.path}},{key:"lu",get:function(){return this.settings.lu}},{key:"hu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Pu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.hu({path:n,Iu:!1});return r.Tu(e),r}},{key:"Eu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.hu({path:n,Iu:!1});return r.cu(),r}},{key:"du",value:function(e){return this.hu({path:void 0,Iu:!0})}},{key:"Au",value:function(e){return Kk(e,this.settings.methodName,this.settings.Ru||!1,this.path,this.settings.Vu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"cu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Tu(this.path.get(e))}},{key:"Tu",value:function(e){if(0===e.length)throw this.Au("Document fields must not be empty");if(xk(this.lu)&&bk.test(e))throw this.Au('Document fields cannot begin and end with "__"')}}]),e}(),Ek=function(){function e(t,n,r){C(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Qv(t)}return P(e,[{key:"mu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ik({lu:e,methodName:t,Vu:n,path:Ss.emptyPath(),Iu:!1,Ru:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Sk(e){var t=e._freezeSettings(),n=Qv(e._databaseId);return new Ek(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.mu(a.merge||a.mergeFields?2:0,t,n,i);Vk("Data must be an object, but it was:",o,r);var u,s,c=Uk(r,o);if(a.merge)u=new zc(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=B(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=zk(t,l.value,n);if(!o.contains(d))throw new os(as.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));Gk(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new zc(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new wk(new bl(c),u,s)}var Ck=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.lu)throw 1===e.lu?e.Au("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Au("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gk);function Ak(e,t,n){return new Ik({lu:3,Vu:t.settings.Vu,methodName:e._methodName,Iu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var Nk=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n,[{key:"_toFieldTransform",value:function(e){return new Xf(e.path,new Bf)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gk),Rk=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e)).fu=r,i}return P(n,[{key:"_toFieldTransform",value:function(e){var t=Ak(this,e,!0),n=this.fu.map((function(e){return Fk(e,t)})),r=new qf(n);return new Xf(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gk),Pk=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e)).fu=r,i}return P(n,[{key:"_toFieldTransform",value:function(e){var t=Ak(this,e,!0),n=this.fu.map((function(e){return Fk(e,t)})),r=new Gf(n);return new Xf(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gk),Dk=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e)).gu=r,i}return P(n,[{key:"_toFieldTransform",value:function(e){var t=new Wf(e.serializer,Ff(e.serializer,this.gu));return new Xf(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gk);function Ok(e,t,n,r){var i=e.mu(1,t,n);Vk("Data must be an object, but it was:",i,r);var a=[],o=bl.empty();Dc(r,(function(e,r){var u=qk(t,e,n);r=Wt(r);var s=i.Eu(u);if(r instanceof Ck)a.push(u);else{var c=Fk(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new zc(a);return new _k(o,u,i.fieldTransforms)}function Lk(e,t,n,r,i,a){var o=e.mu(1,t,n),u=[zk(t,r,n)],s=[i];if(a.length%2!=0)throw new os(as.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(zk(t,a[c])),s.push(a[c+1]);for(var l=[],f=bl.empty(),h=u.length-1;h>=0;--h)if(!Gk(l,u[h])){var d=u[h],p=s[h];p=Wt(p);var v=o.Eu(d);if(p instanceof Ck)l.push(d);else{var m=Fk(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new zc(l);return new _k(f,y,o.fieldTransforms)}function Mk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Fk(n,e.mu(r?4:3,t))}function Fk(e,t){if(jk(e=Wt(e)))return Vk("Unsupported field value:",t,e),Uk(e,t);if(e instanceof gk)return function(e,t){if(!xk(t.lu))throw t.Au("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Au("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Iu&&4!==t.lu)throw t.Au("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=B(e);try{for(a.s();!(n=a.n()).done;){var o=Fk(n.value,t.du(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Wt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ff(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ws.fromDate(e);return{timestampValue:Bh(t.serializer,n)}}if(e instanceof ws){var r=new ws(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Bh(t.serializer,r)}}if(e instanceof kk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mk)return{bytesValue:qh(t.serializer,e._byteString)};if(e instanceof $g){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Au("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Hh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Au("Unsupported field value: ".concat(Kg(e)))}(e,t)}function Uk(e,t){var n={};return Oc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dc(e,(function(e,r){var i=Fk(r,t.Pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ws||e instanceof kk||e instanceof mk||e instanceof $g||e instanceof gk)}function Vk(e,t,n){if(!jk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Kg(n);throw"an object"===r?t.Au(e+" a custom object"):t.Au(e+" "+r)}}function zk(e,t,n){if((t=Wt(t))instanceof yk)return t._internalPath;if("string"==typeof t)return qk(e,t);throw Kk("Field path arguments must be of type string or ",e,!1,void 0,n)}var Bk=new RegExp("[~\\*/\\[\\]]");function qk(e,t,n){if(t.search(Bk)>=0)throw Kk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return j(yk,T(t.split(".")))._internalPath}catch(Ur){throw Kk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Kk(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new os(as.INVALID_ARGUMENT,u+e+s)}function Gk(e,t){return e.some((function(e){return e.isEqual(t)}))}var Hk=function(){function e(t,n,r,i,a){C(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return P(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new $g(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Wk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Qk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Wk=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n,[{key:"data",value:function(){return Ir(L(n.prototype),"data",this).call(this)}}]),n}(Hk);function Qk(e,t){return"string"==typeof t?qk(e,t):t instanceof yk?t._internalPath:t._delegate._internalPath}function Yk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new os(as.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xk=P((function e(){C(this,e)})),$k=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n)}(Xk);function Jk(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Xk&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof eb})).length,n=e.filter((function(e){return e instanceof Zk})).length;if(t>1||t>0&&n>0)throw new os(as.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=B(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var Zk=function(e){O(n,e);var t=U(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return P(n,[{key:"_apply",value:function(e){var t=this._parse(e);return hb(e._query,t),new Xg(e.firestore,e.converter,hf(e._query,t))}},{key:"_parse",value:function(e){var t=Sk(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new os(as.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){fb(o,a);var s,c=[],l=B(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(lb(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=lb(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||fb(o,a),u=Mk(n,t,o,"in"===a||"not-in"===a);return Al.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}($k);var eb=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return P(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Nl.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=B(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;hb(r,a),r=hf(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Xg(e.firestore,e.converter,hf(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Xk);var tb=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return P(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new os(as.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new os(as.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Sl(t,n);return function(e,t){if(null===of(e)){var n=uf(e);null!==n&&db(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Xg(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new tf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}($k);var nb=function(e){O(n,e);var t=U(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return P(n,[{key:"_apply",value:function(e){return new Xg(e.firestore,e.converter,df(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}($k);var rb=function(e){O(n,e);var t=U(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return P(n,[{key:"_apply",value:function(e){var t=cb(e,this.type,this._docOrFields,this._inclusive);return new Xg(e.firestore,e.converter,function(e,t){return new tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}($k);function ib(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rb._create("startAt",t,!0)}function ab(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rb._create("startAfter",t,!1)}var ob=function(e){O(n,e);var t=U(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return P(n,[{key:"_apply",value:function(e){var t=cb(e,this.type,this._docOrFields,this._inclusive);return new Xg(e.firestore,e.converter,function(e,t){return new tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}($k);function ub(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ob._create("endBefore",t,!1)}function sb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ob._create("endAt",t,!0)}function cb(e,t,n,r){if(n[0]=Wt(n[0]),n[0]instanceof Hk)return function(e,t,n,r,i){if(!r)throw new os(as.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=B(cf(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(sl(t,r.key));else{var c=r.data.field(s.field);if(Qc(c))throw new os(as.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new os(as.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new xl(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Sk(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new os(as.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new os(as.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!sf(e)&&-1!==c.indexOf("/"))throw new os(as.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Is.fromString(c));if(!Ts.isDocumentKey(l))throw new os(as.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ts(l);u.push(sl(t,f))}else{var h=Mk(n,r,c);u.push(h)}}return new xl(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function lb(e,t,n){if("string"==typeof(n=Wt(n))){if(""===n)throw new os(as.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sf(t)&&-1!==n.indexOf("/"))throw new os(as.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Is.fromString(n));if(!Ts.isDocumentKey(r))throw new os(as.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return sl(e,new Ts(r))}if(n instanceof $g)return sl(e,n._key);throw new os(as.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Kg(n),"."))}function fb(e,t){if(!Array.isArray(e)||0===e.length)throw new os(as.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function hb(e,t){if(t.isInequality()){var n=uf(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new os(as.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=of(e);null!==i&&db(e,r,i)}var a=function(e,t){var n,r=B(e);try{for(r.s();!(n=r.n()).done;){var i,a=B(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new os(as.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new os(as.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function db(e,t,n){if(!n.isEqual(t))throw new os(as.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var pb=function(){function e(){C(this,e)}return P(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ns()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Dc(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new kk(Hc(e.latitude),Hc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Yc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Gc(e);return new ws(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Is.fromString(e);rs(md(n));var r=new Jc(n.get(1),n.get(3)),i=new Ts(n.popFirst(5));return r.isEqual(t)||Zu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function vb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var mb=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this)).firestore=e,r}return P(n,[{key:"convertBytes",value:function(e){return new mk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $g(this.firestore,null,t)}}]),n}(pb);var yb=function(){function e(t,n){C(this,e),this.hasPendingWrites=t,this.fromCache=n}return P(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),gb=function(e){O(n,e);var t=U(n);function n(e,r,i,a,o,u){var s;return C(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return P(n,[{key:"exists",value:function(){return Ir(L(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new kb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Qk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Hk),kb=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ir(L(n.prototype),"data",this).call(this,e)}}]),n}(gb),bb=function(){function e(t,n,r,i){C(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new yb(i.hasPendingWrites,i.fromCache),this.query=r}return P(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new kb(n._firestore,n._userDataWriter,r.key,r,new yb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new os(as.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new kb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new kb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:wb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function wb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ns()}}function _b(e,t){return e instanceof gb&&t instanceof gb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof bb&&t instanceof bb&&e._firestore===t._firestore&&nk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var xb=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this)).firestore=e,r}return P(n,[{key:"convertBytes",value:function(e){return new mk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $g(this.firestore,null,t)}}]),n}(pb);function Ib(e){e=Gg(e,$g);var t=Gg(e.firestore,ok),n=uk(t),r=new xb(t);return function(e,t){var n=new us;return e.asyncQueue.enqueueAndForget(vt(dt().mark((function r(){return dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=vt(dt().mark((function e(t,n,r){var i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=is(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new os(as.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Km(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ng(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new gb(t,r,e._key,n,new yb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Eb(e){e=Gg(e,Xg);var t=Gg(e.firestore,ok),n=uk(t),r=new xb(t);return Yk(e._query),Fg(n,e._query).then((function(n){return new bb(t,r,e,n)}))}function Sb(e){e=Gg(e,Xg);var t=Gg(e.firestore,ok),n=uk(t),r=new xb(t);return function(e,t){var n=new us;return e.asyncQueue.enqueueAndForget(vt(dt().mark((function r(){return dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=vt(dt().mark((function e(t,n,r){var i,a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bv(t,n,!0);case 3:i=e.sent,a=new ly(n,i._s),o=a._a(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Km(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Ng(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new bb(t,r,e,n)}))}function Tb(e){e=Gg(e,Xg);var t=Gg(e.firestore,ok),n=uk(t),r=new xb(t);return Fg(n,e._query,{source:"server"}).then((function(n){return new bb(t,r,e,n)}))}function Cb(e,t,n){e=Gg(e,$g);var r=Gg(e.firestore,ok),i=vb(e.converter,t,n);return Pb(r,[Tk(Sk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Jf.none())])}function Ab(e,t,n){e=Gg(e,$g);for(var r=Gg(e.firestore,ok),i=Sk(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Pb(r,[("string"==typeof(t=Wt(t))||t instanceof yk?Lk(i,"updateDoc",e._key,t,n,o):Ok(i,"updateDoc",e._key,t)).toMutation(e._key,Jf.exists(!0))])}function Nb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Wt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||ik(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(ik(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof $g)l=Gg(e.firestore,ok),f=rf(e._key.path),c={next:function(t){n[s]&&n[s](Db(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Gg(e,Xg);l=Gg(p.firestore,ok),f=p._query;var v=new xb(l);c={next:function(e){n[s]&&n[s](new bb(l,v,p,e))},error:n[s+1],complete:n[s+2]},Yk(e._query)}return function(e,t,n,r){var i=new vg(r),a=new ry(t,i,n);return e.asyncQueue.enqueueAndForget(vt(dt().mark((function t(){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xm,t.next=3,Og(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ma(),e.asyncQueue.enqueueAndForget(vt(dt().mark((function t(){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Jm,t.next=3,Og(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(uk(l),f,h,c)}function Rb(e,t){return function(e,t){var n=new vg(t);return e.asyncQueue.enqueueAndForget(vt(dt().mark((function t(){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){is(e).B_.add(t),t.next()},t.next=3,Og(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ma(),e.asyncQueue.enqueueAndForget(vt(dt().mark((function t(){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){is(e).B_.delete(t)},t.next=3,Og(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(uk(e=Gg(e,ok)),ik(t)?t:{next:t})}function Pb(e,t){return function(e,t){var n=new us;return e.asyncQueue.enqueueAndForget(vt(dt().mark((function r(){return dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=by,r.next=3,Pg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(uk(e),t)}function Db(e,t,n){var r=n.docs.get(t._key),i=new xb(e);return new gb(e,i,t._key,r,new yb(n.hasPendingWrites,n.fromCache),t.converter)}var Ob={maxAttempts:5},Lb=function(){function e(t,n){C(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Sk(t)}return P(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Mb(e,this._firestore),i=vb(r.converter,t,n),a=Tk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Jf.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Mb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Wt(t))||t instanceof yk?Lk(this._dataReader,"WriteBatch.update",i._key,t,n,o):Ok(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Jf.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Mb(e,this._firestore);return this._mutations=this._mutations.concat(new dh(t._key,Jf.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new os(as.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Mb(e,t){if((e=Wt(e)).firestore!==t)throw new os(as.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Fb=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,r))._firestore=e,i}return P(n,[{key:"get",value:function(e){var t=this,r=Mb(e,this._firestore),i=new xb(this._firestore);return Ir(L(n.prototype),"get",this).call(this,e).then((function(e){return new gb(t._firestore,i,r._key,e._document,new yb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){C(this,e),this._firestore=t,this._transaction=n,this._dataReader=Sk(t)}return P(e,[{key:"get",value:function(e){var t=this,n=Mb(e,this._firestore),r=new mb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ns();var i=e[0];if(i.isFoundDocument())return new Hk(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Hk(t._firestore,r,n._key,null,n.converter);throw ns()}))}},{key:"set",value:function(e,t,n){var r=Mb(e,this._firestore),i=vb(r.converter,t,n),a=Tk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Mb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Wt(t))||t instanceof yk?Lk(this._dataReader,"Transaction.update",i._key,t,n,o):Ok(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Mb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Ub(e,t,n){e=Gg(e,ok);var r=Object.assign(Object.assign({},Ob),n);return function(e){if(e.maxAttempts<1)throw new os(as.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new us;return e.asyncQueue.enqueueAndForget(vt(dt().mark((function i(){var a;return dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Dg(e);case 2:a=i.sent,new gg(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(uk(e),(function(n){return t(new Fb(e,n))}),r)}function jb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rk("arrayUnion",t)}function Vb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pk("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Yu=e}(Gn),Un(new Qt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new ok(new fs(e.getProvider("auth-internal")),new vs(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new os(as.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),$n(Wu,"4.1.2",e),$n(Wu,"4.1.2","esm2017")}();function zb(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new os("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Bb(){if("undefined"===typeof Uint8Array)throw new os("unimplemented","Uint8Arrays are not available in this environment.")}function qb(){if("undefined"==typeof atob)throw new os("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Kb=function(){function e(t){C(this,e),this._delegate=t}return P(e,[{key:"toBase64",value:function(){return qb(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Bb(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return qb(),new e(mk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Bb(),new e(mk.fromUint8Array(t))}}]),e}();function Gb(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=B(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Hb=function(){function e(){C(this,e)}return P(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){vk(e=Gg(e,ok));var n=uk(e);if(n._uninitializedComponentsProvider)throw new os(as.FAILED_PRECONDITION,"SDK cache is already specified.");es("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new dg;return ck(n,i,new fg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){vk(e=Gg(e,ok));var t=uk(e);if(t._uninitializedComponentsProvider)throw new os(as.FAILED_PRECONDITION,"SDK cache is already specified.");es("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new dg;return ck(t,r,new hg(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new os(as.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new us;return e._queue.enqueueAndForgetEvenWhileRestricted(vt(dt().mark((function n(){return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qs.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,qs.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(av(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Wb=function(){function e(t,n,r){var i=this;C(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Jc||(this._appCompat=t)}return P(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||es("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Yg(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return fk(this._delegate)}},{key:"disableNetwork",value:function(){return hk(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&zg("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return lk(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Rb(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new os("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new uw(this,Zg(this._delegate,e))}catch(t){throw Zb(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Jb(this,ek(this._delegate,e))}catch(t){throw Zb(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new iw(this,function(e,t){if(e=Gg(e,Qg),Vg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new os(as.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Xg(e,null,function(e){return new tf(Is.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Zb(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Ub(this._delegate,(function(n){return e(new Yb(t,n))}))}},{key:"batch",value:function(){var e=this;return uk(this._delegate),new Xb(new Lb(this._delegate,(function(t){return Pb(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return dk(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return pk(this._delegate,e).then((function(e){return e?new iw(t,e):null}))}}]),e}(),Qb=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this)).firestore=e,r}return P(n,[{key:"convertBytes",value:function(e){return new Kb(new mk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Jb.forKey(t,this.firestore,null)}}]),n}(pb);var Yb=function(){function e(t,n){C(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Qb(t)}return P(e,[{key:"get",value:function(e){var t=this,n=sw(e);return this._delegate.get(n).then((function(e){return new nw(t._firestore,new gb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=sw(e);return n?(zb("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=sw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=sw(e);return this._delegate.delete(t),this}}]),e}(),Xb=function(){function e(t){C(this,e),this._delegate=t}return P(e,[{key:"set",value:function(e,t,n){var r=sw(e);return n?(zb("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=sw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=sw(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),$b=function(){function e(t,n,r){C(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return P(e,[{key:"fromFirestore",value:function(e,t){var n=new kb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rw(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Qb(t),n),i.set(n,a)),a}}]),e}();$b.INSTANCES=new WeakMap;var Jb=function(){function e(t,n){C(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Qb(t)}return P(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new uw(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new uw(this.firestore,Zg(this._delegate,e))}catch(t){throw Zb(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Wt(e))instanceof $g&&tk(this._delegate,e)}},{key:"set",value:function(e,t){t=zb("DocumentReference.set",t);try{return t?Cb(this._delegate,e,t):Cb(this._delegate,e)}catch(n){throw Zb(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Ab(this._delegate,e):Ab.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Zb(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Pb(Gg((e=this._delegate).firestore,ok),[new dh(e._key,Jf.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=ew(n),a=tw(n,(function(t){return new nw(e.firestore,new gb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Nb(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Ib(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Gg(e,$g);var t=Gg(e.firestore,ok);return Mg(uk(t),e._key,{source:"server"}).then((function(n){return Db(t,e,n)}))}(this._delegate):function(e){e=Gg(e,$g);var t=Gg(e.firestore,ok);return Mg(uk(t),e._key).then((function(n){return Db(t,e,n)}))}(this._delegate)).then((function(e){return new nw(t.firestore,new gb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($b.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new os("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new $g(n._delegate,r,new Ts(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new $g(n._delegate,r,t))}}]),e}();function Zb(e,t,n){return e.message=e.message.replace(t,n),e}function ew(e){var t,n=B(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Gb(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function tw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Gb(e[0])?e[0]:Gb(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var nw=function(){function e(t,n){C(this,e),this._firestore=t,this._delegate=n}return P(e,[{key:"ref",get:function(){return new Jb(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return _b(this._delegate,e._delegate)}}]),e}(),rw=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||ns(),t}}]),n}(nw),iw=function(){function e(t,n){C(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Qb(t)}return P(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Jk(this._delegate,function(e,t,n){var r=t,i=Qk("where",e);return Zk._create(i,r,n)}(t,n,r)))}catch(i){throw Zb(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Jk(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Qk("orderBy",e);return tb._create(n,t)}(t,n)))}catch(r){throw Zb(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Jk(this._delegate,(Hg("limit",n=t),nb._create("limit",n,"F"))))}catch(n){throw Zb(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Jk(this._delegate,(Hg("limitToLast",n=t),nb._create("limitToLast",n,"L"))))}catch(n){throw Zb(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,Jk(this._delegate,ib.apply(void 0,arguments)))}catch(t){throw Zb(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Jk(this._delegate,ab.apply(void 0,arguments)))}catch(t){throw Zb(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Jk(this._delegate,ub.apply(void 0,arguments)))}catch(t){throw Zb(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Jk(this._delegate,sb.apply(void 0,arguments)))}catch(t){throw Zb(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return nk(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Sb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Tb(this._delegate):Eb(this._delegate)).then((function(e){return new ow(t.firestore,new bb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=ew(n),a=tw(n,(function(t){return new ow(e.firestore,new bb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Nb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($b.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),aw=function(){function e(t,n){C(this,e),this._firestore=t,this._delegate=n}return P(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new rw(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),ow=function(){function e(t,n){C(this,e),this._firestore=t,this._delegate=n}return P(e,[{key:"query",get:function(){return new iw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new rw(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new aw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new rw(n._firestore,r))}))}},{key:"isEqual",value:function(e){return _b(this._delegate,e._delegate)}}]),e}(),uw=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return P(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Jb(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Jb(this.firestore,void 0===e?ek(this._delegate):ek(this._delegate,e))}catch(t){throw Zb(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Gg(e.firestore,ok),r=ek(e),i=vb(e.converter,t);return Pb(n,[Tk(Sk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Jf.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Jb(t.firestore,e)}))}},{key:"isEqual",value:function(e){return tk(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter($b.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(iw);function sw(e){return Gg(e,$g)}var cw,lw=function(){function e(){C(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=j(yk,n)}return P(e,[{key:"isEqual",value:function(e){return(e=Wt(e))instanceof yk&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ss.keyField().canonicalString())}}]),e}(),fw=function(){function e(t){C(this,e),this._delegate=t}return P(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Nk("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Ck("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=jb.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Vb.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new Dk("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),hw={Firestore:Wb,GeoPoint:kk,Timestamp:ws,Blob:Kb,Transaction:Yb,WriteBatch:Xb,DocumentReference:Jb,DocumentSnapshot:nw,Query:iw,QueryDocumentSnapshot:rw,QuerySnapshot:ow,CollectionReference:uw,FieldPath:lw,FieldValue:fw,setLogLevel:function(e){var t;t=e,Xu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Qt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},hw)))})(cw=xr,(function(e,t){return new Wb(e,t,new Hb)})),cw.registerVersion("@firebase/firestore-compat","0.3.16");var dw,pw="firebasestorage.googleapis.com",vw="storageBucket",mw=function(e){O(n,e);var t=U(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return C(this,n),(i=t.call(this,yw(e),"Firebase Storage: ".concat(r," (").concat(yw(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(F(i),n.prototype),i}return P(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return yw(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ot);function yw(e){return"storage/"+e}function gw(){return new mw(dw.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function kw(){return new mw(dw.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bw(){return new mw(dw.CANCELED,"User canceled the upload/download.")}function ww(){return new mw(dw.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _w(e){return new mw(dw.INVALID_ARGUMENT,e)}function xw(){return new mw(dw.APP_DELETED,"The Firebase app was deleted.")}function Iw(e){return new mw(dw.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ew(e,t){return new mw(dw.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Sw(e){throw new mw(dw.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(dw||(dw={}));var Tw,Cw=function(){function e(t,n){C(this,e),this.bucket=t,this.path_=n}return P(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new mw(dw.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===pw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new mw(dw.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Aw=function(){function e(t){C(this,e),this.promise_=Promise.reject(t)}return P(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Nw(e){return"string"===typeof e||e instanceof String}function Rw(e){return Pw()&&e instanceof Blob}function Pw(){return"undefined"!==typeof Blob&&!At()}function Dw(e,t,n,r){if(r<t)throw _w("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw _w("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Ow(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Lw(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function Mw(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Tw||(Tw={}));var Fw=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];C(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return P(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=gw();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?xw():bw());else i(kw())}};this.canceled_?t(0,new Uw(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Uw(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Tw.NO_ERROR,a=r.getStatus();if(!n||Mw(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Tw.ABORT;t(!1,new Uw(!1,null,o))}else{var u=-1!==e.successCodes_.indexOf(a);t(!0,new Uw(u,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Uw=P((function e(t,n,r){C(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function jw(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Vw(){for(var e=jw(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Pw())return new Blob(n);throw new mw(dw.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function zw(e){if("undefined"===typeof atob)throw t="base-64",new mw(dw.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var Bw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},qw=P((function e(t,n){C(this,e),this.data=t,this.contentType=n||null}));function Kw(e,t){switch(e){case Bw.RAW:return new qw(Gw(t));case Bw.BASE64:case Bw.BASE64URL:return new qw(Hw(e,t));case Bw.DATA_URL:return new qw(function(e){var t=new Ww(e);return t.base64?Hw(Bw.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Ew(Bw.DATA_URL,"Malformed data URL.")}return Gw(t)}(t.rest)}(t),new Ww(t).contentType)}throw gw()}function Gw(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Hw(e,t){switch(e){case Bw.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Ew(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Bw.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Ew(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=zw(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw Ew(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var Ww=P((function e(t){C(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Ew(Bw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}));var Qw=function(){function e(t,n){C(this,e);var r=0,i="";Rw(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return P(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Rw(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Pw()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Vw.apply(null,i))}var a=n.map((function(e){return Nw(e)?Kw(Bw.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function Yw(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Xw(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function $w(e,t){return t}var Jw=P((function e(t,n,r,i){C(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||$w})),Zw=null;function e_(){if(Zw)return Zw;var e=[];e.push(new Jw("bucket")),e.push(new Jw("generation")),e.push(new Jw("metageneration")),e.push(new Jw("name","fullPath",!0));var t=new Jw("name");t.xform=function(e,t){return function(e){return!Nw(e)||e.length<2?e:Xw(e)}(t)},e.push(t);var n=new Jw("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Jw("timeCreated")),e.push(new Jw("updated")),e.push(new Jw("md5Hash",null,!0)),e.push(new Jw("cacheControl",null,!0)),e.push(new Jw("contentDisposition",null,!0)),e.push(new Jw("contentEncoding",null,!0)),e.push(new Jw("contentLanguage",null,!0)),e.push(new Jw("contentType",null,!0)),e.push(new Jw("metadata","customMetadata",!0)),Zw=e}function t_(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Cw(n,r);return t._makeStorageReference(i)}})}(r,e),r}function n_(e,t,n){var r=Yw(t);return null===r?null:t_(e,r,n)}function r_(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var i_="prefixes",a_="items";function o_(e,t,n){var r=Yw(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[i_]){var i,a=B(n[i_]);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new Cw(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n[a_]){var s,c=B(n[a_]);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new Cw(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var u_=P((function e(t,n,r,i){C(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function s_(e){if(!e)throw gw()}function c_(e,t){return function(n,r){var i=n_(e,r,t);return s_(null!==i),i}}function l_(e,t){return function(n,r){var i=n_(e,r,t);return s_(null!==i),function(e,t,n,r){var i=Yw(t);if(null===i)return null;if(!Nw(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Ow("/b/"+o(i)+"/o/"+o(a),n,r)+Lw({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function f_(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new mw(dw.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new mw(dw.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new mw(dw.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new mw(dw.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function h_(e){var t=f_(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new mw(dw.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function d_(e,t,n){var r=Ow(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new u_(r,"GET",c_(e,n),i);return a.errorHandler=h_(t),a}function p_(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=Ow(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new u_(o,"GET",function(e,t){return function(n,r){var i=o_(e,t,r);return s_(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=f_(t),s}function v_(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function m_(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=v_(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+r_(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=Qw.getBlob(c,r,l);if(null===f)throw ww();var h={name:s.fullPath},d=Ow(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new u_(d,"POST",c_(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=f_(t),v}var y_=P((function e(t,n,r,i){C(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function g_(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){s_(!1)}return s_(!!n&&-1!==(t||["active"]).indexOf(n)),n}var k_=262144;function b_(e,t,n,r,i,a,o,u){var s=new y_(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new mw(dw.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw ww();var v=t.maxUploadRetryTime,m=new u_(n,"POST",(function(e,n){var i,o=g_(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?c_(t,a)(e,n):null,new y_(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=f_(e),m}var w_={STATE_CHANGED:"state_changed"},__={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function x_(e){switch(e){case"running":case"pausing":case"canceling":return __.RUNNING;case"paused":return __.PAUSED;case"success":return __.SUCCESS;case"canceled":return __.CANCELED;default:return __.ERROR}}var I_=P((function e(t,n,r){C(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function E_(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var S_=null,T_=function(){function e(){var t=this;C(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tw.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Tw.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Tw.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return P(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Sw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Sw("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Sw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Sw("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Sw("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),C_=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(T_);function A_(){return S_?S_():new C_}var N_=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;C(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=e_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(dw.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(Mw(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=kw()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(dw.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return P(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=h(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=v_(t,r,i),u={name:o.fullPath},s=Ow(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=r_(o,n),f=e.maxUploadRetryTime,h=new u_(s,"POST",(function(e){var t;g_(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){s_(!1)}return s_(Nw(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=f_(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,A_,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new u_(n,"POST",(function(e){var t=g_(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){s_(!1)}n||s_(!1);var i=Number(n);return s_(!isNaN(i)),new y_(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=f_(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,A_,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=k_*this._chunkMultiplier,n=new y_(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=b_(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,A_,i,a,!1);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(k_*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=d_(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,A_,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=m_(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,A_,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=bw(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=x_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new I_(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(x_(this._state)){case __.SUCCESS:E_(this._resolve.bind(null,this.snapshot))();break;case __.CANCELED:case __.ERROR:E_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(x_(this._state)){case __.RUNNING:case __.PAUSED:e.next&&E_(e.next.bind(e,this.snapshot))();break;case __.SUCCESS:e.complete&&E_(e.complete.bind(e))();break;default:e.error&&E_(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),R_=function(){function e(t,n){C(this,e),this._service=t,this._location=n instanceof Cw?n:Cw.makeFromUrl(n,t.host)}return P(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Cw(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Xw(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Cw(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw Iw(e)}}]),e}();function P_(e,t,n){return D_.apply(this,arguments)}function D_(){return(D_=vt(dt().mark((function e(t,n,r){var i,a,o,u;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,O_(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,T(u.prefixes)),(a=n.items).push.apply(a,T(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,P_(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O_(e,t){null!=t&&"number"===typeof t.maxResults&&Dw("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=p_(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,A_)}function L_(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=Ow(t.fullServerUrl(),e.host,e._protocol),a=r_(n,r),o=e.maxOperationRetryTime,u=new u_(i,"PATCH",c_(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=h_(t),u}(e.storage,e._location,t,e_());return e.storage.makeRequestWithTokens(n,A_)}function M_(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Ow(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new u_(r,"GET",l_(e,n),i);return a.errorHandler=h_(t),a}(e.storage,e._location,e_());return e.storage.makeRequestWithTokens(t,A_).then((function(e){if(null===e)throw new mw(dw.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function F_(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=Ow(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new u_(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=h_(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,A_)}function U_(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Cw(e._location.bucket,n);return new R_(e.storage,r)}function j_(e,t){if(e instanceof B_){var n=e;if(null==n._bucket)throw new mw(dw.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vw+"' property when initializing the app?");var r=new R_(n,n._bucket);return null!=t?j_(r,t):r}return void 0!==t?U_(e,t):e}function V_(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof B_)return new R_(e,t);throw _w("To use ref(service, url), the first argument must be a Storage instance.")}return j_(e,t)}function z_(e,t){var n=null===t||void 0===t?void 0:t[vw];return null==n?null:Cw.makeFromBucketSpec(n,e)}var B_=function(){function e(t,n,r,i,a){C(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=pw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Cw.makeFromBucketSpec(i,this._host):z_(this._host,this.app.options)}return P(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Cw.makeFromBucketSpec(this._url,e):this._bucket=z_(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Dw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Dw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=vt(dt().mark((function e(){var t,n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=vt(dt().mark((function e(){var t,n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new R_(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Aw(xw());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=Lw(e.urlParams),s=e.url+u,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Fw(s,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=vt(dt().mark((function e(t,n){var r,i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=h(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),q_="@firebase/storage",K_="0.11.2",G_="storage";function H_(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new N_(e,new Qw(t),n)}(e=Wt(e),t,n)}function W_(e){return function(e){e._throwIfRoot("getMetadata");var t=d_(e.storage,e._location,e_());return e.storage.makeRequestWithTokens(t,A_)}(e=Wt(e))}function Q_(e){return function(e){var t={prefixes:[],items:[]};return P_(e,t).then((function(){return t}))}(e=Wt(e))}function Y_(e,t){return V_(e=Wt(e),t)}function X_(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Tt(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function $_(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new B_(r,i,a,n,Gn)}Un(new Qt(G_,$_,"PUBLIC").setMultipleInstances(!0)),$n(q_,K_,""),$n(q_,K_,"esm2017");var J_=function(){function e(t,n,r){C(this,e),this._delegate=t,this.task=n,this.ref=r}return P(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),Z_=function(){function e(t,n){C(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return P(e,[{key:"snapshot",get:function(){return new J_(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new J_(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new J_(e,i,i._ref))}:{next:t.next?function(e){return t.next(new J_(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),ex=function(){function e(t,n){C(this,e),this._delegate=t,this._service=n}return P(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new tx(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new tx(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),tx=function(){function e(t,n){C(this,e),this._delegate=t,this.storage=n}return P(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return U_(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new Z_(H_(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bw.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=Kw(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Z_(new N_(this._delegate,new Qw(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Q_(this._delegate).then((function(t){return new ex(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return O_(e=Wt(e),t)}(this._delegate,e||void 0).then((function(e){return new ex(e,t.storage)}))}},{key:"getMetadata",value:function(){return W_(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return L_(e=Wt(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return M_(Wt(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),F_(Wt(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw Iw(e)}}]),e}(),nx=function(){function e(t,n){C(this,e),this.app=t,this._delegate=n}return P(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(rx(e))throw _w("ref() expected a child path but got a URL, use refFromURL instead.");return new tx(Y_(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!rx(e))throw _w("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Cw.makeFromUrl(e,this._delegate.host)}catch(t){throw _w("refFromUrl() expected a valid full URL but got an invalid one.")}return new tx(Y_(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};X_(this._delegate,e,t,n)}}]),e}();function rx(e){return/^[A-Za-z]+:\/\//.test(e)}function ix(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new nx(r,i)}!function(e){var t={TaskState:__,TaskEvent:w_,StringFormat:Bw,Storage:nx,Reference:tx};e.INTERNAL.registerComponent(new Qt("storage-compat",ix,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(xr);function ax(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var ox,ux={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},sx="EMAIL_SIGNIN",cx="PASSWORD_RESET",lx="RECOVER_EMAIL",fx="REVERT_SECOND_FACTOR_ADDITION",hx="VERIFY_AND_CHANGE_EMAIL",dx="VERIFY_EMAIL";function px(e){return void 0!==e&&void 0!==e.getResponse}function vx(e){return void 0!==e&&void 0!==e.enterprise}var mx=P((function e(t){if(C(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function yx(){return mt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var gx=function(){var e;return mt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),mt(e,"argument-error",""),mt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),mt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),mt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),mt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),mt(e,"cordova-not-ready","Cordova framework is not ready."),mt(e,"cors-unsupported","This browser is not supported."),mt(e,"credential-already-in-use","This credential is already associated with a different user account."),mt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),mt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),mt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),mt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),mt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),mt(e,"email-already-in-use","The email address is already in use by another account."),mt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),mt(e,"expired-action-code","The action code has expired."),mt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),mt(e,"internal-error","An internal AuthError has occurred."),mt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),mt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),mt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),mt(e,"invalid-auth-event","An internal AuthError has occurred."),mt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),mt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),mt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),mt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),mt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),mt(e,"invalid-email","The email address is badly formatted."),mt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),mt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),mt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),mt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),mt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),mt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),mt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),mt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),mt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),mt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),mt(e,"wrong-password","The password is invalid or the user does not have a password."),mt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),mt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),mt(e,"invalid-provider-id","The specified provider ID is invalid."),mt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),mt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),mt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),mt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),mt(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),mt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),mt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),mt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),mt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),mt(e,"missing-continue-uri","A continue URL must be provided in the request."),mt(e,"missing-iframe-start","An internal AuthError has occurred."),mt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),mt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),mt(e,"missing-password","A non-empty password must be provided"),mt(e,"missing-multi-factor-info","No second factor identifier is provided."),mt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),mt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),mt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),mt(e,"app-deleted","This instance of FirebaseApp has been deleted."),mt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),mt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),mt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),mt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),mt(e,"no-auth-event","An internal AuthError has occurred."),mt(e,"no-such-provider","User was not linked to an account with the given provider."),mt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),mt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),mt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),mt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),mt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),mt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),mt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),mt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),mt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),mt(e,"rejected-credential","The request contains malformed or mismatching credentials."),mt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),mt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),mt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),mt(e,"timeout","The operation has timed out."),mt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),mt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),mt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),mt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),mt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),mt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),mt(e,"unverified-email","The operation requires a verified email."),mt(e,"user-cancelled","The user did not grant your application the permissions it requested."),mt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),mt(e,"user-disabled","The user account has been disabled by an administrator."),mt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),mt(e,"user-signed-out",""),mt(e,"weak-password","The password must be 6 characters long or more."),mt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),mt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),mt(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),mt(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),mt(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),mt(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),mt(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),mt(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),mt(e,"invalid-req-type","Invalid request parameters."),mt(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),mt(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),mt(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},kx=yx,bx=new Lt("auth","Firebase",yx()),wx=new on("@firebase/auth");function _x(e){if(wx.logLevel<=Jt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wx.warn.apply(wx,["Auth (".concat(Gn,"): ").concat(e)].concat(n))}}function xx(e){if(wx.logLevel<=Jt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wx.error.apply(wx,["Auth (".concat(Gn,"): ").concat(e)].concat(n))}}function Ix(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Cx.apply(void 0,[e].concat(n))}function Ex(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cx.apply(void 0,[e].concat(n))}function Sx(e,t,n){var r=Object.assign(Object.assign({},kx()),mt({},t,n));return new Lt("auth","Firebase",r).create(t,{appName:e.name})}function Tx(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ix(e,"argument-error"),Sx(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Cx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=T(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(T(o)))}return bx.create.apply(bx,[e].concat(n))}function Ax(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Cx.apply(void 0,[t].concat(r))}}function Nx(e){var t="INTERNAL ASSERTION FAILED: "+e;throw xx(t),new Error(t)}function Rx(e,t){e||Nx(t)}function Px(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Dx(){return"http:"===Ox()||"https:"===Ox()}function Ox(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Lx=function(){function e(t,n){C(this,e),this.shortDelay=t,this.longDelay=n,Rx(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())||Rt()}return P(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Dx()||Nt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Mx(e,t){Rx(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Fx=function(){function e(){C(this,e)}return P(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Nx("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Nx("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Nx("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ux=(mt(ox={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),mt(ox,"MISSING_CUSTOM_TOKEN","internal-error"),mt(ox,"INVALID_IDENTIFIER","invalid-email"),mt(ox,"MISSING_CONTINUE_URI","internal-error"),mt(ox,"INVALID_PASSWORD","wrong-password"),mt(ox,"MISSING_PASSWORD","missing-password"),mt(ox,"EMAIL_EXISTS","email-already-in-use"),mt(ox,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),mt(ox,"INVALID_IDP_RESPONSE","invalid-credential"),mt(ox,"INVALID_PENDING_TOKEN","invalid-credential"),mt(ox,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),mt(ox,"MISSING_REQ_TYPE","internal-error"),mt(ox,"EMAIL_NOT_FOUND","user-not-found"),mt(ox,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),mt(ox,"EXPIRED_OOB_CODE","expired-action-code"),mt(ox,"INVALID_OOB_CODE","invalid-action-code"),mt(ox,"MISSING_OOB_CODE","internal-error"),mt(ox,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),mt(ox,"INVALID_ID_TOKEN","invalid-user-token"),mt(ox,"TOKEN_EXPIRED","user-token-expired"),mt(ox,"USER_NOT_FOUND","user-token-expired"),mt(ox,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),mt(ox,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),mt(ox,"INVALID_CODE","invalid-verification-code"),mt(ox,"INVALID_SESSION_INFO","invalid-verification-id"),mt(ox,"INVALID_TEMPORARY_PROOF","invalid-credential"),mt(ox,"MISSING_SESSION_INFO","missing-verification-id"),mt(ox,"SESSION_EXPIRED","code-expired"),mt(ox,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),mt(ox,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),mt(ox,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),mt(ox,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),mt(ox,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),mt(ox,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),mt(ox,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),mt(ox,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),mt(ox,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),mt(ox,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),mt(ox,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),mt(ox,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),mt(ox,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),mt(ox,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),mt(ox,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),mt(ox,"MISSING_CLIENT_TYPE","missing-client-type"),mt(ox,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),mt(ox,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),mt(ox,"INVALID_REQ_TYPE","invalid-req-type"),ox),jx=new Lx(3e4,6e4);function Vx(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function zx(e,t,n,r){return Bx.apply(this,arguments)}function Bx(){return Bx=vt(dt().mark((function e(t,n,r,i){var a,o=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",qx(t,a,vt(dt().mark((function e(){var a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=zt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Fx.fetch()(Wx(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function qx(e,t,n){return Kx.apply(this,arguments)}function Kx(){return Kx=vt(dt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,p;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ux),n),e.prev=2,a=new Qx(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Yx(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=h(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Yx(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Yx(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Yx(t,"user-disabled",u);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Sx(t,p,d);case 34:Ix(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ot)){e.next=41;break}throw e.t0;case 41:Ix(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Kx.apply(this,arguments)}function Gx(e,t,n,r){return Hx.apply(this,arguments)}function Hx(){return Hx=vt(dt().mark((function e(t,n,r,i){var a,o,u=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,zx(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ix(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}function Wx(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Mx(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Qx=function(){function e(t){var n=this;C(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ex(n.auth,"network-request-failed"))}),jx.get())}))}return P(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Yx(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ex(e,t,r);return i.customData._tokenResponse=n,i}function Xx(e){return $x.apply(this,arguments)}function $x(){return $x=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zx(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function Jx(e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zx(t,"GET","/v2/recaptchaConfig",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zx(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t){return rI.apply(this,arguments)}function rI(){return rI=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),rI.apply(this,arguments)}function iI(e,t){return aI.apply(this,arguments)}function aI(){return aI=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zx(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}function oI(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function uI(){return uI=vt(dt().mark((function e(t){var n,r,i,a,o,u,s=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Wt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ax((a=cI(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:oI(sI(a.auth_time)),issuedAtTime:oI(sI(a.iat)),expirationTime:oI(sI(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function sI(e){return 1e3*Number(e)}function cI(e){var t=h(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return xx("JWT malformed, contained fewer than 3 sections"),null;try{var a=wt(r);return a?JSON.parse(a):(xx("Failed to decode base64 JWT payload"),null)}catch(o){return xx("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function lI(e,t){return fI.apply(this,arguments)}function fI(){return fI=vt(dt().mark((function e(t,n){var r=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ot&&hI(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),fI.apply(this,arguments)}function hI(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var dI=function(){function e(t){C(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return P(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(vt(dt().mark((function t(){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),pI=function(){function e(t,n){C(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return P(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=oI(this.lastLoginAt),this.creationTime=oI(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function vI(e){return mI.apply(this,arguments)}function mI(){return mI=vt(dt().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,lI(t,iI(r,{idToken:i}));case 6:Ax(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=ax(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=gI(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new pI(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function yI(){return(yI=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wt(t),e.next=3,vI(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gI(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(T(n),T(t))}function kI(e,t){return bI.apply(this,arguments)}function bI(){return bI=vt(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qx(t,{},vt(dt().mark((function e(){var r,i,a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Wx(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Fx.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}var wI=function(){function e(){C(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return P(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ax(e.idToken,"internal-error"),Ax("undefined"!==typeof e.idToken,"internal-error"),Ax("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=cI(e);return Ax(t,"internal-error"),Ax("undefined"!==typeof t.exp,"internal-error"),Ax("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=vt(dt().mark((function e(t){var n,r=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ax(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=vt(dt().mark((function e(t,n){var r,i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kI(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Nx("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ax("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ax("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ax("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function _I(e,t){Ax("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var xI=function(){function e(t){C(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ax(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?T(a.providerData):[],this.metadata=new pI(a.createdAt||void 0,a.lastLoginAt||void 0)}return P(e,[{key:"getIdToken",value:function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lI(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ax(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return uI.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return yI.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ax(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Ax(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=vt(dt().mark((function e(t){var n,r,i=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,vI(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,lI(this,eI(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Ax(k&&x,t,"internal-error");var I=wI.fromJSON(this.name,x);Ax("string"===typeof k,t,"internal-error"),_I(f,t.name),_I(h,t.name),Ax("boolean"===typeof b,t,"internal-error"),Ax("boolean"===typeof w,t,"internal-error"),_I(d,t.name),_I(p,t.name),_I(v,t.name),_I(m,t.name),_I(y,t.name),_I(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=vt(dt().mark((function t(n,r){var i,a,o,u=arguments;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new wI).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,vI(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),II=new Map;function EI(e){Rx(e instanceof Function,"Expected a class definition");var t=II.get(e);return t?(Rx(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,II.set(e,t),t)}var SI=function(){function e(){C(this,e),this.type="NONE",this.storage={}}return P(e,[{key:"_isAvailable",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();SI.type="NONE";var TI=SI;function CI(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var AI=function(){function e(t,n,r){C(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=CI(this.userKey,a.apiKey,o),this.fullPersistenceKey=CI("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return P(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?xI._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=vt(dt().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(EI(TI),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||EI(TI),u=CI(i,n.config.apiKey,n.name),s=null,c=B(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=xI._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function NI(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(MI(t))return"Blackberry";if(FI(t))return"Webos";if(PI(t))return"Safari";if((t.includes("chrome/")||DI(t))&&!t.includes("edge/"))return"Chrome";if(LI(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function RI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return/firefox\//i.test(e)}function PI(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return/crios\//i.test(e)}function OI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return/iemobile/i.test(e)}function LI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return/android/i.test(e)}function MI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return/blackberry/i.test(e)}function FI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return/webos/i.test(e)}function UI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function jI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return UI(e)||LI(e)||FI(e)||MI(e)||/windows phone/i.test(e)||OI(e)}function VI(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=NI(Ct());break;case"Worker":t="".concat(NI(Ct()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Gn,"/").concat(r)}var zI=function(){function e(t){C(this,e),this.auth=t,this.queue=[]}return P(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=vt(dt().mark((function e(t){var n,r,i,a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=B(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=B(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function BI(e){return qI.apply(this,arguments)}function qI(){return qI=vt(dt().mark((function e(t){var n,r=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",zx(t,"GET","/v2/passwordPolicy",Vx(t,n)));case 2:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}var KI=function(){function e(t){var n,r,i,a;C(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return P(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),GI=function(){function e(t,n,r,i){C(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WI(this),this.idTokenSubscription=new WI(this),this.beforeStateQueue=new zI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return P(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=EI(t)),this._initializationPromise=this.queue(vt(dt().mark((function r(){var i,a;return dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,AI.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=vt(dt().mark((function e(t){var n,r,i,a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ax(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vI(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Wt(t):null)&&Ax(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=vt(dt().mark((function e(t){var n,r=this,i=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ax(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(vt(dt().mark((function n(){return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(EI(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=vt(dt().mark((function e(){var t,n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BI(this);case 2:t=e.sent,n=new KI(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Lt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=vt(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ax(n=t&&EI(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,AI.create(this,[EI(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=vt(dt().mark((function e(t){var n=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ax(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ax(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VI(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=vt(dt().mark((function e(){var t,n,r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=vt(dt().mark((function e(){var t,n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&_x("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function HI(e){return Wt(e)}var WI=function(){function e(t){var n=this;C(this,e),this.auth=t,this.observer=null,this.addObserver=Kt((function(e){return n.observer=e}))}return P(e,[{key:"next",get:function(){return Ax(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function QI(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ex("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function YI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var XI=function(){function e(t){C(this,e),this.type="recaptcha-enterprise",this.auth=HI(t)}return P(e,[{key:"verify",value:function(){var e=vt(dt().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;vx(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=vt(dt().mark((function e(n,r){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jx(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new mx(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&vx(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));QI("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $I(e,t,n){return JI.apply(this,arguments)}function JI(){return JI=vt(dt().mark((function e(t,n,r){var i,a,o,u,s=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new XI(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),JI.apply(this,arguments)}function ZI(e,t,n){var r=HI(e);Ax(r._canInitEmulator,r,"emulator-config-failed"),Ax(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=eE(t),o=function(e){var t=eE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:tE(r.substr(a.length+1))}}var o=h(r.split(":"),2);return{host:o[0],port:tE(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function eE(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tE(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var nE=function(){function e(t,n){C(this,e),this.providerId=t,this.signInMethod=n}return P(e,[{key:"toJSON",value:function(){return Nx("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Nx("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Nx("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Nx("not implemented")}}]),e}();function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zx(t,"POST","/v1/accounts:resetPassword",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t){return oE.apply(this,arguments)}function oE(){return oE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function uE(e,t){return sE.apply(this,arguments)}function sE(){return sE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zx(t,"POST","/v1/accounts:update",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function cE(e,t){return lE.apply(this,arguments)}function lE(){return lE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithPassword",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e,t){return hE.apply(this,arguments)}function hE(){return hE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zx(t,"POST","/v1/accounts:sendOobCode",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(e,t){return pE.apply(this,arguments)}function pE(){return pE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fE(t,n));case 1:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t){return mE.apply(this,arguments)}function mE(){return mE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fE(t,n));case 1:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(e,t){return gE.apply(this,arguments)}function gE(){return gE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fE(t,n));case 1:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fE(t,n));case 1:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t){return _E.apply(this,arguments)}function _E(){return _E=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithEmailLink",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function xE(e,t){return IE.apply(this,arguments)}function IE(){return IE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithEmailLink",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}var EE=function(e){O(n,e);var t=U(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return P(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=vt(dt().mark((function e(t){var n,r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,$I(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",cE(t,i));case 11:return e.abrupt("return",cE(t,r).catch(function(){var e=vt(dt().mark((function e(n){var i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,$I(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",cE(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",wE(t,{email:this._email,oobCode:this._password}));case 13:Ix(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",aE(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xE(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ix(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(nE);function SE(e,t){return TE.apply(this,arguments)}function TE(){return TE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithIdp",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}var CE=function(e){O(n,e);var t=U(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return P(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return SE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,SE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,SE(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ix("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ax(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(nE);function AE(e,t){return NE.apply(this,arguments)}function NE(){return NE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zx(t,"POST","/v1/accounts:sendVerificationCode",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}function RE(){return RE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithPhoneNumber",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}function PE(){return PE=vt(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gx(t,"POST","/v1/accounts:signInWithPhoneNumber",Vx(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Yx(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}var DE=mt({},"USER_NOT_FOUND","user-not-found");function OE(){return OE=vt(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithPhoneNumber",Vx(t,r),DE));case 2:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}var LE=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this,"phone","phone")).params=e,r}return P(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return RE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return PE.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return OE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(nE);var ME=function(){function e(t){var n,r,i,a,o,u;C(this,e);var s=Bt(qt(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Ax(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return P(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Bt(qt(e)).link,n=t?Bt(qt(t)).deep_link_id:null,r=Bt(qt(e)).deep_link_id;return(r?Bt(qt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var FE=function(){function e(){C(this,e),this.providerId=e.PROVIDER_ID}return P(e,null,[{key:"credential",value:function(e,t){return EE._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ME.parseLink(t);return Ax(n,"argument-error"),EE._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();FE.PROVIDER_ID="password",FE.EMAIL_PASSWORD_SIGN_IN_METHOD="password",FE.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var UE=function(){function e(t){C(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return P(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),jE=function(e){O(n,e);var t=U(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).scopes=[],e}return P(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return T(this.scopes)}}]),n}(UE),VE=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.apply(this,arguments)}return P(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Ax(e.idToken||e.accessToken,"argument-error"),CE._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Ax("providerId"in t&&"signInMethod"in t,"argument-error"),CE._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(jE),zE=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.call(this,"facebook.com")}return P(n,null,[{key:"credential",value:function(e){return CE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(jE);zE.FACEBOOK_SIGN_IN_METHOD="facebook.com",zE.PROVIDER_ID="facebook.com";var BE=function(e){O(n,e);var t=U(n);function n(){var e;return C(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return P(n,null,[{key:"credential",value:function(e,t){return CE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(jE);BE.GOOGLE_SIGN_IN_METHOD="google.com",BE.PROVIDER_ID="google.com";var qE=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.call(this,"github.com")}return P(n,null,[{key:"credential",value:function(e){return CE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(jE);qE.GITHUB_SIGN_IN_METHOD="github.com",qE.PROVIDER_ID="github.com";var KE=function(e){O(n,e);var t=U(n);function n(e,r){var i;return C(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return P(n,[{key:"_getIdTokenResponse",value:function(e){return SE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,SE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,SE(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(nE),GE=function(e){O(n,e);var t=U(n);function n(e){return C(this,n),Ax(e.startsWith("saml."),"argument-error"),t.call(this,e)}return P(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=KE.fromJSON(e);return Ax(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return KE._create(r,n)}catch(i){return null}}}]),n}(UE),HE=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.call(this,"twitter.com")}return P(n,null,[{key:"credential",value:function(e,t){return CE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(jE);function WE(e,t){return QE.apply(this,arguments)}function QE(){return QE=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signUp",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}HE.TWITTER_SIGN_IN_METHOD="twitter.com",HE.PROVIDER_ID="twitter.com";var YE=function(){function e(t){C(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return P(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=vt(dt().mark((function t(n,r,i){var a,o,u,s,c=arguments;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,xI._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=XE(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=vt(dt().mark((function t(n,r,i){var a;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=XE(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function XE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function $E(){return $E=vt(dt().mark((function e(t){var n,r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=HI(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new YE({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,WE(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,YE._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),$E.apply(this,arguments)}var JE=function(e){O(n,e);var t=U(n);function n(e,r,i,a){var o,u;return C(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(F(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return P(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ot);function ZE(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw JE._fromErrorAndOperation(e,n,t,r);throw n}))}function eS(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=vt(dt().mark((function e(t,n){var r,i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wt(t),e.next=3,aS(!0,r,n);case 3:return e.t0=nI,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=eS(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t){return iS.apply(this,arguments)}function iS(){return iS=vt(dt().mark((function e(t,n){var r,i,a=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=lI,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",YE._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t,n){return oS.apply(this,arguments)}function oS(){return(oS=vt(dt().mark((function e(t,n,r){var i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vI(n);case 2:i=eS(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Ax(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uS(e,t){return sS.apply(this,arguments)}function sS(){return sS=vt(dt().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,lI(t,ZE(i,a,n,t),r);case 6:return Ax((o=e.sent).idToken,i,"internal-error"),Ax(u=cI(o.idToken),i,"internal-error"),s=u.sub,Ax(t.uid===s,i,"user-mismatch"),e.abrupt("return",YE._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ix(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),sS.apply(this,arguments)}function cS(e,t){return lS.apply(this,arguments)}function lS(){return lS=vt(dt().mark((function e(t,n){var r,i,a,o,u=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ZE(t,i,n);case 4:return a=e.sent,e.next=7,YE._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}function fS(e,t){return hS.apply(this,arguments)}function hS(){return hS=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cS(HI(t),n));case 1:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e,t){return pS.apply(this,arguments)}function pS(){return(pS=vt(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wt(t),e.next=3,aS(!1,r,n.providerId);case 3:return e.abrupt("return",rS(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vS(e,t){return mS.apply(this,arguments)}function mS(){return(mS=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uS(Wt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yS(e,t){return gS.apply(this,arguments)}function gS(){return gS=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gx(t,"POST","/v1/accounts:signInWithCustomToken",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(){return kS=vt(dt().mark((function e(t,n){var r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=HI(t),e.next=3,yS(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,YE._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),kS.apply(this,arguments)}var bS=function(){function e(t,n){C(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return P(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?wS._fromServerResponse(e,t):"totpInfo"in t?_S._fromServerResponse(e,t):Ix(e,"internal-error")}}]),e}(),wS=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return P(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(bS),_S=function(e){O(n,e);var t=U(n);function n(e){return C(this,n),t.call(this,"totp",e)}return P(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(bS);function xS(e,t,n){var r;Ax((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ax("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ax(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ax(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function IS(e){return ES.apply(this,arguments)}function ES(){return ES=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=HI(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function SS(){return SS=vt(dt().mark((function e(t,n,r){var i,a,o,u;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=HI(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,$I(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&xS(a,u,r),e.next=9,vE(a,u);case 9:e.next=14;break;case 11:return r&&xS(a,o,r),e.next=14,vE(a,o).catch(function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,$I(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&xS(a,n,r),e.next=8,vE(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function TS(){return TS=vt(dt().mark((function e(t,n,r){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rE(Wt(t),{oobCode:n,newPassword:r}).catch(function(){var e=vt(dt().mark((function e(n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&IS(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function CS(){return CS=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uE(Wt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function AS(e,t){return NS.apply(this,arguments)}function NS(){return NS=vt(dt().mark((function e(t,n){var r,i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wt(t),e.next=3,rE(r,{oobCode:n});case 3:i=e.sent,Ax(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Ax(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Ax(i.mfaInfo,r,"internal-error");case 13:Ax(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=bS._fromServerResponse(HI(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function RS(){return RS=vt(dt().mark((function e(t,n){var r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AS(Wt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function PS(e,t,n){return DS.apply(this,arguments)}function DS(){return DS=vt(dt().mark((function e(t,n,r){var i,a,o,u,s,c,l;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=HI(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,$I(a,o,"signUpPassword");case 5:s=e.sent,u=WE(a,s),e.next=10;break;case 9:u=WE(a,o).catch(function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,$I(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",WE(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&IS(t),e}));case 12:return c=e.sent,e.next=15,YE._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function OS(){return OS=vt(dt().mark((function e(t,n,r){var i,a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Ax(t.handleCodeInApp,a,"argument-error"),t&&xS(a,e,t)},a=HI(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,$I(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,yE(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,yE(a,o).catch(function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,$I(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,yE(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function LS(){return LS=vt(dt().mark((function e(t,n,r){var i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wt(t),Ax((a=FE.credentialWithLink(n,r||Px()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",fS(i,a));case 4:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function MS(e,t){return FS.apply(this,arguments)}function FS(){return FS=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zx(t,"POST","/v1/accounts:createAuthUri",Vx(t,n)));case 1:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function US(){return US=vt(dt().mark((function e(t,n){var r,i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dx()?Px():"http://localhost",i={identifier:n,continueUri:r},e.next=4,MS(Wt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function jS(){return(jS=vt(dt().mark((function e(t,n){var r,i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&xS(r.auth,a,n),e.next=8,dE(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VS(){return(VS=vt(dt().mark((function e(t,n,r){var i,a,o,u;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&xS(i.auth,o,r),e.next=8,kE(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zS(e,t){return BS.apply(this,arguments)}function BS(){return BS=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function qS(){return(qS=vt(dt().mark((function e(t,n){var r,i,a,o,u,s,c;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Wt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,lI(a,zS(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KS(e,t,n){return GS.apply(this,arguments)}function GS(){return GS=vt(dt().mark((function e(t,n,r){var i,a,o,u;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,lI(t,aE(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}var HS=P((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};C(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),WS=function(e){O(n,e);var t=U(n);function n(e,r,i,a){var o;return C(this,n),(o=t.call(this,e,r,i)).username=a,o}return P(n)}(HS),QS=function(e){O(n,e);var t=U(n);function n(e,r){return C(this,n),t.call(this,e,"facebook.com",r)}return P(n)}(HS),YS=function(e){O(n,e);var t=U(n);function n(e,r){return C(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return P(n)}(WS),XS=function(e){O(n,e);var t=U(n);function n(e,r){return C(this,n),t.call(this,e,"google.com",r)}return P(n)}(HS),$S=function(e){O(n,e);var t=U(n);function n(e,r,i){return C(this,n),t.call(this,e,"twitter.com",r,i)}return P(n)}(WS);function JS(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=cI(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new HS(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new QS(a,i);case"github.com":return new YS(a,i);case"google.com":return new XS(a,i);case"twitter.com":return new $S(a,i,e.screenName||null);case"custom":case"anonymous":return new HS(a,null);default:return new HS(a,r,i)}}(n)}var ZS=function(){function e(t,n,r){C(this,e),this.type=t,this.credential=n,this.user=r}return P(e,[{key:"toJSON",value:function(){return{multiFactorSession:mt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),eT=function(){function e(t,n,r){C(this,e),this.session=t,this.hints=n,this.signInResolver=r}return P(e,[{key:"resolveSignIn",value:function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=HI(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return bS._fromServerResponse(r,e)}));Ax(i.mfaPendingCredential,r,"internal-error");var o=ZS._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=vt(dt().mark((function e(t){var a,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,YE._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Ax(n.user,r,"internal-error"),e.abrupt("return",YE._forOperation(n.user,n.operationType,u));case 17:Ix(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function tT(e,t){return zx(e,"POST","/v2/accounts/mfaEnrollment:start",Vx(e,t))}function nT(e,t){return zx(e,"POST","/v2/accounts/mfaEnrollment:start",Vx(e,t))}function rT(e,t){return zx(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vx(e,t))}function iT(e,t){return zx(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Vx(e,t))}var aT=function(){function e(t){var n=this;C(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return bS._fromServerResponse(t.auth,e)})))}))}return P(e,[{key:"getSession",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ZS,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=vt(dt().mark((function e(t,n){var r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,lI(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=vt(dt().mark((function e(t){var n,r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,lI(this.user,iT(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),oT=new WeakMap;var uT="__sak",sT=function(){function e(t,n){C(this,e),this.storageRetriever=t,this.type=n}return P(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(uT,"1"),this.storage.removeItem(uT),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var cT=function(e){O(n,e);var t=U(n);function n(){var e;return C(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ct();return PI(e)||UI(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=jI(),e._shouldAllowMigration=!0,e}return P(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Pt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=vt(dt().mark((function e(t,r){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir(L(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vt(dt().mark((function e(t){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir(L(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir(L(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(sT);cT.type="LOCAL";var lT=cT,fT=function(e){O(n,e);var t=U(n);function n(){return C(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return P(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(sT);fT.type="SESSION";var hT=fT;function dT(e){return Promise.all(e.map(function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var pT=function(){function e(t){C(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return P(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=vt(dt().mark((function e(t){var n,r,i,a,o,u,s,c;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,dT(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function vT(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pT.receivers=[];var mT=function(){function e(t){C(this,e),this.target=t,this.handlers=new Set}return P(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=vt(dt().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=vT("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function yT(){return window}function gT(e){yT().location.href=e}function kT(){return"undefined"!==typeof yT().WorkerGlobalScope&&"function"===typeof yT().importScripts}function bT(){return wT.apply(this,arguments)}function wT(){return(wT=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function _T(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var xT="firebaseLocalStorageDb",IT="firebaseLocalStorage",ET="fbase_key",ST=function(){function e(t){C(this,e),this.request=t}return P(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function TT(e,t){return e.transaction([IT],t?"readwrite":"readonly").objectStore(IT)}function CT(){var e=indexedDB.deleteDatabase(xT);return new ST(e).toPromise()}function AT(){var e=indexedDB.open(xT,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(IT,{keyPath:ET})}catch(r){n(r)}})),e.addEventListener("success",vt(dt().mark((function n(){var r;return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(IT)){n.next=12;break}return r.close(),n.next=5,CT();case 5:return n.t0=t,n.next=8,AT();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function NT(e,t,n){return RT.apply(this,arguments)}function RT(){return RT=vt(dt().mark((function e(t,n,r){var i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=TT(t,!0).put((mt(i={},ET,n),mt(i,"value",r),i)),e.abrupt("return",new ST(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function PT(e,t){return DT.apply(this,arguments)}function DT(){return DT=vt(dt().mark((function e(t,n){var r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=TT(t,!1).get(n),e.next=3,new ST(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),DT.apply(this,arguments)}function OT(e,t){var n=TT(e,!0).delete(t);return new ST(n).toPromise()}var LT=function(){function e(){C(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return P(e,[{key:"_openDb",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,AT();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kT()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=vt(dt().mark((function e(){var t=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=pT._getInstance(kT()?self:null),this.receiver._subscribe("keyChanged",function(){var e=vt(dt().mark((function e(n,r){var i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=vt(dt().mark((function e(){var t,n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bT();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new mT(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&_T()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,AT();case 5:return t=e.sent,e.next=8,NT(t,uT,"1");case 8:return e.next=10,OT(t,uT);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=vt(dt().mark((function e(t,n){var r=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return NT(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return PT(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vt(dt().mark((function e(t){var n=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return OT(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=vt(dt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=TT(e,!1).getAll();return new ST(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=B(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(vt(dt().mark((function t(){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();LT.type="LOCAL";var MT=LT;function FT(e,t){return zx(e,"POST","/v2/accounts/mfaSignIn:start",Vx(e,t))}function UT(e,t){return zx(e,"POST","/v2/accounts/mfaSignIn:finalize",Vx(e,t))}var jT=1e12,VT=function(){function e(t){C(this,e),this.auth=t,this.counter=jT,this._widgets=new Map}return P(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new zT(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||jT;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||jT;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||jT,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zT=function(){function e(t,n,r){var i=this;C(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Ax(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return P(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var BT=YI("rcb"),qT=new Lx(3e4,6e4),KT=function(){function e(){var t;C(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=yT().grecaptcha)||void 0===t?void 0:t.render)}return P(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ax(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&px(yT().grecaptcha)?Promise.resolve(yT().grecaptcha):new Promise((function(r,i){var a=yT().setTimeout((function(){i(Ex(e,"network-request-failed"))}),qT.get());yT()[BT]=function(){yT().clearTimeout(a),delete yT()[BT];var o=yT().grecaptcha;if(o&&px(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ex(e,"internal-error"))},QI("".concat("https://www.google.com/recaptcha/api.js?","?").concat(zt({onload:BT,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ex(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=yT().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var GT=function(){function e(){C(this,e)}return P(e,[{key:"load",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new VT(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),HT="recaptcha",WT={theme:"light",type:"image"},QT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},WT);C(this,e),this.parameters=r,this.type=HT,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=HI(t),this.isInvisible="invisible"===this.parameters.size,Ax("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;Ax(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new GT:new KT,this.validateStartingState()}return P(e,[{key:"verify",value:function(){var e=vt(dt().mark((function e(){var t,n,r,i=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Ax(!this.parameters.sitekey,this.auth,"argument-error"),Ax(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ax("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=yT()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Ax(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=vt(dt().mark((function e(){var t,n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ax(Dx()&&!kT(),this.auth,"internal-error"),e.next=3,YT();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Xx(this.auth);case 8:Ax(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Ax(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function YT(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var XT=function(){function e(t,n){C(this,e),this.verificationId=t,this.onConfirmation=n}return P(e,[{key:"confirm",value:function(e){var t=LE._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function $T(){return $T=vt(dt().mark((function e(t,n,r){var i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=HI(t),e.next=3,tC(i,n,Wt(r));case 3:return a=e.sent,e.abrupt("return",new XT(a,(function(e){return fS(i,e)})));case 5:case"end":return e.stop()}}),e)}))),$T.apply(this,arguments)}function JT(e,t,n){return ZT.apply(this,arguments)}function ZT(){return(ZT=vt(dt().mark((function e(t,n,r){var i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wt(t),e.next=3,aS(!1,i,"phone");case 3:return e.next=5,tC(i.auth,n,Wt(r));case 5:return a=e.sent,e.abrupt("return",new XT(a,(function(e){return dS(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eC(){return(eC=vt(dt().mark((function e(t,n,r){var i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wt(t),e.next=3,tC(i.auth,n,Wt(r));case 3:return a=e.sent,e.abrupt("return",new XT(a,(function(e){return vS(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tC(e,t,n){return nC.apply(this,arguments)}function nC(){return nC=vt(dt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ax("string"===typeof a,t,"argument-error"),Ax(r.type===HT,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Ax("enroll"===u.type,t,"internal-error"),e.next=13,tT(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Ax("signin"===u.type,t,"internal-error"),Ax(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,FT(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,AE(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),nC.apply(this,arguments)}function rC(){return(rC=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rS(Wt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var iC=function(){function e(t){C(this,e),this.providerId=e.PROVIDER_ID,this.auth=HI(t)}return P(e,[{key:"verifyPhoneNumber",value:function(e,t){return tC(this.auth,e,Wt(t))}}],[{key:"credential",value:function(e,t){return LE._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?LE._fromTokenResponse(n,r):null}}]),e}();function aC(e,t){return t?EI(t):(Ax(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}iC.PROVIDER_ID="phone",iC.PHONE_SIGN_IN_METHOD="phone";var oC=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this,"custom","custom")).params=e,r}return P(n,[{key:"_getIdTokenResponse",value:function(e){return SE(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return SE(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return SE(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(nE);function uC(e){return cS(e.auth,new oC(e),e.bypassAuthState)}function sC(e){var t=e.auth,n=e.user;return Ax(n,t,"internal-error"),uS(n,new oC(e),e.bypassAuthState)}function cC(e){return lC.apply(this,arguments)}function lC(){return lC=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ax(r=t.user,n,"internal-error"),e.abrupt("return",rS(r,new oC(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}var fC=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];C(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return P(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=vt(dt().mark((function t(n,r){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=vt(dt().mark((function e(t){var n,r,i,a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uC;case"linkViaPopup":case"linkViaRedirect":return cC;case"reauthViaPopup":case"reauthViaRedirect":return sC;default:Ix(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Rx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Rx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),hC=new Lx(2e3,1e4);function dC(e,t,n){return pC.apply(this,arguments)}function pC(){return pC=vt(dt().mark((function e(t,n,r){var i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=HI(t),Tx(t,n,UE),a=aC(i,r),o=new gC(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),pC.apply(this,arguments)}function vC(){return(vC=vt(dt().mark((function e(t,n,r){var i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tx((i=Wt(t)).auth,n,UE),a=aC(i.auth,r),o=new gC(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mC(e,t,n){return yC.apply(this,arguments)}function yC(){return(yC=vt(dt().mark((function e(t,n,r){var i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tx((i=Wt(t)).auth,n,UE),a=aC(i.auth,r),o=new gC(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gC=function(e){O(n,e);var t=U(n);function n(e,r,i,a,o){var u;return C(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=F(u),u}return P(n,[{key:"executeNotNull",value:function(){var e=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ax(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=vt(dt().mark((function e(){var t,n=this;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rx(1===this.filter.length,"Popup operations only handle one event"),t=vT(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ex(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ex(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ex(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,hC.get())}()}}]),n}(fC);gC.currentPopupAction=null;var kC="pendingRedirect",bC=new Map,wC=function(e){O(n,e);var t=U(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return C(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return P(n,[{key:"execute",value:function(){var e=vt(dt().mark((function e(){var t,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bC.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,_C(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ir(L(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:bC.set(this.auth._key(),t);case 21:return this.bypassAuthState||bC.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=vt(dt().mark((function e(t){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ir(L(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ir(L(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(fC);function _C(e,t){return xC.apply(this,arguments)}function xC(){return xC=vt(dt().mark((function e(t,n){var r,i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=CC(n),i=TC(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),xC.apply(this,arguments)}function IC(e,t){return EC.apply(this,arguments)}function EC(){return EC=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TC(t)._set(CC(n),"true"));case 1:case"end":return e.stop()}}),e)}))),EC.apply(this,arguments)}function SC(e,t){bC.set(e._key(),t)}function TC(e){return EI(e._redirectPersistence)}function CC(e){return CI(kC,e.config.apiKey,e.name)}function AC(e,t,n){return function(e,t,n){return NC.apply(this,arguments)}(e,t,n)}function NC(){return NC=vt(dt().mark((function e(t,n,r){var i,a;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=HI(t),Tx(t,n,UE),e.next=4,i._initializationPromise;case 4:return a=aC(i,r),e.next=7,IC(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}function RC(e,t,n){return function(e,t,n){return PC.apply(this,arguments)}(e,t,n)}function PC(){return(PC=vt(dt().mark((function e(t,n,r){var i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tx((i=Wt(t)).auth,n,UE),e.next=4,i.auth._initializationPromise;case 4:return a=aC(i.auth,r),e.next=7,IC(a,i.auth);case 7:return e.next=9,jC(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DC(e,t,n){return function(e,t,n){return OC.apply(this,arguments)}(e,t,n)}function OC(){return(OC=vt(dt().mark((function e(t,n,r){var i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tx((i=Wt(t)).auth,n,UE),e.next=4,i.auth._initializationPromise;case 4:return a=aC(i.auth,r),e.next=7,aS(!1,i,n.providerId);case 7:return e.next=9,IC(a,i.auth);case 9:return e.next=11,jC(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LC(e,t){return MC.apply(this,arguments)}function MC(){return MC=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI(t)._initializationPromise;case 2:return e.abrupt("return",FC(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),MC.apply(this,arguments)}function FC(e,t){return UC.apply(this,arguments)}function UC(){return UC=vt(dt().mark((function e(t,n){var r,i,a,o,u,s=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=HI(t),a=aC(i,n),o=new wC(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),UC.apply(this,arguments)}function jC(e){return VC.apply(this,arguments)}function VC(){return(VC=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vT("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zC=function(){function e(t){C(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return P(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qC(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!qC(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ex(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(BC(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(BC(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function BC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function qC(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function KC(e){return GC.apply(this,arguments)}function GC(){return GC=vt(dt().mark((function e(t){var n,r=arguments;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",zx(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),GC.apply(this,arguments)}var HC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WC=/^https?/;function QC(){return QC=vt(dt().mark((function e(t){var n,r,i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,KC(t);case 4:n=e.sent,r=n.authorizedDomains,i=B(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!YC(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ix(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),QC.apply(this,arguments)}function YC(e){var t=Px(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!WC.test(r))return!1;if(HC.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var XC=new Lx(3e4,6e4);function $C(){var e=yT().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=T(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var JC=null;function ZC(e){return JC=JC||function(e){return new Promise((function(t,n){var r,i,a;function o(){$C(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){$C(),n(Ex(e,"network-request-failed"))},timeout:XC.get()})}if(null===(i=null===(r=yT().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=yT().gapi)||void 0===a?void 0:a.load)){var u=YI("iframefcb");return yT()[u]=function(){gapi.load?o():n(Ex(e,"network-request-failed"))},QI("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw JC=null,e}))}(e),JC}var eA=new Lx(5e3,15e3),tA="__/auth/iframe",nA="emulator/auth/iframe",rA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aA(e){var t=e.config;Ax(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Mx(t,nA):"https://".concat(e.config.authDomain,"/").concat(tA),r={apiKey:t.apiKey,appName:e.name,v:Gn},i=iA.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(zt(r).slice(1))}function oA(e){return uA.apply(this,arguments)}function uA(){return uA=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZC(t);case 2:return n=e.sent,Ax(r=yT().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:aA(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rA,dontclear:!0},(function(e){return new Promise(function(){var n=vt(dt().mark((function n(r,i){var a,o,u;return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){yT().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ex(t,"network-request-failed"),o=yT().setTimeout((function(){i(a)}),eA.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),uA.apply(this,arguments)}var sA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cA=function(){function e(t){C(this,e),this.window=t,this.associatedEvent=null}return P(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function lA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},sA),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ct().toLowerCase();n&&(u=DI(c)?"_blank":n),RI(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=h(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return UI(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new cA(null);var f=window.open(t||"",u,l);Ax(f,e,"popup-blocked");try{f.focus()}catch(d){}return new cA(f)}var fA="__/auth/handler",hA="emulator/auth/handler",dA=encodeURIComponent("fac");function pA(e,t,n,r,i,a){return vA.apply(this,arguments)}function vA(){return vA=vt(dt().mark((function e(t,n,r,i,a,o){var u,s,c,l,f,d,p,v,m,y,g,k,b;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ax(t.config.authDomain,t,"auth-domain-config-required"),Ax(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Gn,eventId:a},n instanceof UE)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",Ut(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=h(c[s],2),f=l[0],d=l[1],u[f]=d;for(n instanceof jE&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(dA,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(mA(t),"?").concat(zt(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e){var t=e.config;return t.emulator?Mx(t,hA):"https://".concat(t.authDomain,"/").concat(fA)}var yA="webStorageSupport",gA=function(){function e(){C(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hT,this._completeRedirectFn=FC,this._overrideRedirectResult=SC}return P(e,[{key:"_openPopup",value:function(){var e=vt(dt().mark((function e(t,n,r,i){var a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rx(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,pA(t,n,r,Px(),i);case 3:return o=e.sent,e.abrupt("return",lA(t,o,vT()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=vt(dt().mark((function e(t,n,r,i){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,pA(t,n,r,Px(),i);case 4:return gT(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Rx(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oA(t);case 2:return n=e.sent,r=new zC(t),n.register("authEvent",(function(e){return Ax(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(yA,{type:yA},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[yA];void 0!==i&&t(!!i),Ix(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return QC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return jI()||PI()||UI()}}]),e}(),kA=gA,bA=function(){function e(t){C(this,e),this.factorId=t}return P(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Nx("unexpected MultiFactorSessionType")}}}]),e}(),wA=function(e){O(n,e);var t=U(n);function n(e){var r;return C(this,n),(r=t.call(this,"phone")).credential=e,r}return P(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return zx(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vx(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return zx(e,"POST","/v2/accounts/mfaSignIn:finalize",Vx(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(bA),_A=function(){function e(){C(this,e)}return P(e,null,[{key:"assertion",value:function(e){return wA._fromCredential(e)}}]),e}();_A.FACTOR_ID="phone";var xA=function(){function e(){C(this,e)}return P(e,null,[{key:"assertionForEnrollment",value:function(e,t){return IA._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return IA._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=vt(dt().mark((function e(t){var n,r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ax("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,nT(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",EA._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();xA.FACTOR_ID="totp";var IA=function(e){O(n,e);var t=U(n);function n(e,r,i){var a;return C(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return P(n,[{key:"_finalizeEnroll",value:function(){var e=vt(dt().mark((function e(t,n,r){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ax("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",rT(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=vt(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ax(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",UT(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(bA),EA=function(){function e(t,n,r,i,a,o,u){C(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return P(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(SA(e)||SA(t))&&(r=!0),r&&(SA(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),SA(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function SA(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var TA="@firebase/auth",CA="1.3.0",AA=function(){function e(t){C(this,e),this.auth=t,this.internalListeners=new Map}return P(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ax(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var NA;!function(e){var t;null===(t=It())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function RA(){return window}NA="Browser",Un(new Qt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Ax(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:NA,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VI(NA)},l=new GI(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(EI);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Un(new Qt("auth-internal",(function(e){return function(e){return new AA(e)}(HI(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),$n(TA,CA,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(NA)),$n(TA,CA,"esm2017");var PA=2e3;function DA(e,t,n){return OA.apply(this,arguments)}function OA(){return OA=vt(dt().mark((function e(t,n,r){var i,a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=RA(),o=a.BuildInfo,Rx(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,VA(n.sessionId);case 4:return u=e.sent,s={},UI()?s.ibi=o.packageName:LI()?s.apn=o.packageName:Ix(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",pA(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),OA.apply(this,arguments)}function LA(){return LA=vt(dt().mark((function e(t){var n,r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=RA(),r=n.BuildInfo,i={},UI()?i.iosBundleId=r.packageName:LI()?i.androidPackageName=r.packageName:Ix(t,"operation-not-supported-in-this-environment"),e.next=5,KC(t,i);case 5:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function MA(e){var t=RA().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function FA(e,t,n){return UA.apply(this,arguments)}function UA(){return UA=vt(dt().mark((function e(t,n,r){var i,a,o;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=RA(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ex(t,"redirect-cancelled-by-user"))}),PA))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),LI()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),UA.apply(this,arguments)}function jA(e){var t,n,r,i,a,o,u,s,c,l,f=RA();Ax("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ax("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ax("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ax("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ax("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function VA(e){return zA.apply(this,arguments)}function zA(){return(zA=vt(dt().mark((function e(t){var n,r,i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=BA(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BA(e){if(Rx(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var qA=20,KA=function(e){O(n,e);var t=U(n);function n(){var e;return C(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return P(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ir(L(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(zC);function GA(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:XA(),postBody:null,tenantId:e.tenantId,error:Ex(e,"no-auth-event")}}function HA(e,t){return $A()._set(JA(e),t)}function WA(e){return QA.apply(this,arguments)}function QA(){return QA=vt(dt().mark((function e(t){var n;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$A()._get(JA(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,$A()._remove(JA(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}function YA(e,t){var n,r,i=function(e){var t=ZA(e),n=t.link?decodeURIComponent(t.link):void 0,r=ZA(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ZA(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=ZA(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ex(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function XA(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<qA;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function $A(){return EI(lT)}function JA(e){return CI("authEvent",e.config.apiKey,e.name)}function ZA(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=z(e.split("?"));t[0];return Bt(t.slice(1).join("?"))}var eN=function(){function e(){C(this,e),this._redirectPersistence=hT,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=FC,this._overrideRedirectResult=SC}return P(e,[{key:"_initialize",value:function(){var e=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new KA(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ix(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=vt(dt().mark((function e(t,n,r,i){var a,o,u,s;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jA(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),bC.clear(),e.next=10,this._originValidation(t);case 10:return o=GA(t,r,i),e.next=13,HA(t,o);case 13:return e.next=15,DA(t,o,n);case 15:return u=e.sent,e.next=18,MA(u);case 18:return s=e.sent,e.abrupt("return",FA(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return LA.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=RA(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(vt(dt().mark((function n(){return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,WA(e);case 2:t.onEvent(nN());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=vt(dt().mark((function n(r){var i,a;return dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,WA(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=YA(i,r.url)),t.onEvent(a||nN());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");RA().handleOpenURL=function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),tN=eN;function nN(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ex("no-auth-event")}}var rN=1e3;function iN(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function aN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return!("file:"!==iN()&&"ionic:"!==iN()&&"capacitor:"!==iN()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function oN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return Pt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct();return/Edge\/\d+/.test(e)}(e)}function uN(){try{var e=self.localStorage,t=vT();if(e)return e.setItem(t,"1"),e.removeItem(t),!oN()||Dt()}catch(n){return sN()&&Dt()}return!1}function sN(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function cN(){return("http:"===iN()||"https:"===iN()||Nt()||aN())&&!(Rt()||At())&&uN()&&!sN()}function lN(){return aN()&&"undefined"!==typeof document}function fN(){return hN.apply(this,arguments)}function hN(){return(hN=vt(dt().mark((function e(){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lN()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),rN);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dN={LOCAL:"local",NONE:"none",SESSION:"session"},pN=Ax,vN="persistence";function mN(e,t){pN(Object.values(dN).includes(t),e,"invalid-persistence-type"),Rt()?pN(t!==dN.SESSION,e,"unsupported-persistence-type"):At()?pN(t===dN.NONE,e,"unsupported-persistence-type"):sN()?pN(t===dN.NONE||t===dN.LOCAL&&Dt(),e,"unsupported-persistence-type"):pN(t===dN.NONE||uN(),e,"unsupported-persistence-type")}function yN(e){return gN.apply(this,arguments)}function gN(){return gN=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=kN(),r=CI(vN,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),gN.apply(this,arguments)}function kN(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var bN=Ax,wN=function(){function e(){C(this,e),this.browserResolver=EI(kA),this.cordovaResolver=EI(tN),this.underlyingResolver=null,this._redirectPersistence=hT,this._completeRedirectFn=FC,this._overrideRedirectResult=SC}return P(e,[{key:"_initialize",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=vt(dt().mark((function e(t,n,r,i){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=vt(dt().mark((function e(t,n,r,i){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return lN()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return bN(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fN();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _N(e){return e.unwrap()}function xN(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new CN(e,function(e,t){var n,r=Wt(e),i=t;return Ax(t.customData.operationType,r,"argument-error"),Ax(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),eT._fromError(r,i)}(e,t));else if(r){var i=IN(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function IN(e){var t=(e instanceof Ot?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ot)&&"temporaryProof"in t&&"phoneNumber"in t)return iC.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ux.PASSWORD)return null;switch(r){case ux.GOOGLE:n=BE;break;case ux.FACEBOOK:n=zE;break;case ux.GITHUB:n=qE;break;case ux.TWITTER:n=HE;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?KE._create(r,u):CE._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new VE(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Ot?n.credentialFromError(e):n.credentialFromResult(e)}function EN(e,t){return t.catch((function(t){throw t instanceof Ot&&xN(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,IN(t)),additionalUserInfo:JS(e),user:AN.getOrCreate(r)}}))}function SN(e,t){return TN.apply(this,arguments)}function TN(){return TN=vt(dt().mark((function e(t,n){var r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return EN(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),TN.apply(this,arguments)}var CN=function(){function e(t,n){C(this,e),this.resolver=n,this.auth=t.wrapped()}return P(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return EN(_N(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),AN=function(){function e(t){C(this,e),this._delegate=t,this.multiFactor=function(e){var t=Wt(e);return oT.has(t)||oT.set(t,aT._fromUser(t)),oT.get(t)}(t)}return P(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",EN(this.auth,dS(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",SN(this.auth,JT(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",EN(this.auth,mC(this._delegate,t,wN)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yN(HI(this.auth));case 2:return e.abrupt("return",DC(this._delegate,t,wN));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",EN(this.auth,vS(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return SN(this.auth,function(e,t,n){return eC.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return EN(this.auth,function(e,t,n){return vC.apply(this,arguments)}(this._delegate,e,wN))}},{key:"reauthenticateWithRedirect",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yN(HI(this.auth));case 2:return e.abrupt("return",RC(this._delegate,t,wN));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return jS.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tS(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return KS(Wt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return KS(Wt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return rC.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return qS.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return VS.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();AN.USER_MAP=new WeakMap;var NN=Ax,RN=function(){function e(t,n){if(C(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;NN(r,"invalid-api-key",{appName:t.name}),NN(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?wN:void 0;this._delegate=n.initialize({options:{persistence:DN(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(gx),this.linkUnderlyingAuth()}return P(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?AN.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ZI(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return CS.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return AS(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return TS.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=vt(dt().mark((function e(t,n){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",EN(this._delegate,PS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return US.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ME.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=vt(dt().mark((function e(){var t;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NN(cN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,LC(this._delegate,wN);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",EN(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){HI(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=PN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=PN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return OS.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return SS.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=vt(dt().mark((function e(t){var n,r;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mN(this._delegate,t),e.t0=t,e.next=e.t0===dN.SESSION?4:e.t0===dN.LOCAL?6:e.t0===dN.NONE?11:13;break;case 4:return n=hT,e.abrupt("break",14);case 6:return e.next=8,EI(MT)._isAvailable();case 8:return r=e.sent,n=r?MT:lT,e.abrupt("break",14);case 11:return n=TI,e.abrupt("break",14);case 13:return e.abrupt("return",Ix("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return EN(this._delegate,function(e){return $E.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return EN(this._delegate,fS(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return EN(this._delegate,function(e,t){return kS.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return EN(this._delegate,function(e,t,n){return fS(Wt(e),FE.credential(t,n)).catch(function(){var t=vt(dt().mark((function t(n){return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&IS(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return EN(this._delegate,function(e,t,n){return LS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return SN(this._delegate,function(e,t,n){return $T.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NN(cN(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",EN(this._delegate,dC(this._delegate,t,wN)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=vt(dt().mark((function e(t){return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NN(cN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yN(this._delegate);case 3:return e.abrupt("return",AC(this._delegate,t,wN));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return RS.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function PN(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&AN.getOrCreate(e))},error:t,complete:n}}function DN(e,t){var n=function(e,t){var n=kN();if(!n)return[];var r=CI(vN,e,t);switch(n.getItem(r)){case dN.NONE:return[TI];case dN.LOCAL:return[MT,hT];case dN.SESSION:return[hT];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(MT)||n.push(MT),"undefined"!==typeof window)for(var r=0,i=[lT,hT];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(TI)||n.push(TI),n}RN.Persistence=dN;var ON=function(){function e(){C(this,e),this.providerId="phone",this._delegate=new iC(_N(xr.auth()))}return P(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return iC.credential(e,t)}}]),e}();ON.PHONE_SIGN_IN_METHOD=iC.PHONE_SIGN_IN_METHOD,ON.PROVIDER_ID=iC.PROVIDER_ID;var LN=Ax,MN=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xr.app();C(this,e),LN(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new QT(i.auth(),t,n),this.type=this._delegate.type}return P(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Qt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new RN(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:sx,PASSWORD_RESET:cx,RECOVER_EMAIL:lx,REVERT_SECOND_FACTOR_ADDITION:fx,VERIFY_AND_CHANGE_EMAIL:hx,VERIFY_EMAIL:dx}},EmailAuthProvider:FE,FacebookAuthProvider:zE,GithubAuthProvider:qE,GoogleAuthProvider:BE,OAuthProvider:VE,SAMLAuthProvider:GE,PhoneAuthProvider:ON,PhoneMultiFactorGenerator:_A,RecaptchaVerifier:MN,TwitterAuthProvider:HE,Auth:RN,AuthCredential:nE,Error:Ot}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.6")}(xr);xr.initializeApp({apiKey:"AIzaSyBdHRIXoyj63Tv2HuY4UodRctK8DBtlVgQ",authDomain:"numeratesth.firebaseapp.com",projectId:"numeratesth",storageBucket:"numeratesth.appspot.com",messagingSenderId:"921925640041",appId:"1:921925640041:web:b0afebf10cbf8a0c7867f8",measurementId:"G-542QBB38MJ"});xr.storage();var FN=xr.firestore(),UN=(xr.auth(),function(){var e=h((0,t.useState)(""),2),n=e[0],r=e[1],i=h((0,t.useState)(""),2),a=i[0],u=i[1],s=h((0,t.useState)(""),2),c=s[0],l=s[1],f=h((0,t.useState)(""),2),d=f[0],p=f[1],v=function(){var e=vt(dt().mark((function e(t){var i;return dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,i={name:n,email:a,message:c},e.next=5,FN.collection("connects").add(i);case 5:alert("Information Successfully Added"),p("success"),r(""),u(""),l(""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error sending message:",e.t0),p("error");case 16:case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{className:"contact-us-container",children:[(0,o.jsx)("h1",{className:"contact-us-header",children:"Contact Us"}),(0,o.jsx)("p",{className:"contact-info",children:"If you have any questions or feedback, feel free to contact us:"}),(0,o.jsx)("p",{className:"contact-info",children:"Phone: 7069928282"}),(0,o.jsx)("p",{className:"contact-info",children:"Address: 3rd Floor, Maitri Building, MIT-WPU "}),(0,o.jsxs)("form",{className:"contact-form",onSubmit:v,children:[(0,o.jsx)("label",{className:"form-label",children:"Your Name"}),(0,o.jsx)("input",{type:"text",className:"form-input",value:n,onChange:function(e){return r(e.target.value)},required:!0}),(0,o.jsx)("label",{className:"form-label",children:"Your Email"}),(0,o.jsx)("input",{type:"email",className:"form-input",value:a,onChange:function(e){return u(e.target.value)},required:!0}),(0,o.jsx)("label",{className:"form-label",children:"Your Message"}),(0,o.jsx)("textarea",{className:"form-textarea",value:c,onChange:function(e){return l(e.target.value)},required:!0}),(0,o.jsx)("button",{type:"submit",className:"form-submit",children:"Send Message"}),"success"===d&&(0,o.jsx)("p",{className:"form-success",children:"Message sent successfully!"}),"error"===d&&(0,o.jsx)("p",{className:"form-error",children:"Failed to send message. Please try again later."})]})]})}),jN=function(e){var n=e.events,r=function(e){var t=new Date,n=new Date(e)-t;return{days:Math.floor(n/864e5),hours:Math.floor(n%864e5/36e5),minutes:Math.floor(n%36e5/6e4),seconds:Math.floor(n%6e4/1e3)}},i=h((0,t.useState)(n.map((function(e){return sn(sn({},e),{},{timeRemaining:r(e.date)})}))),2),a=i[0],u=i[1];return(0,t.useEffect)((function(){var e=setInterval((function(){u(n.map((function(e){return sn(sn({},e),{},{timeRemaining:r(e.date)})})))}),1e3);return function(){return clearInterval(e)}})),(0,o.jsxs)("div",{className:"upcoming-events-container",children:[(0,o.jsx)("h2",{children:"Upcoming Events"}),(0,o.jsx)("div",{className:"scroll-container",children:a.map((function(e){return(0,o.jsx)(st,{to:"./event".concat(e.id),children:(0,o.jsxs)("div",{className:"event",children:[(0,o.jsx)("h3",{children:e.name}),(0,o.jsxs)("table",{className:"countdown-table",children:[(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"Days"}),(0,o.jsx)("td",{children:"Hours"}),(0,o.jsx)("td",{children:"Minutes"}),(0,o.jsx)("td",{children:"Seconds"})]}),(0,o.jsx)("tbody",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e.timeRemaining.days}),(0,o.jsx)("td",{children:e.timeRemaining.hours}),(0,o.jsx)("td",{children:e.timeRemaining.minutes}),(0,o.jsx)("td",{children:e.timeRemaining.seconds})]})})]})]},e.name)})}))})]})},VN=["#241833","#1c282c","#2d161f","#312a2d","#312722"],zN=function(e){var t=e.cardData;return(0,o.jsxs)("div",{className:"App",children:[(0,o.jsxs)("h1",{children:["Following is the list of ",(0,o.jsx)("br",{}),"projects:"]}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("div",{className:"projects-container",children:t.map((function(e,t){return(0,o.jsx)("div",{className:"group-container",children:e.map((function(e,t){var n=function(e){return VN[e%VN.length]}(t);return(0,o.jsxs)("div",{className:"active-project-card",style:{backgroundColor:n},children:[(0,o.jsx)("h2",{children:"Active Projects"}),e.map((function(e,t){return(0,o.jsxs)("p",{children:[" ",e]},t)}))]},t)}))},t)}))})]})},BN=n.p+"static/media/cover.0e6804a54bcc44a934c3.jpg",qN=[[["1.Urinary Incontinence using machine learning","2.Effect of Sanskrit verses and chants on the human brain and its healing capacities","3.Brain signal collection and further refining method with the help of Neural Networks"],["4.Medical Card","5.Solar tree classrooms","6.EEG and EOG brain signal collection for concentration and anxiety level determination in soldiers during field work"," 7.Diagnosis of Scalp Disorders using Deep Learning Approach"],[" 8.Stock market determination with the help of MongoDB and Deep Learning and sentimental analysis"," 9.Movie recommendation software using Apache Spark framework and Databricks Community edition"," 10.Drive-eye"],[" 11.Conversion of natural language to SQL statements"," 12.Intelligent weed removal device with the help of image recognition"," 13.Depression detection with the help LLP and Twitter data"," 14.PHD tracking system"],[" 15.College inquiry chat bot"," 16.AI based lane detection system for automobiles"," 17.Gas-leakage and consumption detection in cylinders -IoT"," 18.Profanity-check on OTT platforms"," 19.Numerates Website"," 20.Peace Mate "]]],KN=function(){return(0,o.jsxs)("div",{className:"ome",children:[(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("img",{className:"cover",src:BN,alt:"loo"}),(0,o.jsxs)("div",{class:"centered",children:[(0,o.jsx)("h1",{children:"INITIATE || IDEATE || INNOVATE"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"snap l",children:"<<"}),(0,o.jsxs)("p",{children:["we dont differentiate ",(0,o.jsx)("br",{}),"unless it\u2019s ",(0,o.jsx)("span",{style:{color:"#F8C43F"},children:"calculus"})]}),(0,o.jsx)("span",{className:"snap r",children:">>"})]})]})]}),(0,o.jsx)("div",{class:"ll",children:(0,o.jsx)(jN,{events:[]})}),(0,o.jsx)(ht,{count:"6",hrenable:"none",wordColors:[]}),(0,o.jsx)(ht,{heading:"<Notches on our belt>",hfsize:"64px",hrmarl:"485px",hrmarr:"485px",spcolor:"#F8C43F",wordColors:[{word:"17 major projects",scolor:"#F7E2AD"},{word:"3 research papers",scolor:"#F7E2AD"}],description:"<br><br>Numerates club believe in skill-set building through experience and<br> hard work. This club brought in various project and research works in<br> order to help its members in growing their understanding and<br> knowledge. In past one year, the club have undertaken 17 major projects<br> and 3 research papers have been published.\r <br><br>",color:"#fff"}),(0,o.jsx)(zN,{cardData:qN}),(0,o.jsx)(ht,{count:"10",hrenable:"none",wordColors:[]})]})},GN=function(){return(0,o.jsxs)("div",{className:"ab",children:[(0,o.jsx)("br",{}),(0,o.jsx)("div",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)(ht,{count:"3",heading:"<Special Note>",hfsize:"64px",wordColors:[{word:"pandemic",scolor:"#CE1F1F"},{word:"coronavirus",scolor:"#CE1F1F"},{word:"The club is thankful for all the support and guidance received from the University and hope for further contributions to the community as whole.",scolor:"#F7E2AD"}],hrmarl:"270px",hrmarr:"270px",description:"The year from 2020 to 2022 was entirely under <br>pandemic situation. With the help and support of the<br> members, the club have survived and uplifted from <br>the pandemic. Various activities were conducted<br> despite of the outbreak of <br>coronavirus. \r <br><br><br>The club is thankful for all the support and guidance received from the University and hope for further contributions to the community as whole.",spcolor:"#F8C43F",marginLeft:"310px",marginRight:"310px",color:"#fff"}),(0,o.jsx)(ht,{marginLeft:"310px",marginRight:"310px",hrmarl:"10px",hrmarr:"10px",spcolor:"#F7E2AD",wordColors:[]}),(0,o.jsx)(ht,{marginLeft:"310px",marginRight:"310px",hrmarl:"150px",hrmarr:"150px",spcolor:"#F7E2AD",wordColors:[]}),(0,o.jsx)(ht,{count:"4",hrenable:"none",wordColors:[]}),(0,o.jsx)(ht,{heading:"Individual Achievements",spcolor:"#9C62F9",hfsize:"54px",wordColors:[]}),(0,o.jsx)(ht,{hrenable:"none",description:"\r 1.LIMIT 2020 - An Olympiad by ISI\u2019s club<br>Participants: Tarush Pandey, Tanmay Das, Sanskar Garodia, Faiz Ansari\r ",color:"#fff",hrmarl:"275px",hrmarr:"275px",wordColors:[{word:"1.LIMIT 2020 - An Olympiad by ISI\u2019s club",scolor:"#F7E2AD"}],count:"2"}),(0,o.jsx)(ht,{description:"2. Albert Einstein international scholarship test 2021 <br>- A mathematical scholarship test by AICTSD <br>Participants: Tarush Pandey, Ambika Patidar, Aniruddha Shende, Maahi Chouhan, <br>Ritu Karnawat, Tanmay Das<br>Two of the participants score 90% score in the exam.",color:"#fff",hrenable:"none",spcolor:"#9C62F9",hrmarl:"275px",hrmarr:"275px",wordColors:[{word:"2. Albert Einstein international scholarship test 2021 ",scolor:"#F7E2AD"},{word:"- A mathematical scholarship test by AICTSD",scolor:"#F7E2AD"}],count:"0"}),(0,o.jsx)(ht,{description:"3.Aryabhatta National Maths Competition 2020: <br>A Mathematical Olympiad by \u201cAICTSD\u201d<br>Participants: Kishita Pakhrani, Tarush Pandey, Faiz Ansari, <br>Stuti Jajodia, Anit Agrawal\r ",color:"#fff",hrenable:"none",spcolor:"#9C62F9",hrmarl:"275px",hrmarr:"275px",wordColors:[{word:"3.Aryabhatta National Maths Competition 2020: A Mathematical Olympiad by \u201cAICTSD\u201d",scolor:"#F7E2AD"},{word:"A Mathematical Olympiad by \u201cAICTSD\u201d",scolor:"#F7E2AD"}],count:"0"}),(0,o.jsx)(ht,{count:"6",hrenable:"none",wordColors:[]})]})},HN=n.p+"static/media/kpit.ea72320bb635f6e1d925.jpg",WN=function(){return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{class:"ll",children:(0,o.jsx)(jN,{events:[{name:"Olym\u03c0ad",date:"2023-09-01T12:00:00",id:1}]})}),(0,o.jsx)(ht,{count:"4",hrenable:"none",wordColors:[]}),(0,o.jsx)(ht,{heading:"<Past Events>",hfsize:"64px",hrmarl:"485px",hrmarr:"485px",spcolor:"#F8C43F",wordColors:[]}),(0,o.jsx)(ht,{count:"4",hrenable:"none",wordColors:[]}),(0,o.jsx)(ht,{heading:"KPIT SPARKLE",description:"<br>We got an opportunity to collaborate with KPIT to market their Sparkle Event. This event\u2019s last registration date is 30th of September. This event was supervised by Dr. Kishan Prasad Gunale sir and Dr. Pooja Gundewar ma\u2019am from ECE Department.<br><br> The online orientation was conducted on 14th September by key speaker Mr. Sahil Joseph from KPIT. In the orientation he described about the flow of the event which consists of 4 phases namely <br>1.Idea submission <br>2.Canva projection <br>3.Simulation of your model <br>4.Prototype submission<br><br>",marginLeft:"150px",marginRight:"150px",color:"#fff",pos:"left",hfsize:"54px",hrmarl:"-1px",hrmarr:"867px",spcolor:"#94D443",fds:"25px",wordColors:[{word:"14th September",scolor:"#B2E174"}]}),(0,o.jsx)("div",{className:"im",children:(0,o.jsx)("img",{src:HN,alt:"loo"})}),(0,o.jsx)(ht,{count:"10",hrenable:"none",wordColors:[]}),(0,o.jsx)(ht,{heading:"Webinars & Workshops",description:"Over the period of two years, Numerates Club have conducted webinars in order to work on the Mathematical skills and spread the knowledge of Application of Mathematics in different fields of Engineering.<br><br>We hosted a webinar on \u201cVedic Mathematics\u201d by \u201cProf. Chaitanya Patil\u201d from Speed Academy. Over 100+ students were present for the seminar and was conducted on Zoom Meeting Room. The session covered different topics of Vedic Mathematics, their applications and the problem-solving session was also conducted. The entire session was conducted for 2.5 hours and was a success.<br><br>Brainstorming project ideas and Project implementation in various competitions on university as well as National level. Various webinars regarding<br> \u201cResearch paper analysis: How to read a Research paper\u201d also have been organized in order to teach the students the method for understanding the Research paper.",color:"#fff",marginLeft:"150px",marginRight:"150px",pos:"right",hfsize:"54px",hrmarr:"1px",hrmarl:"850px",spcolor:"#94D443",fds:"25px",wordColors:[{word:"\u201cVedic Mathematics\u201d",scolor:"#5BC4FF"},{word:"\u201cResearch paper analysis: How to read a Research paper\u201d",scolor:"#5BC4FF"}]}),(0,o.jsx)(ht,{count:"10",hrenable:"none",wordColors:[]}),(0,o.jsx)(ht,{heading:"Competitions & Quizzes & Workshops",description:"The club started with the weekly quizzes for competitive mathematics exam. The quiz was conducted offline before the pandemic and the was a success.<br>Along with that, every year, \u201cNumerates Club\u201d celebrate \u201cPi Day\u201d on <br>\u201c14th of March\u201d.<br><br>In the year 2021, the Pi Day was celebrated online on <br> Cisco Webex. The program was conducted by School of Mathematics and Statistics and Numerates was the organizing committee of the event. A guest lecture on \u201cModern Portfolio Theory\u201d which was facilitated by \u201cDr. Milind Kumar Das\u201d.<br> Dr. Shubhlaxmi Joshi (Associate Dean), Dr. Veena Kshirsagar, Dr. Prashant Malavadkar, Prof. Uday Jagdale addressed students and expressed their gratitude towards Dr. Milind Kumar Das for sharing his profound knowledge with the students.<br><br>In the year 2022, Pi Day was celebrated on 14th of March across Maharashtra.<br> The Pi Day Quiz was conducted and organized by the Numerates Club under the guidance of School of Mathematics and Statistics. The quiz was conducted on Google Forms and was held in two categories of Higher Secondary and undergraduates. Total of 700 registrations were received for the Quiz. A guest lecture on\u201d Financial Mathematics and Data Analysis\u201d by the well-known professor from Indiana Wesleyan University \u201cProf. Joseph Snider\u201d. A pool prize of Rs. 10000 was also announced for the winners in both the categories.",marginLeft:"150px",marginRight:"150px",color:"#fff",pos:"left",hfsize:"54px",hrmarl:"-1px",hrmarr:"867px",spcolor:"#E78A8A",fds:"25px",wordColors:[{word:"\u201cNumerates Club\u201d",scolor:"#F7E2AD"},{word:"\u201cPi Day\u201d",scolor:"#F8C43F"},{word:"\u201c14th of March\u201d",scolor:"#F8C43F"},{word:"\u201cModern Portfolio Theory\u201d",scolor:"#5BC4FF"},{word:"The Pi Day Quiz",scolor:"#5BC4FF"}]}),(0,o.jsx)(ht,{count:"10",hrenable:"none",wordColors:[]})]})},QN=function(){return(0,o.jsxs)("div",{className:"fp",children:[(0,o.jsx)(ht,{count:"2",hrenable:"none",wordColors:[]}),(0,o.jsx)(ht,{heading:"<Future Plans>",hfsize:"64px",hrmarl:"485px",hrmarr:"485px",spcolor:"#F8C43F",wordColors:[{word:"Theoretical Mathematics",scolor:"#4E598C"},{word:"innovative project ideas",scolor:"#5F0A87"},{word:"Indian Statistical Institute",scolor:"#F5FFC6"}],description:"<br><br><br>Numerates club has decided to bring some major changes in the group<br> in order to address the mathematical aspects of all the fields there in <br>the university. The club will be focusing on the technical as well as<br> non-technical aspects along with the Theoretical Mathematics.<br><br>\r The club will be promoting innovative project ideas along with proper<br> guidance with the help of industrialist and professors from the<br> university as well as outside the university. Further, workshops<br> regarding the skills which are in demand and those which will be the<br> future requirement.<br><br>\r We are practicing for LIMIT 2022 and mathematical competition hosted<br> by Indian Statistical Institute. We are planning for our next<br> recruitment on 23rd September. After collaborating with KPIT to<br> market their Sparkle Event in our college, now we are looking forward<br> to collaborate with Larsen & Toubro (L&T) for their competition<br> (named TECHgium).<br><br>",color:"#fff"}),(0,o.jsx)(ht,{marginLeft:"310px",marginRight:"310px",hrmarl:"50px",hrmarr:"50px",spcolor:"#C3D2D5",wordColors:[]}),(0,o.jsx)(ht,{marginLeft:"310px",marginRight:"310px",hrmarl:"150px",hrmarr:"150px",spcolor:"#C3D2D5",wordColors:[]}),(0,o.jsx)(ht,{count:"10",hrenable:"none",wordColors:[]})]})},YN=function(){return(0,o.jsx)("div",{children:(0,o.jsx)(UN,{})})},XN=function(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(at,{children:[(0,o.jsx)(ft,{}),(0,o.jsxs)($e,{children:[(0,o.jsx)(Ye,{exact:!0,path:"/",element:(0,o.jsx)(KN,{})}),(0,o.jsx)(Ye,{path:"/About",element:(0,o.jsx)(GN,{})}),(0,o.jsx)(Ye,{path:"/Event",element:(0,o.jsx)(WN,{})}),(0,o.jsx)(Ye,{path:"/Teams",element:(0,o.jsx)(u,{})}),(0,o.jsx)(Ye,{path:"/Con",element:(0,o.jsx)(YN,{})}),(0,o.jsx)(Ye,{path:"/Fut",element:(0,o.jsx)(QN,{})}),(0,o.jsx)(Ye,{path:"/Event/:eventId"})]})]}),(0,o.jsx)("footer",{})]})};i.render((0,o.jsx)(XN,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.e28a0e30.js.map